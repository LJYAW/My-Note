(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video_image"],{"0126":function(t,e,i){var a=i("5f77");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("4f0604dd",a,!0,{sourceMap:!1,shadowMode:!1})},"35d6":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,"#videoCreatePay .modal-wrap[data-v-08b82939]{width:490px;height:300px;background:#fff;border-radius:5px}#videoCreatePay .modal-wrap .modal-content[data-v-08b82939]{border:none}#videoCreatePay .modal-wrap .modal-content .videoAlert[data-v-08b82939]{width:209px;height:209px}#videoCreatePay .modal-wrap .modal-content .btnWrapper div[data-v-08b82939]{width:170px;height:40px;border-radius:100px;border:1px solid #c51a1a;text-align:center;line-height:40px;margin:0 10px}",""])},"3ae7":function(t,e){t.exports="https://cdn-web.weijian.video/static/img/banner_@2.png"},"472f":function(t,e,i){"use strict";var a=i("e4bd"),n=i.n(a);n.a},"4c39":function(t,e){var i,a,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function r(t){if(a===clearTimeout)return clearTimeout(t);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:o}catch(t){i=o}try{a="function"===typeof clearTimeout?clearTimeout:s}catch(t){a=s}})();var d,l=[],u=!1,f=-1;function p(){u&&d&&(u=!1,d.length?l=d.concat(l):f=-1,l.length&&m())}function m(){if(!u){var t=c(p);u=!0;var e=l.length;while(e){d=l,l=[];while(++f<e)d&&d[f].run();f=-1,e=l.length}d=null,u=!1,r(t)}}function v(t,e){this.fun=t,this.array=e}function h(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new v(t,e)),1!==l.length||u||c(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},"5c99":function(t,e,i){var a=i("6e5c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("63f95f0d",a,!0,{sourceMap:!1,shadowMode:!1})},"5f77":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,"#videoCreateImage .modal-wrap[data-v-e3b668a4]{width:490px;height:300px;background:#fff;border-radius:5px}#videoCreateImage .modal-wrap .modal-content[data-v-e3b668a4]{border:none}#videoCreateImage .modal-wrap .modal-content .videoAlert[data-v-e3b668a4]{width:209px;height:209px}#videoCreateImage .modal-wrap .modal-content .btnWrapper div[data-v-e3b668a4]{width:170px;height:40px;border-radius:100px;border:1px solid #c51a1a;text-align:center;line-height:40px;margin:0 10px}",""])},"6e5c":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".input_min[data-v-7d6f1b2a]{width:500px;height:36px;background:#f5f5f5;border-radius:3px;border:none;padding-left:20px}[data-v-7d6f1b2a] .upload /deep/ .btn-style{color:#c51a1a!important}",""])},"731f":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".progressBar[data-v-7785cfbd]{width:573px;height:20px;background:#fff;border-radius:100px}.progressBar .over[data-v-7785cfbd]{height:14px;border-radius:100px;background-color:#c51a1a}",""])},"74c3":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".upload .btn-style[data-v-32d63144]{color:#3485e1;font-size:12px}.upload .card[data-v-32d63144]{border:1px solid #d5d5d5;border-radius:3px;color:#e7e7e7;text-align:center}.upload .card p[data-v-32d63144]{height:25px}",""])},"7e88":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex align-items-center justify-content-center flex-column"},[t._m(0),i("div",{staticClass:"mt-20px bg-white p-20px",staticStyle:{width:"1000px"}},[i("div",{staticClass:"d-flex"},[i("span",{staticClass:"nowrap fc-333 fz-16px",staticStyle:{"line-height":"36px"}},[t._v("视频标题：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.list.title,expression:"list.title"}],staticClass:"input_min",attrs:{placeholder:"请输入标题"},domProps:{value:t.list.title},on:{input:function(e){e.target.composing||t.$set(t.list,"title",e.target.value)}}})]),i("div",{staticClass:"d-flex align-items-center mt-20px"},[i("span",{staticClass:"nowrap fc-333 fz-16px",staticStyle:{"line-height":"36px"}},[t._v("上传视频：")]),i("div",{staticClass:"bc-c border border-radius-20px py-5px px-10px"},[i("upload",{ref:"child_upload",attrs:{button_name:"上传视频",file_type:"audio/mp4, video/mp4"},on:{getFileUrl:t.getFileUrl}})],1)]),i("div",{staticClass:"d-flex flex-column align-items-center"},[i("div",{staticStyle:{width:"85px"}}),i("div",{staticClass:"mt-20px d-flex justify-content-center align-items-center",staticStyle:{width:"769px",height:"435px",background:"rgba(245,245,245,1)","border-radius":"3px",border:"1px dashed rgba(185,185,185,1)"}},[t.video_options.src?t.img_show?i("uploadProgress",{attrs:{complete:t.complete}}):i("div",[i("newVideoPlay",{attrs:{video_options:t.video_options}})],1):i("div",{staticClass:"d-flex flex-column align-items-center"},[i("i",{staticClass:"iconfont iconshipin1 fc-c5 fz-40px"}),i("div",{staticClass:"fc-c5 fz-16px mt-15px"},[t._v("上传视频")])])],1),i("div",{staticClass:"fz-14px fc-999 mt-10px",staticStyle:{width:"769px","text-align":"left"}},[t._v("\n        使用微剪视频转图文，需要根据所上传视频时长扣除相应的个人账户的秒数。")])])]),i("div",{staticClass:"bg-c  border-radius-20px py-10px px-20px my-20px fz-14px fc-white cp",on:{click:function(e){return t.createImage()}}},[t._v("\n    生成图文\n  ")]),i("videoCreatePay",{attrs:{duration:t.list.duration}}),i("videoCreateImage",{attrs:{video_img:t.video_img}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 bg-white p-30px d-flex align-items-center justify-content-center"},[a("img",{staticStyle:{width:"1000px",height:"350px","border-radius":"5px"},attrs:{src:i("3ae7")}})])}],o=(i("e10e"),i("6d57"),i("ff21"),i("9dac")),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"videoCreatePay"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content "},[i("div",{staticClass:"modal-header d-flex justify-content-end"},[i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})]),i("div",{staticClass:"modal-body d-flex flex-column align-items-center justify-content-center"},[i("div",{staticClass:"fz-14px fc-333 mt-40px"},[t._v("\n          您的视频时长为"+t._s(Math.ceil(t.duration/1e3))+"秒\n        ")]),i("div",{staticClass:"fz-14px fc-333 mt-20px"},[t._v("\n          若要将视频转为图文，需扣除您账户时长"+t._s(Math.ceil(t.duration/1e3))+"秒")]),i("div",{staticClass:"fz-14px fc-333 mt-20px"},[t._v("\n          点击确定即完成支付并开始为您制作")]),i("div",{staticClass:"d-flex btnWrapper mt-40px"},[i("div",{staticClass:"fc-c fz-14px",on:{click:function(e){return t.close()}}},[t._v("取消")]),i("a",{on:{click:t.parentClear}},[i("div",{staticClass:"fc-c fz-14px btn btn-c"},[t._v("确定")])])])]),i("div",{staticClass:"modal-footer"})])])])},c=[],r={props:["duration"],data:function(){return{}},computed:{},created:function(){},methods:{parentClear:function(){this.$parent.isCreateImage(),this.close()},close:function(){this.$store.commit("modalHidden","videoCreatePay")}}},d=r,l=(i("472f"),i("9ca4")),u=Object(l["a"])(d,s,c,!1,null,"08b82939",null),f=u.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"videoCreateImage"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content "},[i("div",{staticClass:"modal-header d-flex justify-content-end"},[i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})]),i("div",{staticClass:"modal-body d-flex flex-column align-items-center justify-content-center"},[t.video_img.video_img_type?i("div",{staticClass:"fz-14px fc-333 mt-40px"},[t._v("\n          您所上传的视频正在处理中\n        ")]):t._e(),t.video_img.video_img_type?i("div",{staticClass:"fz-14px fc-333 mt-20px"},[t._v("\n          稍后 您可以在“个人中心-我的素材-视频图文”中查看")]):t._e(),t.video_img.video_img_type?i("div",{staticClass:"d-flex btnWrapper mt-40px"},[i("div",{staticClass:"fc-c fz-14px",on:{click:t.parentClear}},[t._v("确定")]),i("a",{on:{click:function(e){return t.goToPersonalCenter(1)}}},[i("div",{staticClass:"fc-c fz-14px btn btn-c"},[t._v("去查看")])])]):t._e(),t.video_img.video_img_type?t._e():i("div",{staticClass:"fz-18px fc-333 mt-20px",staticStyle:{"font-weight":"bold"}},[t._v("\n          余额不足\n        ")]),t.video_img.video_img_type?t._e():i("div",{staticClass:"fz-12px fc-999 mt-40px",staticStyle:{"line-height":"19px"}},[t._v("\n          您所上传视频时长为"+t._s(t.video_img.dec_seconds)+"秒，您的余额为"+t._s(t.video_img.user_seconds)+"秒，不足以抵扣\n        ")]),t.video_img.video_img_type?t._e():i("div",{staticClass:"fz-12px fc-999 mt-10px",staticStyle:{"line-height":"19px"}},[t._v("\n          生成视频图文所用时长。请您去个人中心完成充值。\n        ")]),t.video_img.video_img_type?t._e():i("div",{staticClass:"d-flex btnWrapper mt-40px"},[i("div",{staticClass:"fc-c fz-14px",on:{click:t.parentClear}},[t._v("取消")]),i("a",{on:{click:function(e){return t.goToPersonalCenter(2)}}},[i("div",{staticClass:"fc-c fz-14px btn btn-c"},[t._v("去充值")])])])]),i("div",{staticClass:"modal-footer"})])])])},m=[],v={props:["video_img"],data:function(){return{}},computed:{can_publish:function(){return JSON.parse(localStorage.getItem("userData")).can_publish}},created:function(){},methods:{parentClear:function(){this.close()},close:function(){this.$parent.clear(),this.$store.commit("modalHidden","videoCreateImage")},goToPersonalCenter:function(t){this.close(),1==t?this.$router.push({path:"/personal_center?menu_index=5&tab_index=1"}):this.$router.push({path:"/personal_center/personal_pay"})}}},h=v,g=(i("df49"),Object(l["a"])(h,p,m,!1,null,"e3b668a4",null)),x=g.exports,_=i("b751"),b={data:function(){return{complete:"",img_show:!1,video_img:{video_img_type:"",dec_seconds:"",user_seconds:""},video_options:{width:769,height:435,src:""},list:{title:"",upload_file:"",duration:""}}},computed:{},created:function(){},methods:{getFileUrl:function(t,e){this.list.upload_file="",this.list.duration="",this.complete=0,this.list.upload_file=e,this.video_options.src=t;var i=new Audio(t),a=this;i.addEventListener("loadedmetadata",(function(t){a.getDuration(1e3*i.duration)}))},getDuration:function(t){this.list.duration=t},getUpload:function(){var t=this;document.getElementById("upload_flie").value=null,axios.defaults.timeout=6e5;var e=new FormData;Object.keys(this.list).forEach((function(i){e.append(i,t.list[i])})),axios.post("/upload/push",e,{onUploadProgress:function(e){var i=e.loaded/e.total*100|0;t.complete=i}}).then((function(e){"0000"==e.data.code?(t.video_img.video_img_type=!0,t.video_img.dec_seconds=e.data.data.dec_seconds,t.video_options.src=e.data.data.jd_url,100==t.complete&&setTimeout((function(){t.$store.commit("modalShow","videoCreateImage"),t.img_show=!1}),1e3)):"6008"==e.data.code?(t.video_img.user_seconds=e.data.data.user_seconds,t.video_img.video_img_type=!1,t.video_img.dec_seconds=Math.ceil(t.list.duration/1e3),100==t.complete&&setTimeout((function(){t.$store.commit("modalShow","videoCreateImage"),t.img_show=!1}),1e3)):t.$store.commit("alertMsg",e.data.msg)}),(function(t){}))},isCreateImage:function(){this.img_show=!0,this.getUpload()},createImage:function(){this.list.title&&this.list.upload_file?this.$store.commit("modalShow","videoCreatePay"):this.$store.commit("alertMsg","视频标题和视频不能为空")},clear:function(){this.img_show=!1,this.list.title="",this.list.upload_file="",this.list.duration=null,this.complete=0,this.video_options.src=""}},components:{upload:o["a"],videoCreatePay:f,videoCreateImage:x,uploadProgress:_["a"]}},w=b,y=(i("e71c"),Object(l["a"])(w,a,n,!1,null,"7d6f1b2a",null));e["default"]=y.exports},8650:function(t,e,i){var a=i("74c3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("0111b3ae",a,!0,{sourceMap:!1,shadowMode:!1})},"963f":function(t,e,i){"use strict";var a=i("8650"),n=i.n(a);n.a},"9dac":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex align-items-center upload"},[i("input",{ref:"inputer",staticStyle:{display:"none"},attrs:{type:"file",id:"upload_flie",multiple:"",accept:t.file_type},on:{change:function(e){return t.addImg(e)}}}),t.id_card?i("div",{staticClass:"card mr-20px cp d-flex align-items-center",style:{width:t.id_card.width,height:t.id_card.height},on:{click:function(e){return t.updataImg()}}},[i("div",{staticClass:"flex-1 "},[i("i",{staticClass:"d-block iconfont iconadd fz-70px"}),i("p",[t._v(t._s(t.button_name))])])]):i("a",{staticClass:"fc-bb d-flex flex-column align-items-center",on:{click:function(e){return t.updataImg()}}},[i("div",{staticClass:"btn-style"},[t._v(t._s(t.button_name))])])])},n=[],o=(i("ed63"),i("8cf2"),i("163d"),{props:{id_card:{width:String,height:String},button_name:{type:String,default:"点击上传"},file_type:{type:String,default:"image/png, image/jpeg, image/gif, image/jpg"},single_election:{type:Boolean,default:!0},flieLength:{type:Number,default:9},videoMaxSize:{type:Number,default:500}},data:function(){return{fil:null,progress:""}},components:{},computed:{},watch:{},methods:{addImg:function(t){var e=null;e=this.$refs.inputer,this.fil=e.files[0];var i=this.fil.size/1024;if(this.limitFileSize(i)){var a=new FileReader;a.readAsDataURL(this.fil);var n=this;a.onload=function(){n.$emit("getImgToBase64",a.result)},this.single_election?this.getObjectURL(this.fil):this.fileList(t.target)}},fileList:function(t){var e=t.files,i=[];if(e.length<=this.flieLength){for(var a=0;a<e.length;a++){var n=null;void 0!=window.createObjectURL?n=window.createObjectURL(e[a]):void 0!=window.URL?n=window.URL.createObjectURL(e[a]):void 0!=window.webkitURL&&(n=window.webkitURL.createObjectURL(e[a])),i.push(n)}this.$emit("getFileUrl",i,e)}},limitFileSize:function(t){var e=1024e3;return this.file_type.includes("image")&&(e=2048),this.file_type.includes("video")&&(e=1024*this.videoMaxSize),!(t>e)||(this.$message.error("请选择 ".concat(e/1024,"MB 以内的文件")),!1)},getObjectURL:function(t){var e=null;void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),this.$emit("getFileUrl",e,t)},getImgToBase64:function(t,e){var i=document.createElement("canvas"),a=i.getContext("2d"),n=new Image;n.crossOrigin="Anonymous",n.onload=function(){i.height=n.height,i.width=n.width,a.drawImage(n,0,0);var t=i.toDataURL("image/png");this.$emit("getImgToBase64",t),i=null}},updataImg:function(){this.$refs.inputer.click()}},created:function(){},mounted:function(){}}),s=o,c=(i("963f"),i("9ca4")),r=Object(c["a"])(s,a,n,!1,null,"32d63144",null);e["a"]=r.exports},aa42:function(t,e,i){var a=i("731f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("8328eb60",a,!0,{sourceMap:!1,shadowMode:!1})},b27f:function(t,e,i){(function(t){var a="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(n.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new o(n.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i("de8a"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("9edd"))},b751:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"d-flex flex-column align-items-center justify-content-center",staticStyle:{width:"570px",height:"360px"}},[i("div",{staticClass:"fc-333 fz-14px text"},[t._v("视频正在上传中，请稍后...")]),i("div",{staticClass:"progressBar mt-20px mb-20px d-flex align-items-center"},[i("div",{staticClass:"over",style:"width:"+t.complete+"%; transition: width 1s;"})]),i("div",{staticClass:"fc-333 fz-14px text"},[t._v(t._s(t.complete)+"%")])])])},n=[],o=(i("b27f"),{props:["complete"],data:function(){return{num:0,timer:null}},computed:{},created:function(){},mounted:function(){},methods:{}}),s=o,c=(i("d05b"),i("9ca4")),r=Object(c["a"])(s,a,n,!1,null,"7785cfbd",null);e["a"]=r.exports},d05b:function(t,e,i){"use strict";var a=i("aa42"),n=i.n(a);n.a},de8a:function(t,e,i){(function(t,e){(function(t,i){"use strict";if(!t.setImmediate){var a,n=1,o={},s=!1,c=t.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(t);r=r&&r.setTimeout?r:t,"[object process]"==={}.toString.call(t.process)?p():m()?v():t.MessageChannel?h():c&&"onreadystatechange"in c.createElement("script")?g():x(),r.setImmediate=d,r.clearImmediate=l}function d(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var s={callback:t,args:e};return o[n]=s,a(n),n++}function l(t){delete o[t]}function u(t){var e=t.callback,a=t.args;switch(a.length){case 0:e();break;case 1:e(a[0]);break;case 2:e(a[0],a[1]);break;case 3:e(a[0],a[1],a[2]);break;default:e.apply(i,a);break}}function f(t){if(s)setTimeout(f,0,t);else{var e=o[t];if(e){s=!0;try{u(e)}finally{l(t),s=!1}}}}function p(){a=function(t){e.nextTick((function(){f(t)}))}}function m(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function v(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"===typeof i.data&&0===i.data.indexOf(e)&&f(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),a=function(i){t.postMessage(e+i,"*")}}function h(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},a=function(e){t.port2.postMessage(e)}}function g(){var t=c.documentElement;a=function(e){var i=c.createElement("script");i.onreadystatechange=function(){f(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function x(){a=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,i("9edd"),i("4c39"))},df49:function(t,e,i){"use strict";var a=i("0126"),n=i.n(a);n.a},e4bd:function(t,e,i){var a=i("35d6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("4a6b34a3",a,!0,{sourceMap:!1,shadowMode:!1})},e71c:function(t,e,i){"use strict";var a=i("5c99"),n=i.n(a);n.a}}]);