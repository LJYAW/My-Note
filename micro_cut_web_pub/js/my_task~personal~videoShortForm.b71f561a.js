(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["my_task~personal~videoShortForm"],{"398b":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex flex-wrap platfrom_list"},[t.small_logo?i("div",{staticClass:"d-flex sm-content"},t._l(t.list_temp,(function(e,n){return i("div",{key:n,staticClass:"cp platfrom_content mr-5px",on:{click:function(i){return t.active(n,e)}}},[e.active?i("div",{staticClass:"is-action"}):t._e(),i("div",[i("img",{attrs:{src:e.logo,width:"50px",alt:""}})])])})),0):i("div",t._l(t.list_temp,(function(e,n){return i("div",{key:n,class:["border","bc-gray","m-5px","cp","platfrom_content",{"bc-blue":e.active},{changeItem:e.rt_expired}],staticStyle:{width:"140px",position:"relative"},on:{click:function(i){return t.active(n,e)}}},[i("div",{staticClass:"bg-contain text-left px-3px border-bottom bc-b-gray py-3px",staticStyle:{width:"100%",height:"32px","line-height":"32px"}},[i("img",{attrs:{src:e.logo,alt:""}})]),i("div",{staticClass:"ml-3px fz-12px fc-333 text-ellipsi py-10px px-3px"},[t._v("\n        "+t._s(e.account_name)+"\n        "),i("span",{staticClass:"ml-5px"},[t._v(t._s(e.mark))])]),e.rt_expired?i("div",{staticClass:"mongolia"},[i("p",{staticClass:"fz-12px"},[t._v("您绑定的企鹅号已过期")]),i("p",{staticClass:"fz-12px btn",on:{click:function(i){return t.resetBound(e)}}},[t._v("重新绑定")])]):t._e()])})),0),t.just_show?t._e():i("div",{staticClass:"mt-10px ml-10px"},[t.is_add?i("div",{staticStyle:{flex:"2 8 auto"}},[i("div",{staticClass:"d-flex"},[i("span",{staticClass:"cp fz-12px fc-c pr-5px",on:{click:function(e){return t.getChannelReturn()}}},[t._v("取消")]),i("span",{staticClass:"cp fz-12px fc-c pl-5px",on:{click:function(e){return t.getSure()}}},[t._v("确定")])]),!t.bound_platform_list.length>0&&t.is_main_account?i("div",{staticClass:"bg-gray py-3px px-5px fz-12px mt-10px"},[t._v("\n        未绑定第三方平台账号，请前往个人中心进行绑定，"),i("router-link",{staticClass:"fc-c",attrs:{to:"/personal_center?menu_index=3"}},[t._v("去绑定？")])],1):!t.bound_platform_list.length>0&&!t.is_main_account?i("div",{staticClass:"bg-gray py-3px px-5px fz-12px mt-10px"},[t._v("\n        未绑定第三方平台账号，请联系管理员进行绑定\n      ")]):t._e()]):i("span",{staticClass:"fz-12px fc-c cp nowrap ",staticStyle:{flex:"2 4 auto"},on:{click:function(e){return t.getChannel()}}},[t._v("添加渠道")])])])},a=[],o=(i("cdbe"),i("6d57"),i("ff21"),{name:"platFormlist",props:{my_platform_list:{type:Array,default:function(){return[]}},pub_platform_account_ids:{type:Array,default:function(){return[]}},filter_publish_platform:{type:Array,default:function(){return[]}},just_show:{default:!1},small_logo:{default:!1},default_selected_list:{type:Array,default:function(){return[]}}},data:function(){return{list_temp:[],list_temp_copy:[],is_add:!1,bound_platform_list:[],is_main_account:JSON.parse(localStorage.getItem("userData")).is_main_account}},components:{},computed:{},watch:{default_selected_list:{handler:function(t,e){var i=this;this.default_selected_list.length>0&&this.default_selected_list.forEach((function(t){i.list_temp.push(t),i.list_temp_copy.push(t)}))},deep:!0,immediate:!0}},methods:{getChannel:function(){this.is_add=!0,this.list_temp=[];var t=this.bound_platform_list;this.filter_publish_platform.length>0&&this.filter_publish_platform.forEach((function(e){t=t.filter((function(t){return t.third_account_info_id!=e}))})),this.list_temp.forEach((function(e){t=t.filter((function(t){return t.third_account_info_id!=e.third_account_info_id}))})),this.list_temp=this.list_temp.concat(t)},getChannelReturn:function(){this.is_add=!1,this.list_temp=this.list_temp_copy},getSure:function(){this.is_add=!1,this.list_temp=this.list_temp.filter((function(t){return t.active})),this.list_temp_copy=this.list_temp,this.setDefaultData()},setDefaultData:function(){var t=[],e=[];this.list_temp.forEach((function(i){t.push(i.third_account_info_id),e.push(i.platform_name)})),this.$emit("getPlatFormList",t,e)},active:function(t,e){e.rt_expired||this.is_add&&(this.list_temp[t].active=!this.list_temp[t].active,this.$set(this.list_temp,t,this.list_temp[t],this.list_temp[t].start_time=!0))},resetBound:function(t){"企鹅号"==t.platform_name&&(window.open(t.authorize_url,"_blank"),localStorage.setItem("thirdData",JSON.stringify(t)))},setBoundPlatForm:function(){var t=this;this.pub_platform_account_ids.length>0&&(this.list_temp=[],this.pub_platform_account_ids.forEach((function(e){var i=t.bound_platform_list.filter((function(t){return e===t.third_account_info_id}));i[0].active=!0,i.length>0&&t.list_temp.push(i[0])}))),this.setDefaultData()},getBoundPlatformList:function(){var t=this;this.$get("/user/bound-platform-list").then((function(e){if("0000"==e.data.code){var i=e.data.data;i.forEach((function(t){t.active=!1})),t.bound_platform_list=i,t.setBoundPlatForm(),t.$emit("getBoundPlatformList")}}))}},created:function(){this.list_temp=this.my_platform_list,this.list_temp.forEach((function(t){t.active=!0})),this.getBoundPlatformList()},mounted:function(){}}),s=o,l=(i("3a2d"),i("9ca4")),c=Object(l["a"])(s,n,a,!1,null,"55f9693a",null);e["a"]=c.exports},"3a2d":function(t,e,i){"use strict";var n=i("e8b5"),a=i.n(n);a.a},"74c3":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".upload .btn-style[data-v-32d63144]{color:#3485e1;font-size:12px}.upload .card[data-v-32d63144]{border:1px solid #d5d5d5;border-radius:3px;color:#e7e7e7;text-align:center}.upload .card p[data-v-32d63144]{height:25px}",""])},8650:function(t,e,i){var n=i("74c3");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("0111b3ae",n,!0,{sourceMap:!1,shadowMode:!1})},"963f":function(t,e,i){"use strict";var n=i("8650"),a=i.n(n);a.a},"9dac":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex align-items-center upload"},[i("input",{ref:"inputer",staticStyle:{display:"none"},attrs:{type:"file",id:"upload_flie",multiple:"",accept:t.file_type},on:{change:function(e){return t.addImg(e)}}}),t.id_card?i("div",{staticClass:"card mr-20px cp d-flex align-items-center",style:{width:t.id_card.width,height:t.id_card.height},on:{click:function(e){return t.updataImg()}}},[i("div",{staticClass:"flex-1 "},[i("i",{staticClass:"d-block iconfont iconadd fz-70px"}),i("p",[t._v(t._s(t.button_name))])])]):i("a",{staticClass:"fc-bb d-flex flex-column align-items-center",on:{click:function(e){return t.updataImg()}}},[i("div",{staticClass:"btn-style"},[t._v(t._s(t.button_name))])])])},a=[],o=(i("ed63"),i("8cf2"),i("163d"),{props:{id_card:{width:String,height:String},button_name:{type:String,default:"点击上传"},file_type:{type:String,default:"image/png, image/jpeg, image/gif, image/jpg"},single_election:{type:Boolean,default:!0},flieLength:{type:Number,default:9},videoMaxSize:{type:Number,default:500}},data:function(){return{fil:null,progress:""}},components:{},computed:{},watch:{},methods:{addImg:function(t){var e=null;e=this.$refs.inputer,this.fil=e.files[0];var i=this.fil.size/1024;if(this.limitFileSize(i)){var n=new FileReader;n.readAsDataURL(this.fil);var a=this;n.onload=function(){a.$emit("getImgToBase64",n.result)},this.single_election?this.getObjectURL(this.fil):this.fileList(t.target)}},fileList:function(t){var e=t.files,i=[];if(e.length<=this.flieLength){for(var n=0;n<e.length;n++){var a=null;void 0!=window.createObjectURL?a=window.createObjectURL(e[n]):void 0!=window.URL?a=window.URL.createObjectURL(e[n]):void 0!=window.webkitURL&&(a=window.webkitURL.createObjectURL(e[n])),i.push(a)}this.$emit("getFileUrl",i,e)}},limitFileSize:function(t){var e=1024e3;return this.file_type.includes("image")&&(e=2048),this.file_type.includes("video")&&(e=1024*this.videoMaxSize),!(t>e)||(this.$message.error("请选择 ".concat(e/1024,"MB 以内的文件")),!1)},getObjectURL:function(t){var e=null;void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),this.$emit("getFileUrl",e,t)},getImgToBase64:function(t,e){var i=document.createElement("canvas"),n=i.getContext("2d"),a=new Image;a.crossOrigin="Anonymous",a.onload=function(){i.height=a.height,i.width=a.width,n.drawImage(a,0,0);var t=i.toDataURL("image/png");this.$emit("getImgToBase64",t),i=null}},updataImg:function(){this.$refs.inputer.click()}},created:function(){},mounted:function(){}}),s=o,l=(i("963f"),i("9ca4")),c=Object(l["a"])(s,n,a,!1,null,"32d63144",null);e["a"]=c.exports},b27f:function(t,e,i){(function(t){var n="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(a.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i("de8a"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("9edd"))},b2ab:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".platfrom_list[data-v-55f9693a]{line-height:1}.platfrom_list .sm-content .platfrom_content[data-v-55f9693a]{position:relative}.platfrom_list .sm-content .platfrom_content .is-action[data-v-55f9693a]{position:absolute;width:100%;height:100%;border:2px solid #c51a1a}.changeItem[data-v-55f9693a]{border:1px solid hsla(0,0%,89%,.5);position:relative}.changeItem .bg-contain[data-v-55f9693a],.changeItem .text-ellipsi[data-v-55f9693a],.changeItem img[data-v-55f9693a]{opacity:.5!important}.mongolia[data-v-55f9693a]{position:absolute;left:0;top:0;width:100%;height:100%;display:none;padding:8px 0;background:rgba(0,0,0,.6);text-align:center}.mongolia p[data-v-55f9693a]{color:#fff;line-height:24px;text-align:center}.mongolia .btn[data-v-55f9693a]{padding:0 10px;height:25px;background:#3485e1;border-radius:100px}.changeItem:hover .mongolia[data-v-55f9693a]{display:block}",""])},de8a:function(t,e,i){(function(t,e){(function(t,i){"use strict";if(!t.setImmediate){var n,a=1,o={},s=!1,l=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?p():m()?h():t.MessageChannel?_():l&&"onreadystatechange"in l.createElement("script")?g():v(),c.setImmediate=r,c.clearImmediate=d}function r(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var s={callback:t,args:e};return o[a]=s,n(a),a++}function d(t){delete o[t]}function u(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n);break}}function f(t){if(s)setTimeout(f,0,t);else{var e=o[t];if(e){s=!0;try{u(e)}finally{d(t),s=!1}}}}function p(){n=function(t){e.nextTick((function(){f(t)}))}}function m(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function h(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"===typeof i.data&&0===i.data.indexOf(e)&&f(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),n=function(i){t.postMessage(e+i,"*")}}function _(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},n=function(e){t.port2.postMessage(e)}}function g(){var t=l.documentElement;n=function(e){var i=l.createElement("script");i.onreadystatechange=function(){f(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function v(){n=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,i("9edd"),i("4c39"))},e8b5:function(t,e,i){var n=i("b2ab");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("02cd2158",n,!0,{sourceMap:!1,shadowMode:!1})}}]);