(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["medicalVideoReload"],{"0788":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-breadcrumb",[i("el-breadcrumb-item",{attrs:{to:"/personal_center?menu_index=10&baidu_statistics=true"}},[t._v("百度统计")]),i("el-breadcrumb-item",[t._v("百度详情")])],1),i("div",{staticClass:"main my-20px"},[i("div",{staticClass:"d-flex justify-content-between"},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),i("el-button",{staticClass:"ml-auto",staticStyle:{width:"80px"},attrs:{size:"small",type:"primary",round:""},on:{click:function(e){return t.getMeicalStatistic()}}},[t._v("搜索")])],1),i("el-table",{staticClass:"mt-20px",attrs:{data:t.list}},[i("el-table-column",{attrs:{prop:"date",label:"发布时间"}}),i("el-table-column",{attrs:{prop:"pv",label:"页面pv",width:"180"}}),i("el-table-column",{attrs:{prop:"uv",label:"页面uv","min-width":"120px"}}),i("el-table-column",{attrs:{prop:"play_pv",label:"视频pv","min-width":"120px"}}),i("el-table-column",{attrs:{prop:"play_uv",label:"视频uv","min-width":"120px"}})],1)],1),i("el-pagination",{staticClass:"mt-20px d-flex justify-content-end",attrs:{"current-page":t.page,"page-sizes":[10,40,80,100],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},s=[],o=i("5fef"),l=i("6f9c"),n={name:"baiduStatics",props:{},data:function(){return{list:[],date:[],pickerOptions:o["a"],btn_loading:!1,page:1,limit:30,total:0}},computed:{},watch:{},methods:{handleSizeChange:function(t){this.limit=t,this.getMeicalStatistic()},handleCurrentChange:function(t){this.page=t,this.getMeicalStatistic()},setDate:function(){var t=new Date,e=new Date;e.setTime(e.getTime()-6048e5),this.date=[Object(l["a"])(e),Object(l["a"])(t)]},getMeicalStatistic:function(){var t=this,e=this.$route.query.super_medical_id;this.date||this.setDate(),this.$get("/super-medical/medical-statistic-daily-data",{params:{page:this.page,limit:this.limit,super_medical_id:e,start_time:this.date[0],end_time:this.date[1]}}).then((function(e){"0000"==e.data.code&&(t.list=e.data.data.list,t.total=e.data.data.total)}))},search:function(){}},components:{},created:function(){this.setDate(),this.getMeicalStatistic()},mounted:function(){}},d=n,r=i("9ca4"),c=Object(r["a"])(d,a,s,!1,null,"7182d16a",null);e["default"]=c.exports},1162:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".video-list[data-v-596e1ffa]{background-color:#fff;padding:25px}.video-list .details-list[data-v-596e1ffa]{margin-top:20px;color:#101010}.video-list .details-list li[data-v-596e1ffa]{display:flex;margin-bottom:30px;font-size:14px}.video-list .details-list .title[data-v-596e1ffa]{display:block;min-width:90px;max-width:90px;color:#4a4a4a}.video-list .details-list .des[data-v-596e1ffa]{color:#4a4a4a}",""])},"157f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"video-list mb-100px"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:this.active_status.path}}},[t._v(t._s(this.active_status.name))]),i("el-breadcrumb-item",[t._v("视频详情")])],1),t.status_loading?t._e():i("div",{staticClass:"my-20px"},[i("div",{staticClass:"d-flex"},[i("div",[i("newVideoPlay",{key:t.video_options.src,attrs:{video_options:t.video_options}}),i("upload",{staticClass:"btn fz-14px mt-10px",attrs:{button_name:"上传视频",file_type:"audio/mp4, video/mp4"},on:{getFileUrl:t.getVideoUrl}})],1),i("div",{staticClass:"ml-20px d-flex flex-column"},[i("p",{staticClass:"text-left mb-8px"},[t._v("视频封面")]),i("img",{attrs:{src:this.video_details.cover_pic_url,width:"230",height:"130"}}),i("upload",{staticClass:"btn fz-14px mt-10px",attrs:{button_name:"上传封面"},on:{getFileUrl:t.getImageUrl}})],1)]),i("div",[i("ul",{staticClass:"details-list"},["审核不通过"==t.active_status.name?i("li",{},[i("span",{staticClass:"title",staticStyle:{"min-width":"120px","max-width":"120px"}},[t._v("审核不通过原因:")]),i("span",{staticClass:"des w-100 ml-10px",staticStyle:{color:"#c51a1a"}},[t._v(t._s(t.video_details.mark))])]):t._e(),i("li",[i("span",{staticClass:"title"},[t._v("视频标题:")]),i("span",{staticClass:"des w-100"},[i("el-input",{attrs:{type:"text",maxlength:"30"},model:{value:t.video_details.title,callback:function(e){t.$set(t.video_details,"title",e)},expression:"video_details.title"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("视频简介:")]),i("div",{staticClass:"w-100"},[i("el-input",{attrs:{type:"textarea",rows:4,maxlength:"12000",placeholder:""},model:{value:t.video_details.intro,callback:function(e){t.$set(t.video_details,"intro",e)},expression:"video_details.intro"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("视频标签:")]),i("tagList",{attrs:{tag_list:t.video_details.tags}})],1),i("li",[i("span",{staticClass:"title"},[t._v("视频来源:")]),i("el-radio",{attrs:{label:"1"},model:{value:t.video_details.origin_type,callback:function(e){t.$set(t.video_details,"origin_type",e)},expression:"video_details.origin_type"}},[t._v("原创")]),i("el-radio",{attrs:{label:"2"},model:{value:t.video_details.origin_type,callback:function(e){t.$set(t.video_details,"origin_type",e)},expression:"video_details.origin_type"}},[t._v("定制")])],1),i("li",[i("span",{staticClass:"title"},[t._v("医生头像:")]),i("img",{staticClass:"ob-cover",staticStyle:{"border-radius":"50%"},attrs:{src:this.video_details.doctor_head_portrait,width:"50",height:"50"}}),t.user_data.is_main_account||t.user_data.can_publish?i("el-button",{staticClass:"ml-30px",attrs:{type:"text"},on:{click:t.editDoctor}},[t._v("编辑医生信息")]):t._e(),i("el-button",{staticClass:"ml-30px",attrs:{type:"text"},on:{click:t.selectDoctor}},[t.doctor_list_show?i("span",[t._v("关闭选择医生")]):i("span",[t._v("选择医生")])])],1),t.doctor_list_show?i("li",[i("doctorTable",{on:{getDoctorData:t.getDoctorData}})],1):t._e(),i("li",[i("span",{staticClass:"title"},[t._v("医生姓名:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_name,callback:function(e){t.$set(t.video_details,"doctor_name",e)},expression:"video_details.doctor_name"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("医生科室:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_department,callback:function(e){t.$set(t.video_details,"doctor_department",e)},expression:"video_details.doctor_department"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("医生级别:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_job_title,callback:function(e){t.$set(t.video_details,"doctor_job_title",e)},expression:"video_details.doctor_job_title"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("所在医院:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_legal_name,callback:function(e){t.$set(t.video_details,"doctor_legal_name",e)},expression:"video_details.doctor_legal_name"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("医院级别:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_organization_level,callback:function(e){t.$set(t.video_details,"doctor_organization_level",e)},expression:"video_details.doctor_organization_level"}})],1)])])]),"待审核"==this.active_status.name&&(t.user_data.is_main_account||t.user_data.can_publish)?i("div",{staticClass:"ml-100px"},[i("el-button",{attrs:{disabled:t.btn_status_loading,type:"primary",round:"",size:"small"},on:{click:function(e){return t.approved("审核通过")}}},[t._v("审核通过")]),i("el-button",{attrs:{disabled:t.btn_status_loading,round:"",size:"small"},on:{click:function(e){return t.showMarksModel()}}},[t._v("审核不通过")])],1):t._e(),"待审核"!=this.active_status.name||t.user_data.can_publish?t._e():i("div",{staticClass:"ml-100px"},[i("el-button",{attrs:{disabled:t.btn_status_loading,type:"primary",round:"",size:"small"},on:{click:function(e){return t.approved("重新提交审核")}}},[t._v("重新提交审核")])],1),"审核不通过"==this.active_status.name?i("div",{staticClass:"ml-100px"},[i("el-button",{attrs:{disabled:t.btn_status_loading,type:"primary",round:"",size:"small"},on:{click:function(e){return t.approved("重新提交审核")}}},[t._v("重新提交审核")])],1):t._e()]),t.isShow?i("modicalDoctorM",{attrs:{doctor:t.doctor,doctorUrl:t.doctorUrl}}):t._e(),i("medicalNoneModel",{on:{setMarks:t.setMarks}})],1),t.uploadProgressIsShow&&t.video_file?i("div",{staticClass:"modal-upload d-flex justify-content-center align-items-center"},[i("uploadProgress",{attrs:{complete:t.complete}})],1):t._e()])},s=[],o=(i("cc57"),i("f548"),i("9dac")),l=i("cc4b"),n=i("2dd7"),d=i("311f"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-input",{staticClass:"input-with-select",staticStyle:{width:"280px"},attrs:{placeholder:"请输入内容",size:"mini"},nativeOn:{keydown:function(e){return t.getdoctorlist(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getdoctorlist},slot:"append"})],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.doctorList,height:"250"}},[i("el-table-column",{attrs:{fixed:"",prop:"name",label:"医生头像:",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:t.row.head_portrait,width:"40",height:"40"}})]}}])}),i("el-table-column",{attrs:{fixed:"",prop:"name",label:"医生姓名:",width:"100"}}),i("el-table-column",{attrs:{prop:"department",label:"医生科室:",width:"130"}}),i("el-table-column",{attrs:{prop:"job_title",label:"医生级别:",width:"120"}}),i("el-table-column",{attrs:{prop:"legal_name",label:"所在医院:",width:"180"}}),i("el-table-column",{attrs:{prop:"organization_level",label:"医院级别:",width:"130"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[t._v("选择")])]}}])})],1)],1)},c=[],u={props:{},data:function(){return{doctorList:[],keyword:"",page:1,limit:50}},computed:{},watch:{},methods:{handleEdit:function(t,e){this.$emit("getDoctorData",e)},getdoctorlist:function(){var t=this,e={page:this.page,limit:this.limit,name:this.keyword};this.$get("/medicalvideo/getdoctorlist",{params:e}).then((function(e){"0000"==e.data.code?t.doctorList=e.data.data.list:t.$store.commit("alertMsg",e.data.msg)}))}},components:{},created:function(){this.getdoctorlist()},mounted:function(){}},p=u,m=i("9ca4"),_=Object(m["a"])(p,r,c,!1,null,"e71a21e8",null),v=_.exports,f=i("b751"),h={props:{},name:"videoDetails",data:function(){return{uploadProgressIsShow:!1,btn_status_loading:!1,video_details:{},video_file:null,video_options:{width:500,height:320,src:""},complete:0,user_data:JSON.parse(localStorage.getItem("userData")),isShow:!1,status_loading:!0,doctorUrl:"",doctor:{},doctor_list_show:!1,approve_status:""}},computed:{text_size:function(){var t=JSON.parse(JSON.stringify(this.video_details.intro.replace(/[\r\n]/g,"")));return t.length},active_status:function(){var t=this.$route.query.active_status,e=this.$route.query.tab_index;return{path:"/personal_center?menu_index=".concat(e,"&active_status=").concat(t),name:t}}},watch:{},methods:{getDoctorData:function(t){var e=t,i=t.head_portrait,a=t.id;this.getDoctorId(e,i,a)},selectDoctor:function(){this.doctor_list_show=!this.doctor_list_show},showMarksModel:function(){this.$store.commit("modalShow","medicalNoneModel")},setMarks:function(t){this.video_details.mark=t,this.approved("审核不通过")},approved:function(t){var e=this,i=new FormData;this.btn_status_loading=!0,this.uploadProgressIsShow=!0,i.append("super_medical_id",this.$route.query.video_id),i.append("title",this.video_details.title),i.append("intro",this.video_details.intro),i.append("tags[]",this.video_details.tags),i.append("doctor_id",this.video_details.doctor_id),i.append("origin_type",this.video_details.origin_type),this.video_file&&i.append("video",this.video_file),this.video_details.cover&&i.append("cover_pic",this.video_details.cover),this.video_details.mark&&i.append("mark",this.video_details.mark),"重新提交审核"!==t&&i.append("approve_status",t),this.$axios.post("/super-medical/medical-video",i,{timeout:6e6,onUploadProgress:function(t){var i=t.loaded/t.total*100|0;e.complete=i}}).then((function(t){"0000"==t.data.code&&(e.$store.commit("alertMsg","操作成功"),setTimeout((function(){e.routerReturn(),window.close();var t=new BroadcastChannel("alienzhou");t.postMessage("refresh")}),1e3))})).catch((function(t){e.$store.commit("alertMsg","操作失败")})).finally((function(){e.video_details.mark="",e.btn_status_loading=!1,e.uploadProgressIsShow=!1,e.complete=0}))},routerReturn:function(){this.$router.push({path:"/personal_center",query:{menu_index:10}})},editDoctor:function(){var t=this;this.doctorUrl=this.video_details.doctor_head_portrait,this.doctor.name=this.video_details.doctor_name,this.doctor.legal_name=this.video_details.doctor_legal_name,this.doctor.department=this.video_details.doctor_department,this.doctor.organization_level=this.video_details.doctor_organization_level,this.doctor.job_title=this.video_details.doctor_job_title,this.doctor.id=this.video_details.doctor_id,this.img_url=this.video_details.cover_url,this.isShow=!0,this.$nextTick((function(){t.$store.commit("modalShow","medicalDoctorModel")}))},getDoctorId:function(t,e,i){this.video_details.doctor_head_portrait=e,this.video_details.doctor_name=t.name,this.video_details.doctor_legal_name=t.legal_name,this.video_details.doctor_department=t.department,this.video_details.doctor_organization_level=t.organization_level,this.video_details.doctor_job_title=t.job_title,this.video_details.doctor_id=t.id,this.img_url=this.video_details.cover_url,this.doctorUrl=e},getVideoUrl:function(t,e){document.getElementById("upload_flie").value=null,this.video_options.src=t,this.video_file=e},getImageUrl:function(t,e){this.video_details.cover=e,this.video_details.cover_pic_url=t},getVideoDetails:function(){var t=this,e=this.$route.query.video_id;this.status_loading=!0,this.$get("/super-medical/detail",{params:{super_medical_id:e}}).then((function(e){"0000"==e.data.code?(t.video_details=e.data.data,t.video_options.src=t.video_details.video_url):t.$store.commit("alertMsg",e.data.msg),t.status_loading=!1}))}},components:{upload:o["a"],tagList:l["a"],modicalDoctorM:n["a"],medicalNoneModel:d["a"],doctorTable:v,uploadProgress:f["a"]},created:function(){this.getVideoDetails()},mounted:function(){}},g=h,b=(i("fd60"),Object(m["a"])(g,a,s,!1,null,null,null));e["default"]=b.exports},"1d4c":function(t,e,i){var a=i("5777");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("85cb").default;s("3a310345",a,!0,{sourceMap:!1,shadowMode:!1})},"20e1":function(t,e,i){var a=i("5f0b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("85cb").default;s("4cbc1849",a,!0,{sourceMap:!1,shadowMode:!1})},"298e":function(t,e,i){"use strict";var a=i("b8de"),s=i.n(a);s.a},"2dd7":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"medicalDoctorModel"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",[t._v("编辑医师信息")]),i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"fz-14px mt-20px d-flex align-items-center"},[i("div",{staticClass:"nowrap"},[t._v("医生姓名：")]),i("el-input",{staticStyle:{width:"400px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("div",{staticClass:"fz-14px mt-20px d-flex align-items-center"},[i("div",{staticClass:"nowrap"},[t._v("医生头像：")]),i("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{width:"50px",height:"50px",background:"rgba(220,220,220,1)","border-radius":"50%"}},[t.img_url?i("img",{staticStyle:{width:"100%",height:"100%","border-radius":"50%"},attrs:{src:t.img_url}}):i("span",{staticClass:"iconfont iconzhanghao fz-30px fc-white"})]),i("div",{staticClass:"bc-blue border border-radius-20px ml-20px m-10px d-flex justify-content-center",staticStyle:{height:"30px",width:"70px","line-height":"30px","text-align":"center"}},[i("upload",{attrs:{button_name:"上传"},on:{getFileUrl:t.getImageUrl}})],1)]),i("div",{staticClass:"fz-14px mt-20px d-flex align-items-center"},[i("div",{staticClass:"nowrap"},[t._v("医生科室：")]),i("el-input",{staticStyle:{width:"400px"},model:{value:t.form.department,callback:function(e){t.$set(t.form,"department",e)},expression:"form.department"}})],1),i("div",{staticClass:"fz-14px mt-20px d-flex align-items-center"},[i("div",{staticClass:"nowrap"},[t._v("医生级别：")]),i("el-input",{staticStyle:{width:"400px"},model:{value:t.form.job_title,callback:function(e){t.$set(t.form,"job_title",e)},expression:"form.job_title"}})],1),i("div",{staticClass:"fz-14px mt-20px d-flex align-items-center"},[i("div",{staticClass:"nowrap"},[t._v("所在医院：")]),i("el-input",{staticStyle:{width:"400px"},model:{value:t.form.legal_name,callback:function(e){t.$set(t.form,"legal_name",e)},expression:"form.legal_name"}})],1),i("div",{staticClass:"fz-14px mt-20px d-flex align-items-center"},[i("div",{staticClass:"nowrap"},[t._v("医院级别：")]),i("el-input",{staticStyle:{width:"400px"},model:{value:t.form.organization_level,callback:function(e){t.$set(t.form,"organization_level",e)},expression:"form.organization_level"}})],1),i("div",{staticClass:"d-flex justify-content-center mt-30px"},[i("div",{staticClass:"bg-blue fc-white fz-4px d-flex align-items-center justify-content-center fz-14px",staticStyle:{width:"100px",height:"35px","border-radius":"100px"},on:{click:function(e){return t.submit()}}},[t._v("确定")])])]),i("div",{staticClass:"modal-footer"})])])])},s=[],o=(i("e10e"),i("6d57"),i("ff21"),i("9dac")),l={props:["doctor","doctorUrl"],data:function(){return{img_url:"",form:{department:"",id:"",job_title:"",legal_name:"",name:"",organization_level:"",head_portrait:""}}},components:{upload:o["a"]},methods:{getImageUrl:function(t,e){this.form.head_portrait=e,this.img_url=t},submit:function(){var t=this,e=new FormData;Object.keys(this.form).forEach((function(i){""!==t.form[i]&&null!==t.form[i]&&void 0!==t.form[i]&&e.append(i,t.form[i])})),this.$post("/medicalvideo/editdoctor",e).then((function(e){"0000"==e.data.code?(t.$parent.getDoctorId(t.form,t.img_url,e.data.data.id),t.close()):e.data.msg&&t.$store.commit("alertMsg",e.data.msg)}),(function(t){}))},close:function(){this.$store.commit("modalHidden","medicalDoctorModel")}},created:function(){},mounted:function(){this.form=JSON.parse(JSON.stringify(this.doctor)),this.img_url=this.doctorUrl}},n=l,d=i("9ca4"),r=Object(d["a"])(n,a,s,!1,null,null,null);e["a"]=r.exports},"311f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"medicalNoneModel"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",[t._v("说明")]),i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})]),i("div",{staticClass:"modal-body d-flex flex-column"},[i("el-input",{staticClass:"mt-10px",attrs:{type:"textarea",placeholder:"请输入审核未通过原因"},model:{value:t.mark,callback:function(e){t.mark=e},expression:"mark"}}),i("div",{staticClass:"d-flex justify-content-center mt-30px"},[i("div",{staticClass:"bg-blue fc-white fz-4px d-flex align-items-center justify-content-center fz-14px",staticStyle:{width:"100px",height:"35px","border-radius":"100px"},on:{click:function(e){return t.submit()}}},[t._v("确定")])])],1)]),i("div",{staticClass:"modal-footer"})])])},s=[],o={data:function(){return{mark:""}},components:{},methods:{close:function(){this.$store.commit("modalHidden","medicalNoneModel")},submit:function(){this.mark?(this.$emit("setMarks",this.mark),this.mark="",this.close()):this.$store.commit("alertMsg","请输入审核不通过原因")}},created:function(){},mounted:function(){}},l=o,n=(i("cb46"),i("9ca4")),d=Object(n["a"])(l,a,s,!1,null,null,null);e["a"]=d.exports},"35b0":function(t,e,i){"use strict";var a=i("1d4c"),s=i.n(a);s.a},"4c39":function(t,e){var i,a,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function n(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function d(t){if(a===clearTimeout)return clearTimeout(t);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:o}catch(t){i=o}try{a="function"===typeof clearTimeout?clearTimeout:l}catch(t){a=l}})();var r,c=[],u=!1,p=-1;function m(){u&&r&&(u=!1,r.length?c=r.concat(c):p=-1,c.length&&_())}function _(){if(!u){var t=n(m);u=!0;var e=c.length;while(e){r=c,c=[];while(++p<e)r&&r[p].run();p=-1,e=c.length}r=null,u=!1,d(t)}}function v(t,e){this.fun=t,this.array=e}function f(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new v(t,e)),1!==c.length||u||n(_)},v.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},5482:function(t,e,i){var a=i("cd03");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("85cb").default;s("2b296430",a,!0,{sourceMap:!1,shadowMode:!1})},5777:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".video-list[data-v-5ea7ff6d]{background-color:#fff;padding:25px}.video-list .details-list[data-v-5ea7ff6d]{margin-top:20px;color:#101010}.video-list .details-list li[data-v-5ea7ff6d]{display:flex;margin-bottom:15px;font-size:14px}.video-list .details-list .title[data-v-5ea7ff6d]{display:block;min-width:90px;max-width:90px;color:#4a4a4a}.video-list .details-list .des[data-v-5ea7ff6d]{color:#4a4a4a}",""])},"5f0b":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".modal-upload{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;background:rgba(0,0,0,.3)}.modal-upload .text{color:#fff}.video-list{background-color:#fff;padding:25px}.video-list .details-list{margin-top:20px;color:#101010}.video-list .details-list li{display:flex;margin-bottom:30px;font-size:14px}.video-list .details-list .title{display:block;min-width:90px;max-width:90px;color:#4a4a4a}.video-list .details-list .des{color:#4a4a4a}",""])},"5fef":function(t,e,i){"use strict";e["a"]={shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]}},"6db5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-list"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:this.active_status.path}}},[t._v(t._s(this.active_status.name))]),i("el-breadcrumb-item",[t._v("音频详情")])],1),t.status_loading?t._e():i("div",{staticClass:"my-20px"},[i("div",{staticClass:"d-flex"},[i("audio",{attrs:{src:this.video_details.audio_url,controls:"controls"}}),i("div",{staticClass:"ml-20px"},[i("p",{staticClass:"text-left mb-5px"},[t._v("音频封面")]),i("img",{attrs:{src:this.video_details.cover_pic_url,width:"230",height:"130"}})])]),i("div",[i("ul",{staticClass:"details-list"},[i("li",[i("span",{staticClass:"title"},[t._v("音频标题:")]),i("span",{staticClass:"des"},[t._v(t._s(this.video_details.title))])]),i("li",[i("span",{staticClass:"title"},[t._v("音频简介:")]),i("span",{staticClass:"des",staticStyle:{"line-height":"1.3"}},[t._v(t._s(this.video_details.intro))])]),i("li",[i("span",{staticClass:"title"},[t._v("音频标签:")]),t._l(this.video_details.tags,(function(e,a){return i("span",{key:a,staticClass:"des"},[t._v(t._s(e))])}))],2),i("li",[i("span",{staticClass:"title"},[t._v("音频来源:")]),i("span",{staticClass:"des"},[t._v(t._s(this.video_details.origin_type))])]),i("li",[i("span",{staticClass:"title"},[t._v("医生头像:")]),i("img",{staticClass:"ob-cover",staticStyle:{"border-radius":"50%"},attrs:{src:this.video_details.doctor_head_portrait,width:"50",height:"50"}})]),i("li",[i("span",{staticClass:"title"},[t._v("医生姓名:")]),i("span",{staticClass:"des"},[t._v(t._s(this.video_details.doctor_name))])]),i("li",[i("span",{staticClass:"title"},[t._v("医生级别:")]),i("span",{staticClass:"des"},[t._v(t._s(this.video_details.doctor_organization_level))])]),i("li",[i("span",{staticClass:"title"},[t._v("所在医院:")]),i("span",{staticClass:"des"},[t._v(t._s(this.video_details.doctor_legal_name))])])])]),i("div",[t.user_data.is_main_account||t.user_data.can_publish?i("div",{staticClass:"mt-50px"},[i("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:t.reloadApproved}},[t._v("撤回重新审核")])],1):t._e()])])],1)},s=[],o={props:{},name:"videoDetails",data:function(){return{user_data:JSON.parse(localStorage.getItem("userData")),video_details:{},video_options:{width:500,height:320,src:""},status_loading:!0}},computed:{active_status:function(){var t=this.$route.query.active_status,e=this.$route.query.tab_index;return{path:"/personal_center?menu_index=".concat(e,"&active_status=").concat(t),name:t}}},watch:{},methods:{routerReturn:function(){this.$router.push({path:"/personal_center",query:{menu_index:10}})},reloadApproved:function(){var t=this,e=this.$route.query.video_id;this.$post("/super-medical/reset-examination",{super_medical_id:e}).then((function(e){"0000"==e.data.code&&t.$store.commit("alertMsg",e.data.msg),setTimeout((function(){t.routerReturn(),window.close();var e=new BroadcastChannel("alienzhou");e.postMessage("refresh")}),1e3)}))},getVideoDetails:function(){var t=this,e=this.$route.query.video_id;this.status_loading=!0,this.$get("/super-medical/detail",{params:{super_medical_id:e}}).then((function(e){"0000"==e.data.code?(t.video_details=e.data.data,t.video_options.src=t.video_details.video_url):t.$store.commit("alertMsg",e.data.msg),t.status_loading=!1}))}},components:{},created:function(){this.getVideoDetails()},mounted:function(){}},l=o,n=(i("35b0"),i("9ca4")),d=Object(n["a"])(l,a,s,!1,null,"5ea7ff6d",null);e["default"]=d.exports},"6f9c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return s}));i("f548");function a(t){var e=new Date(t),i=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",a=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",s=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),o=i+a+s;return o}function s(t){if(!isNaN(t))t=new Date(t);var e=t.getFullYear(),i=t.getMonth()+1+"",a=t.getDate()+"";t.getHours(),t.getMinutes(),t.getSeconds();return i=i.replace(/\b\d\b/g,"0$&"),a=a.replace(/\b\d\b/g,"0$&"),e+"-"+i+"-"+a}},"731f":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".progressBar[data-v-7785cfbd]{width:573px;height:20px;background:#fff;border-radius:100px}.progressBar .over[data-v-7785cfbd]{height:14px;border-radius:100px;background-color:#c51a1a}",""])},"74c3":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".upload .btn-style[data-v-32d63144]{color:#3485e1;font-size:12px}.upload .card[data-v-32d63144]{border:1px solid #d5d5d5;border-radius:3px;color:#e7e7e7;text-align:center}.upload .card p[data-v-32d63144]{height:25px}",""])},8650:function(t,e,i){var a=i("74c3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("85cb").default;s("0111b3ae",a,!0,{sourceMap:!1,shadowMode:!1})},"963f":function(t,e,i){"use strict";var a=i("8650"),s=i.n(a);s.a},"9dac":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex align-items-center upload"},[i("input",{ref:"inputer",staticStyle:{display:"none"},attrs:{type:"file",id:"upload_flie",multiple:"",accept:t.file_type},on:{change:function(e){return t.addImg(e)}}}),t.id_card?i("div",{staticClass:"card mr-20px cp d-flex align-items-center",style:{width:t.id_card.width,height:t.id_card.height},on:{click:function(e){return t.updataImg()}}},[i("div",{staticClass:"flex-1 "},[i("i",{staticClass:"d-block iconfont iconadd fz-70px"}),i("p",[t._v(t._s(t.button_name))])])]):i("a",{staticClass:"fc-bb d-flex flex-column align-items-center",on:{click:function(e){return t.updataImg()}}},[i("div",{staticClass:"btn-style"},[t._v(t._s(t.button_name))])])])},s=[],o=(i("ed63"),i("8cf2"),i("163d"),{props:{id_card:{width:String,height:String},button_name:{type:String,default:"点击上传"},file_type:{type:String,default:"image/png, image/jpeg, image/gif, image/jpg"},single_election:{type:Boolean,default:!0},flieLength:{type:Number,default:9},videoMaxSize:{type:Number,default:500}},data:function(){return{fil:null,progress:""}},components:{},computed:{},watch:{},methods:{addImg:function(t){var e=null;e=this.$refs.inputer,this.fil=e.files[0];var i=this.fil.size/1024;if(this.limitFileSize(i)){var a=new FileReader;a.readAsDataURL(this.fil);var s=this;a.onload=function(){s.$emit("getImgToBase64",a.result)},this.single_election?this.getObjectURL(this.fil):this.fileList(t.target)}},fileList:function(t){var e=t.files,i=[];if(e.length<=this.flieLength){for(var a=0;a<e.length;a++){var s=null;void 0!=window.createObjectURL?s=window.createObjectURL(e[a]):void 0!=window.URL?s=window.URL.createObjectURL(e[a]):void 0!=window.webkitURL&&(s=window.webkitURL.createObjectURL(e[a])),i.push(s)}this.$emit("getFileUrl",i,e)}},limitFileSize:function(t){var e=1024e3;return this.file_type.includes("image")&&(e=2048),this.file_type.includes("video")&&(e=1024*this.videoMaxSize),!(t>e)||(this.$message.error("请选择 ".concat(e/1024,"MB 以内的文件")),!1)},getObjectURL:function(t){var e=null;void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),this.$emit("getFileUrl",e,t)},getImgToBase64:function(t,e){var i=document.createElement("canvas"),a=i.getContext("2d"),s=new Image;s.crossOrigin="Anonymous",s.onload=function(){i.height=s.height,i.width=s.width,a.drawImage(s,0,0);var t=i.toDataURL("image/png");this.$emit("getImgToBase64",t),i=null}},updataImg:function(){this.$refs.inputer.click()}},created:function(){},mounted:function(){}}),l=o,n=(i("963f"),i("9ca4")),d=Object(n["a"])(l,a,s,!1,null,"32d63144",null);e["a"]=d.exports},a9ed:function(t,e,i){"use strict";var a=i("5482"),s=i.n(a);s.a},aa42:function(t,e,i){var a=i("731f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("85cb").default;s("8328eb60",a,!0,{sourceMap:!1,shadowMode:!1})},b27f:function(t,e,i){(function(t){var a="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,s=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(s.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new o(s.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i("de8a"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("9edd"))},b751:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"d-flex flex-column align-items-center justify-content-center",staticStyle:{width:"570px",height:"360px"}},[i("div",{staticClass:"fc-333 fz-14px text"},[t._v("视频正在上传中，请稍后...")]),i("div",{staticClass:"progressBar mt-20px mb-20px d-flex align-items-center"},[i("div",{staticClass:"over",style:"width:"+t.complete+"%; transition: width 1s;"})]),i("div",{staticClass:"fc-333 fz-14px text"},[t._v(t._s(t.complete)+"%")])])])},s=[],o=(i("b27f"),{props:["complete"],data:function(){return{num:0,timer:null}},computed:{},created:function(){},mounted:function(){},methods:{}}),l=o,n=(i("d05b"),i("9ca4")),d=Object(n["a"])(l,a,s,!1,null,"7785cfbd",null);e["a"]=d.exports},b8de:function(t,e,i){var a=i("1162");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("85cb").default;s("04487658",a,!0,{sourceMap:!1,shadowMode:!1})},cb46:function(t,e,i){"use strict";var a=i("e400"),s=i.n(a);s.a},cc4b:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex tag-wrap align-items-center flex-wrap"},[i("ul",{staticClass:"tag-list d-flex"},t._l(t.list,(function(e,a){return i("li",{key:a,staticClass:"mr-8px tags py-2px px-3px"},[i("span",{},[t._v(t._s(e))]),i("i",{staticClass:"iconfont iconclose fz-12px",on:{click:function(e){return t.deletTag(a)}}})])})),0),i("div",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tag_name,expression:"tag_name",modifiers:{trim:!0}}],staticClass:"border-radius border input-text mr-10px",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:t.tag_name},on:{input:function(e){e.target.composing||(t.tag_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("a",{staticClass:"add-btn",on:{click:function(e){return t.addtags()}}},[t._v("添加")]),i("span",{staticClass:"word-break-all"},[t._v("\n      "+t._s(t.list.length)+" / "+t._s(t.MAX_LENGTH)+"\n    ")])])])},s=[],o=(i("163d"),{props:{tag_list:{type:Array,default:function(){return[]}},MAX_LENGTH:{type:Number,default:function(){return 5}}},data:function(){return{list:[],tag_name:""}},components:{},computed:{},watch:{},methods:{setList:function(){this.list=this.list.concat(this.tag_list)},addtags:function(){this.list.length>=this.MAX_LENGTH?this.$store.commit("alertMsg","最多只能添加".concat(this.MAX_LENGTH,"个标签")):this.tag_name&&(this.list.push(this.tag_name),this.tag_name="",this.$emit("getTagList",this.list))},deletTag:function(t){this.list.splice(t,1),this.$emit("getTagList",this.list)}},created:function(){this.setList()},mounted:function(){}}),l=o,n=(i("a9ed"),i("9ca4")),d=Object(n["a"])(l,a,s,!1,null,"393d9da3",null);e["a"]=d.exports},cc57:function(t,e,i){var a=i("064e").f,s=Function.prototype,o=/^\s*function ([^ (]*)/,l="name";l in s||i("149f")&&a(s,l,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},cd03:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".tag-wrap .tag-list .tags[data-v-393d9da3]{background:#f0f0f0;border-radius:1px;color:#333;cursor:pointer;height:20px;display:flex;align-items:center}.tag-wrap .tag-list .tags .iconfont[data-v-393d9da3]{color:#cdcdcd}.tag-wrap .tag-list .tags[data-v-393d9da3]:hover,.tag-wrap .tag-list .tags:hover .iconfont[data-v-393d9da3]{color:#c51a1a}",""])},d05b:function(t,e,i){"use strict";var a=i("aa42"),s=i.n(a);s.a},d8f6:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,"#medicalNoneModel .modal-wrap{display:flex;align-items:center;justify-content:center}#medicalNoneModel .modal-wrap .modal-content{height:350px;width:500px}#medicalNoneModel .modal-wrap .modal-content textarea{border-radius:5px;border:1px solid #d9d9d9;height:180px;resize:none;width:100%;padding:15px;color:#333}",""])},de8a:function(t,e,i){(function(t,e){(function(t,i){"use strict";if(!t.setImmediate){var a,s=1,o={},l=!1,n=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?m():_()?v():t.MessageChannel?f():n&&"onreadystatechange"in n.createElement("script")?h():g(),d.setImmediate=r,d.clearImmediate=c}function r(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var l={callback:t,args:e};return o[s]=l,a(s),s++}function c(t){delete o[t]}function u(t){var e=t.callback,a=t.args;switch(a.length){case 0:e();break;case 1:e(a[0]);break;case 2:e(a[0],a[1]);break;case 3:e(a[0],a[1],a[2]);break;default:e.apply(i,a);break}}function p(t){if(l)setTimeout(p,0,t);else{var e=o[t];if(e){l=!0;try{u(e)}finally{c(t),l=!1}}}}function m(){a=function(t){e.nextTick((function(){p(t)}))}}function _(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function v(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"===typeof i.data&&0===i.data.indexOf(e)&&p(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),a=function(i){t.postMessage(e+i,"*")}}function f(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;p(e)},a=function(e){t.port2.postMessage(e)}}function h(){var t=n.documentElement;a=function(e){var i=n.createElement("script");i.onreadystatechange=function(){p(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function g(){a=function(t){setTimeout(p,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,i("9edd"),i("4c39"))},e0d1:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-list mb-100px"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:this.active_status.path}}},[t._v(t._s(this.active_status.name))]),i("el-breadcrumb-item",[t._v("音频详情")])],1),t.status_loading?t._e():i("div",{staticClass:"my-20px"},[i("div",{staticClass:"d-flex"},[i("div",[i("audio",{attrs:{src:this.video_details.audio_url,controls:"controls"}}),i("upload",{staticClass:"btn fz-14px mt-10px",attrs:{button_name:"上传音频",file_type:"audio/mp3"},on:{getFileUrl:t.getVideoUrl}})],1),i("div",{staticClass:"ml-20px d-flex flex-column"},[i("p",{staticClass:"text-left mb-8px"},[t._v("音频封面")]),i("img",{attrs:{src:this.video_details.cover_pic_url,width:"230",height:"130"}}),i("upload",{staticClass:"btn fz-14px mt-10px",attrs:{button_name:"上传封面"},on:{getFileUrl:t.getImageUrl}})],1)]),i("div",[i("ul",{staticClass:"details-list"},["审核不通过"==t.active_status.name?i("li",{},[i("span",{staticClass:"title",staticStyle:{"min-width":"120px","max-width":"120px"}},[t._v("审核不通过原因:")]),i("span",{staticClass:"des w-100 ml-10px",staticStyle:{color:"#c51a1a"}},[t._v(t._s(t.video_details.mark))])]):t._e(),i("li",[i("span",{staticClass:"title"},[t._v("音频标题:")]),i("span",{staticClass:"des w-100"},[i("el-input",{attrs:{type:"text",maxlength:"30"},model:{value:t.video_details.title,callback:function(e){t.$set(t.video_details,"title",e)},expression:"video_details.title"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("音频简介:")]),i("div",{staticClass:"w-100"},[i("el-input",{attrs:{type:"textarea",rows:4,maxlength:"120",placeholder:""},model:{value:t.video_details.intro,callback:function(e){t.$set(t.video_details,"intro",e)},expression:"video_details.intro"}}),i("div",{staticClass:"w-100 text-right mt-5px fz-12px fc-999"},[t._v("当前字数"+t._s(t.text_size)+"个 最长不超过120个字")])],1)]),i("li",[i("span",{staticClass:"title"},[t._v("音频标签:")]),i("tagList",{attrs:{tag_list:t.video_details.tags}})],1),i("li",[i("span",{staticClass:"title"},[t._v("音频来源:")]),i("el-radio",{attrs:{label:"1"},model:{value:t.video_details.origin_type,callback:function(e){t.$set(t.video_details,"origin_type",e)},expression:"video_details.origin_type"}},[t._v("原创")]),i("el-radio",{attrs:{label:"2"},model:{value:t.video_details.origin_type,callback:function(e){t.$set(t.video_details,"origin_type",e)},expression:"video_details.origin_type"}},[t._v("定制")])],1),i("li",[i("span",{staticClass:"title"},[t._v("医生头像:")]),i("img",{staticClass:"ob-cover",staticStyle:{"border-radius":"50%"},attrs:{src:this.video_details.doctor_head_portrait,width:"50",height:"50"}}),i("el-button",{staticClass:"ml-30px",attrs:{type:"text"},on:{click:t.editDoctor}},[t._v("编辑医生信息")])],1),i("li",[i("span",{staticClass:"title"},[t._v("医生姓名:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_name,callback:function(e){t.$set(t.video_details,"doctor_name",e)},expression:"video_details.doctor_name"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("医生科室:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_department,callback:function(e){t.$set(t.video_details,"doctor_department",e)},expression:"video_details.doctor_department"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("医生级别:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_job_title,callback:function(e){t.$set(t.video_details,"doctor_job_title",e)},expression:"video_details.doctor_job_title"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("所在医院:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_legal_name,callback:function(e){t.$set(t.video_details,"doctor_legal_name",e)},expression:"video_details.doctor_legal_name"}})],1)]),i("li",[i("span",{staticClass:"title"},[t._v("医院级别:")]),i("span",{staticClass:"des"},[i("el-input",{attrs:{disabled:"",type:"text"},model:{value:t.video_details.doctor_organization_level,callback:function(e){t.$set(t.video_details,"doctor_organization_level",e)},expression:"video_details.doctor_organization_level"}})],1)])])]),"待审核"==this.active_status.name&&(t.user_data.is_main_account||t.user_data.can_publish)?i("div",{staticClass:"ml-100px"},[i("el-button",{attrs:{type:"primary",round:"",size:"small"},on:{click:function(e){return t.approved("审核通过")}}},[t._v("审核通过")]),i("el-button",{attrs:{round:"",size:"small"},on:{click:function(e){return t.showMarksModel()}}},[t._v("审核不通过")])],1):t._e(),"待审核"!=this.active_status.name||t.user_data.can_publish?t._e():i("div",{staticClass:"ml-100px"},[i("el-button",{attrs:{type:"primary",round:"",size:"small"},on:{click:function(e){return t.approved("重新提交审核")}}},[t._v("重新提交审核")])],1),"审核不通过"==this.active_status.name?i("div",{staticClass:"ml-100px"},[i("el-button",{attrs:{type:"primary",round:"",size:"small"},on:{click:function(e){return t.approved("重新提交审核")}}},[t._v("重新提交审核")])],1):t._e()]),t.isShow?i("modicalDoctorM",{attrs:{doctor:t.doctor,doctorUrl:t.doctorUrl}}):t._e(),i("medicalNoneModel",{on:{setMarks:t.setMarks}})],1)},s=[],o=(i("cc57"),i("f548"),i("9dac")),l=i("cc4b"),n=i("2dd7"),d=i("311f"),r={props:{},name:"videoDetails",data:function(){return{video_details:{},video_options:{width:500,height:320,src:""},user_data:JSON.parse(localStorage.getItem("userData")),isShow:!1,status_loading:!0,audio_file:"",doctorUrl:"",doctor:{},approve_status:""}},computed:{text_size:function(){var t=JSON.parse(JSON.stringify(this.video_details.intro.replace(/[\r\n]/g,"")));return t.length},active_status:function(){var t=this.$route.query.active_status,e=this.$route.query.tab_index;return{path:"/personal_center?menu_index=".concat(e,"&active_status=").concat(t),name:t}}},watch:{},methods:{getVideoUrl:function(t,e){document.getElementById("upload_flie").value=null,this.video_details.audio_url=t,this.audio_file=e},showMarksModel:function(){this.$store.commit("modalShow","medicalNoneModel")},setMarks:function(t){this.video_details.mark=t,this.approved("审核不通过")},approved:function(t){var e=this,i=new FormData;i.append("super_medical_id",this.$route.query.video_id),i.append("title",this.video_details.title),i.append("intro",this.video_details.intro),i.append("tags[]",this.video_details.tags),i.append("doctor_id",this.video_details.doctor_id),i.append("origin_type",this.video_details.origin_type),this.video_details.cover&&i.append("cover_pic",this.video_details.cover),this.video_details.mark&&i.append("mark",this.video_details.mark),"重新提交审核"!==t&&i.append("approve_status",t),this.audio_file&&i.append("audio",this.audio_file),this.$post("/super-medical/medical-audio",i).then((function(t){"0000"==t.data.code&&(e.$store.commit("alertMsg","操作成功"),setTimeout((function(){e.routerReturn(),window.close();var t=new BroadcastChannel("alienzhou");t.postMessage("refresh")}),1e3))})).finally((function(){e.video_details.mark=""}))},routerReturn:function(){this.$router.push({path:"/personal_center",query:{menu_index:10,audio_list:!0}})},editDoctor:function(){var t=this;this.doctorUrl=this.video_details.doctor_head_portrait,this.doctor.name=this.video_details.doctor_name,this.doctor.legal_name=this.video_details.doctor_legal_name,this.doctor.department=this.video_details.doctor_department,this.doctor.organization_level=this.video_details.doctor_organization_level,this.doctor.job_title=this.video_details.doctor_job_title,this.doctor.id=this.video_details.doctor_id,this.img_url=this.video_details.cover_url,this.isShow=!0,this.$nextTick((function(){t.$store.commit("modalShow","medicalDoctorModel")}))},getDoctorId:function(t,e,i){this.video_details.doctor_head_portrait=e,this.video_details.doctor_name=t.name,this.video_details.doctor_legal_name=t.legal_name,this.video_details.doctor_department=t.department,this.video_details.doctor_organization_level=t.organization_level,this.video_details.doctor_job_title=t.job_title,this.video_details.doctor_id=t.id,this.img_url=this.video_details.cover_url,this.doctorUrl=e},getImageUrl:function(t,e){this.video_details.cover=e,this.video_details.cover_pic_url=t},getVideoDetails:function(){var t=this,e=this.$route.query.video_id;this.status_loading=!0,this.$get("/super-medical/detail",{params:{super_medical_id:e}}).then((function(e){"0000"==e.data.code?(t.video_details=e.data.data,t.video_options.src=t.video_details.video_url):t.$store.commit("alertMsg",e.data.msg),t.status_loading=!1}))}},components:{upload:o["a"],tagList:l["a"],modicalDoctorM:n["a"],medicalNoneModel:d["a"]},created:function(){this.getVideoDetails()},mounted:function(){}},c=r,u=(i("298e"),i("9ca4")),p=Object(u["a"])(c,a,s,!1,null,"596e1ffa",null);e["default"]=p.exports},e400:function(t,e,i){var a=i("d8f6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("85cb").default;s("2a562396",a,!0,{sourceMap:!1,shadowMode:!1})},fd60:function(t,e,i){"use strict";var a=i("20e1"),s=i.n(a);s.a}}]);