(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mediaAccountDetail"],{"1b5b":function(e,t,r){"use strict";var a=r("ca95"),o=r.n(a);o.a},"3b45":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"accountDetail"},[r("div",{staticClass:"font-weight-bold fz-16px fc-333"},[e._v("账号管理-添加账号")]),r("div",{staticClass:"mt-20px p-30px bg-white"},[r("h2",[e._v("添加账号")]),r("div",{staticClass:"p-20px"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"排序",prop:"order"}},[r("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.ruleForm.order,callback:function(t){e.$set(e.ruleForm,"order",t)},expression:"ruleForm.order"}})],1),r("el-form-item",{attrs:{label:"平台",prop:"platform_id"}},[r("el-select",{attrs:{placeholder:"请选择平台",prop:"platform_id",disabled:e.disabledStatus},model:{value:e.ruleForm.platform_id,callback:function(t){e.$set(e.ruleForm,"platform_id",t)},expression:"ruleForm.platform_id"}},e._l(e.programList,(function(e){return r("el-option",{key:e.platform_id,attrs:{label:e.platform_name,value:e.platform_id}})})),1)],1),r("el-form-item",{attrs:{label:"分类",prop:"category_id"}},[r("el-select",{attrs:{placeholder:"请选择分类",prop:"category_id",disabled:e.disabledStatus},model:{value:e.ruleForm.category_id,callback:function(t){e.$set(e.ruleForm,"category_id",t)},expression:"ruleForm.category_id"}},e._l(e.classList,(function(e){return r("el-option",{key:e.category_id,attrs:{label:e.name,value:e.category_id}})})),1)],1),r("el-form-item",{attrs:{label:"账号",prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[r("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.ruleForm.nickname,callback:function(t){e.$set(e.ruleForm,"nickname",t)},expression:"ruleForm.nickname"}})],1),r("el-form-item",{attrs:{label:"手机",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),r("el-form-item",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"900px"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1)])])},o=[],l={data:function(){return{ruleForm:{order:"",platform_id:"",category_id:"",account:"",password:"",nickname:"",phone:""},disabledStatus:!1,classList:"",programList:"",rules:{order:[{required:!0,message:"请输入排序",trigger:"blur"}],platform_id:[{required:!0,message:"请选择平台",trigger:"change"}],category_id:[{required:!0,message:"请选择分类",trigger:"change"}],account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"change"},{pattern:/^1[23456789]\d{9}$/,message:"目前只支持中国大陆的手机号码"}]}}},components:{},computed:{accountID:function(){return this.$route.query.id}},watch:{},methods:{getClassList:function(){var e=this;this.$get("/video/category-list").then((function(t){"0000"==t.data.code&&(e.classList=t.data.data)}))},cardList:function(){var e=this;this.$get("/self-media/platform-list").then((function(t){"0000"==t.data.code&&(e.programList=t.data.data)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.ruleForm;t.accountID&&(t.ruleForm.account_id=t.accountID),t.$post("/self-media/account",t.ruleForm).then((function(e){var r=e.data;"0000"==e.data.code?r.data.status?(t.$message.success("保存成功！"),t.$router.push({path:"/media_account"})):t.$message.error("保存失败，请稍后再试！"):e.data.msg&&t.$store.commit("alertMsg",e.data.msg)}),(function(e){}))}))},inforList:function(){var e=this;this.$get("/self-media/account-info",{params:{account_id:this.accountID}}).then((function(t){if("0000"==t.data.code){var r=t.data.data;e.ruleForm=r,e.ruleForm.platform_id=r.self_media_platform_id}}))}},created:function(){this.getClassList(),this.cardList(),this.accountID&&(this.disabledStatus=!0,this.inforList())},mounted:function(){}},s=l,i=(r("1b5b"),r("9ca4")),c=Object(i["a"])(s,a,o,!1,null,"59f42abb",null);t["default"]=c.exports},c88e:function(e,t,r){t=e.exports=r("2365")(!1),t.push([e.i,".el-select[data-v-59f42abb],[data-v-59f42abb] .el-input{width:860px}[data-v-59f42abb] .el-select .el-input{width:100%!important}[data-v-59f42abb] .el-button{background:#3b4267;border-color:#3b4267;border-radius:50px}",""])},ca95:function(e,t,r){var a=r("c88e");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=r("85cb").default;o("0d7f88ac",a,!0,{sourceMap:!1,shadowMode:!1})}}]);