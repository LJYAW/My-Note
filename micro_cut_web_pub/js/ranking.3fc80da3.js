(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ranking"],{"3e16":function(t,a,e){"use strict";var i=e("5198"),n=e.n(i);n.a},5198:function(t,a,e){var i=e("b9c9");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("85cb").default;n("479aa2e2",i,!0,{sourceMap:!1,shadowMode:!1})},"9a33":function(t,a,e){"use strict";var i=e("2fd4"),n=e("69b3"),s=e("f63e"),r=e("e754"),l=e("eafa"),o=e("7108"),c=e("8714"),d=e("238a"),f=Math.min,u=[].push,p="split",g="length",m="lastIndex",h=4294967295,v=!d((function(){RegExp(h,"y")}));e("0aed")("split",2,(function(t,a,e,d){var _;return _="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[g]||2!="ab"[p](/(?:ab)*/)[g]||4!="."[p](/(.?)(.?)/)[g]||"."[p](/()()/)[g]>1||""[p](/.?/)[g]?function(t,a){var n=String(this);if(void 0===t&&0===a)return[];if(!i(t))return e.call(n,t,a);var s,r,l,o=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===a?h:a>>>0,v=new RegExp(t.source,d+"g");while(s=c.call(v,n)){if(r=v[m],r>f&&(o.push(n.slice(f,s.index)),s[g]>1&&s.index<n[g]&&u.apply(o,s.slice(1)),l=s[0][g],f=r,o[g]>=p))break;v[m]===s.index&&v[m]++}return f===n[g]?!l&&v.test("")||o.push(""):o.push(n.slice(f)),o[g]>p?o.slice(0,p):o}:"0"[p](void 0,0)[g]?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,i){var n=t(this),s=void 0==e?void 0:e[a];return void 0!==s?s.call(e,n,i):_.call(String(n),e,i)},function(t,a){var i=d(_,t,this,a,_!==e);if(i.done)return i.value;var c=n(t),u=String(this),p=s(c,RegExp),g=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),b=new p(v?c:"^(?:"+c.source+")",m),x=void 0===a?h:a>>>0;if(0===x)return[];if(0===u.length)return null===o(b,u)?[u]:[];var k=0,w=0,D=[];while(w<u.length){b.lastIndex=v?w:0;var y,C=o(b,v?u:u.slice(w));if(null===C||(y=f(l(b.lastIndex+(v?0:w)),u.length))===k)w=r(u,w,g);else{if(D.push(u.slice(k,w)),D.length===x)return D;for(var M=1;M<=C.length-1;M++)if(D.push(C[M]),D.length===x)return D;w=k=y}}return D.push(u.slice(k)),D}]}))},b9c9:function(t,a,e){a=t.exports=e("2365")(!1),a.push([t.i,".ranking[data-v-33190f09]{padding-top:30px}.ranking[data-v-33190f09],.ranking .ranking-wrap[data-v-33190f09]{background-color:#fff;width:100%;height:100%}.ranking .ranking-wrap .platform-list[data-v-33190f09]{background-color:#f5f5f5;color:#666;border:1px solid #ccc}.ranking .ranking-wrap .platform-list .platform-item[data-v-33190f09]{height:100%;height:50px;line-height:50px;text-align:center}.ranking .ranking-wrap .platform-list .platform-item .item[data-v-33190f09]{width:120px}.ranking .ranking-wrap .platform-list .platform-item .item.active[data-v-33190f09]{border-top:1px solid #c51a1a;background:#fff;color:#c51a1a}.ranking .ranking-wrap .platform-list .platform-item .item.active .img img[data-v-33190f09]{object-fit:contain;filter:grayscale(0);filter:none}.ranking .ranking-wrap .platform-list .platform-item .item .img[data-v-33190f09]{width:15px;height:15px;margin-right:5px}.ranking .ranking-wrap .platform-list .platform-item .item .img img[data-v-33190f09]{object-fit:cover;filter:grayscale(100%);filter:gray}.ranking .ranking-wrap .platform-list .date-select[data-v-33190f09]{height:50px;background-color:#fff}.ranking .ranking-wrap .platform-list .date-select .date-item[data-v-33190f09]{font-size:12px}.ranking .ranking-wrap .platform-list .date-select .date-item .btn[data-v-33190f09]{height:24px;line-height:24px;padding:0 13px;margin:0 10px;color:#707070;border-color:#707070;border-radius:3px}.ranking .ranking-wrap .platform-list .date-select .date-item .btn.active[data-v-33190f09]{background-color:#c51a1a;color:#fff;border-color:#c51a1a}.ranking .ranking-wrap .data-list-table[data-v-33190f09]{border:1px solid #ccc}.ranking .ranking-wrap .data-list-table .table tr:nth-child(2n) td[data-v-33190f09]{background-color:#f8f8f8}",""])},c793:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ranking"},[e("div",{staticClass:"ranking-wrap container"},[e("div",{staticClass:"platform-list d-flex flex-column"},[e("div",{staticClass:"platform-item d-flex"},t._l(this.platform_list,(function(a,i){return e("div",{key:i,class:["item d-flex justify-content-center cp",{active:t.active_index==i}],on:{click:function(e){return t.getPlatFormDataList(a,i)}}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:a.image}})]),e("div",[t._v(t._s(a.platform_name))])])})),0),e("div",{staticClass:"date-select d-flex justify-content-between align-items-center"},[e("ul",{staticClass:"d-flex date-item align-items-center h-100"},[e("li",{class:["btn btn-linght",{active:0==t.date_select_index}],on:{click:function(a){return t.setDate(0)}}},[t._v("\n            日榜\n          ")]),e("li",{class:["btn btn-linght",{active:1==t.date_select_index}],on:{click:function(a){return t.setDate(1)}}},[t._v("\n            周榜\n          ")]),e("li",{class:["btn btn-linght",{active:2==t.date_select_index}],on:{click:function(a){return t.setDate(2)}}},[t._v("\n            月榜\n          ")]),e("li",[e("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){return t.selectDate()}},model:{value:t.date,callback:function(a){t.date=a},expression:"date"}},t._l(t.date_select_list,(function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"fz-12px mr-10px"},[t._v("\n          统计数据截止："+t._s(this.last_statistic_time)+" 账号数量："+t._s(this.account_num)+"\n        ")])])]),e("div",{staticClass:"data-list-table mt-35px"},[e("table",{staticClass:"table w-100 fz-14px"},[e("tr",[e("td",[t._v("排名")]),e("td",[this.platform_list[this.active_index]?e("span",[t._v("\n              "+t._s(this.platform_list[this.active_index].platform_name)+"\n            ")]):t._e()]),e("td",[t._v("粉丝数")]),e("td",[t._v("浏览量")]),e("td",[t._v("发布视频数")])]),t.status_loading?e("tr",[e("td",{attrs:{colspan:"5"}},[e("loading")],1)]):t._l(t.data_list,(function(a,i){return e("tr",{key:i},[e("td",[e("span",[t._v("\n              "+t._s(i+1)+"\n            ")])]),e("td",[e("img",{staticStyle:{"border-radius":"50%"},attrs:{src:a.logo_url,width:"30",height:"30"}}),e("span",{staticClass:"ml-10px"},[t._v(t._s(a.nickname))])]),e("td",[e("span",{attrs:{title:a.total_fans}},[t._v("\n              "+t._s(t._f("numberToThousand")(a.total_fans))+"\n            ")])]),e("td",[e("span",{attrs:{title:a.pageview}},[t._v("\n              "+t._s(t._f("numberToThousand")(a.pageview))+"\n            ")])]),e("td",[e("span",{attrs:{title:a.published_count}},[t._v("\n              "+t._s(t._f("numberToThousand")(a.published_count))+"\n            ")])])])}))],2)])])])},n=[],s=(e("f548"),e("9a33"),{name:"ranking",props:[],data:function(){return{platform_list:[],data_list:[],active_index:0,date:"",date_select_list:[],date_select_index:2,last_statistic_time:"",account_num:0,status_loading:!1}},components:{},computed:{},watch:{},methods:{getPlatformList:function(){var t=this;return new Promise((function(a,e){t.$get("https://api-web.weijian.video/api/self-media-top-statistics/platform-list").then((function(e){(e.data.code="0000")?(t.platform_list=e.data.data,a(e.data.data)):t.$store.commit("alertMsg",e.data.msg)}))}))},getPlatFormDataList:function(t,a){var e=this;this.status_loading=!0;var i=this.date.split(",")[0],n=this.date.split(",")[1];this.active_index=a;var s={platform_id:t.platform_id,start_time:i,end_time:n};this.$get("https://api-web.weijian.video/api/self-media-top-statistics/account-list-by-platform",{params:s}).then((function(t){(t.data.code="0000")?(e.data_list=t.data.data.list,e.last_statistic_time=t.data.data.last_statistic_time,e.account_num=t.data.data.account_num):e.$store.commit("alertMsg",t.data.msg),e.status_loading=!1}))},getYearMonthDays:function(t,a){var e=new Date(t,a,0);return e.getDate()},setDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;function a(t){return t<10?"0"+t:t}function e(t){var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1,s=e.getDate();e.getHours(),e.getMinutes(),e.getSeconds();return i+"-"+a(n)+"-"+a(s)}this.date_select_index=t,this.date_select_list=[];var i=new Date,n=i.getMonth()+1,s=i.getFullYear(),r=i.getDay(),l=i.getDate();if(2==t){n-1==0&&(s-=1,n=13);for(var o=0;o<n-1;o++){var c=s+"-"+a(o+1),d=c+"-01,"+s+"-"+a(o+1)+"-"+a(this.getYearMonthDays(s,o+1));this.date_select_list.unshift({value:d,label:c})}}if(1==t){c=s+"-"+a(n)+"-"+a(l-r);for(var f=0;f<4;f++){var u=6048e5,p=new Date(c.replace(/-/g,"/")).getTime()-u*f,g=new Date(p-5184e5);this.date_select_list.push({value:e(g)+","+e(p),label:e(g)+" 至 "+e(p).substr(-5)})}}if(0==t){c=s+"-"+a(n)+"-"+a(l-1),p=new Date(c.replace(/-/g,"/")).getTime()-864e5;for(var m=864e5,h=0;h<10;h++){i=new Date(p-m*h);this.date_select_list.push({value:e(i)+","+e(i),label:e(i)})}}this.date=this.date_select_list[0].value,this.getPlatFormDataList(this.platform_list[this.active_index],this.active_index)},selectDate:function(){this.getPlatFormDataList(this.platform_list[this.active_index],this.active_index)}},created:function(){var t=this;this.getPlatformList().then((function(a){t.setDate(),t.getPlatFormDataList(a[0],0)}))},mounted:function(){}}),r=s,l=(e("3e16"),e("9ca4")),o=Object(l["a"])(r,i,n,!1,null,"33190f09",null);a["default"]=o.exports}}]);