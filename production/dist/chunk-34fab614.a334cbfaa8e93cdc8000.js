(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34fab614"],{"1a8a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("base-dialog",{attrs:{show:t.show,title:t.dialogsObj.title,width:t.dialogsObj.width,center:t.dialogsObj.center},on:{close:t.close}},[i("div",{staticClass:"video-message"},[i("div",[i("span",[t._v("频道名称:")]),i("span",[t._v(t._s(t.videoData.channel_name))])]),i("div",[i("span",[t._v("任务时间段:")]),i("span",[t._v(" "+t._s(t.videoData.start_time)+" ~ "+t._s(t.videoData.end_time)+" ")])])]),i("div",{staticClass:"play-video"},[i("VideoHls",{ref:"videoPlay",staticClass:"videoPaly",attrs:{"player-options":t.playerOptions}})],1)])},n=[],r=i("deac"),o={naem:"playVide",components:{VideoHls:r["a"]},props:{show:{type:Boolean,default:!1},videoData:{type:Object,default:function(){return{}}}},data:function(){return{playerOptions:{playbackRates:[.5,1,1.5,2],src:""},dialogsObj:{width:"500px",title:"EPG流监控",center:!0}}},computed:{},watch:{videoData:{handler:function(){this.playerOptions.src=this.videoData.url},immediate:!0}},mounted:function(){},created:function(){},methods:{close:function(){this.$emit("playFolwShow")}}},a=o,f=(i("9b5e"),i("4ac2")),u=Object(f["a"])(a,s,n,!1,null,"05bd281f",null);e["default"]=u.exports},"753d":function(t,e,i){},"9b5e":function(t,e,i){"use strict";i("753d")},deac:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-hls-wrap"},[i("video-player",{ref:"videoPlayer",staticClass:"vjs-custom-skin",attrs:{options:t.options},on:{ready:t.playerReadied,timeupdate:function(e){return t.onPlayerTimeupdate(e)},loadeddata:function(e){return t.onPlayerLoadeddata(e)}}})],1)},n=[],r=i("6767"),o=i.n(r),a={},f=o.a.registerPlugin||o.a.plugin,u=function t(){var e=this,i=this.currentTime();i<0&&(this.currentTime(0),this.play()),this._offsetEnd>0&&i>this._offsetEnd-this._offsetStart&&(this.off("timeupdate",t),this.pause(),this.trigger("ended"),this.one("play",(function(){e.on("timeupdate",t)})),this._restartBeginning?(this.trigger("loadstart"),this.currentTime(0)):this.currentTime(this._offsetEnd-this._offsetStart))},d=function(t,e){t.one("play",(function(){t.on("timeupdate",u)}))},c=function(t){var e=this;t=t||{};var i=this.constructor;this._offsetStart=parseFloat(t.start||"0"),this._offsetEnd=parseFloat(t.end||"0"),this._restartBeginning=t.restart_beginning||!1,i.__super__&&i.__super__.__offsetInit||(i.__super__={__offsetInit:!0,duration:i.prototype.duration,currentTime:i.prototype.currentTime,bufferedPercent:i.prototype.bufferedPercent,remainingTime:i.prototype.remainingTime,buffered:i.prototype.buffered},i.prototype.duration=function(){return void 0!==this._offsetEnd&&void 0!==this._offsetStart?this._offsetEnd>0?this._offsetEnd-this._offsetStart:i.__super__.duration.apply(this,arguments)-this._offsetStart:i.__super__.duration.apply(this,arguments)},i.prototype.currentTime=function(t){if(void 0!==t)return void 0!==this._offsetStart?i.__super__.currentTime.call(this,t+this._offsetStart):i.__super__.currentTime.call(this,t);if(void 0!==this._offsetStart){var e=i.__super__.currentTime.apply(this)-this._offsetStart;return this.getCache().currentTime=e,e}return i.__super__.currentTime.apply(this)},i.prototype.remainingTime=function(){return this.duration()-this.currentTime()},i.prototype.startOffset=function(){return this._offsetStart},i.prototype.endOffset=function(){return this._offsetEnd>0?this._offsetEnd:this.duration()},i.prototype.buffered=function(){for(var t=i.__super__.buffered.call(this),e=[],s=0;s<t.length;s++)e[s]=[Math.max(0,t.start(s)-this._offsetStart),Math.min(Math.max(0,t.end(s)-this._offsetStart),this.duration())];return o.a.createTimeRanges(e)}),this.ready((function(){d(e,o.a.mergeOptions(a,t))}))};f("offset",c);window.videojs=o.a,i("956c");var p={name:"VideoHls",components:{},props:{videoOffsetMs:{type:Object,default:function(){return{start_ms:0,end_ms:0}}},playerOptions:{type:Object,default:function(){return{}}}},data:function(){return{options:{height:"360",sources:[{withCredentials:!1,type:"application/x-mpegURL",src:""}],controlBar:{timeDivider:!1,durationDisplay:!1},flash:{hls:{withCredentials:!1}},html5:{hls:{withCredentials:!1}}},canPlay:!1}},computed:{player:function(){return this.$refs.videoPlayer.player}},watch:{},created:function(){this.options=Object.assign(this.playerOptions,this.options),this.options.sources[0].src=this.playerOptions.src},mounted:function(){},methods:{onPlayerLoadeddata:function(t){},playerReadied:function(t){t.tech({IWillNotUseThisInPlugins:!0}).hls;t.tech_.hls.xhr.beforeRequest=function(t){return t},this.videoOffset(t,this.videoOffsetMs)},onPlayerTimeupdate:function(t){this.$store.commit("setVideoCurrentTime",1e3*t.currentTime())},videoOffset:function(t,e){if(t){var i=this.videoOffsetMs.start_ms/1e3,s=this.videoOffsetMs.end_ms/1e3;t.offset({start:i||0,end:s||0,restart_beginning:!0})}}}},h=p,l=i("4ac2"),_=Object(l["a"])(h,s,n,!1,null,"97be1b68",null);e["a"]=_.exports}}]);