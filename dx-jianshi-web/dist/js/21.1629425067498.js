(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[21],{

/***/ "./src/views/user_info/js/common.js":
/*!******************************************!*\
  !*** ./src/views/user_info/js/common.js ***!
  \******************************************/
/*! exports provided: common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"common\", function() { return common; });\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"./node_modules/_core-js@3.15.2@core-js/modules/es.number.constructor.js\");\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/*\n * @Author: your name\n * @Date: 2020-11-18 15:27:22\n * @LastEditTime: 2020-12-10 17:00:16\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /zhijian_web/src/views/user_info/js/common.js\n */\nvar common = {\n  data: function data() {\n    return {\n      page: 1,\n      limit: 12,\n      file_type: '',\n      total: 0,\n      currentPage: 0,\n      list: [],\n      status_loading: false,\n      complete: 0\n    };\n  },\n  methods: {\n    getSearch: function getSearch() {\n      var _this = this;\n\n      var params = {\n        type: this.activeId,\n        page: this.page,\n        limit: this.limit\n      };\n      this.status_loading = true;\n      this.finished_status = true;\n      this.$get('/intelligent-creation/user-resource-list', {\n        params: params\n      }).then(function (res) {\n        if (res.data.code == '0000') {\n          var data = res.data.data;\n          _this.list = data.list;\n          _this.total = data.total;\n          _this.currentPage = Number(data.page);\n        } else {\n          _this.$alertMsg(res.data.msg);\n        }\n\n        _this.status_loading = false;\n      });\n    },\n    getVideoOptions: function getVideoOptions() {\n      var _this2 = this;\n\n      var params = {\n        tag: this.activeId,\n        page: this.page,\n        limit: this.limit\n      };\n      this.status_loading = true;\n      this.finished_status = true;\n      this.$get('/intelligent-creation/user-resource-list', {\n        params: params\n      }).then(function (res) {\n        if (res.data.code == '0000') {\n          var data = res.data.data;\n          _this2.list = data.list[_this2.activeId] || [];\n          _this2.total = data.total;\n          _this2.currentPage = Number(data.page);\n        } else {\n          _this2.$alertMsg(res.data.msg);\n        }\n\n        _this2.status_loading = false;\n      });\n    },\n    uploadResource: function uploadResource(formData) {\n      var _this3 = this;\n\n      this.$axios.post('/intelligent-creation/upload-user-resource', formData, {\n        onUploadProgress: function onUploadProgress(progressEvent) {\n          _this3.complete = progressEvent.loaded / progressEvent.total * 100 | 0;\n        }\n      }).then(function (res) {\n        if (res.data.code === '0000') {\n          _this3.getData();\n        } else {\n          _this3.$alertMsg('上传失败，请重新上传');\n        }\n      })[\"catch\"](function (err) {\n        console.error(err);\n      });\n    },\n    // 删除素材\n    deleteItem: function deleteItem(item) {\n      var _this4 = this;\n\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        // 删除本地素材\n        _this4.$deleteRun('/intelligent-creation/delete-user-resource', {\n          data: {\n            id: item.id\n          }\n        }).then(function (res) {\n          if (res.data.code == '0000') {\n            _this4.$alertMsg('删除成功');\n\n            _this4.getData();\n          } else {\n            _this4.$alertMsg(res.data.msg);\n          }\n        });\n      })[\"catch\"](function () {\n        _this4.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.page = val;\n      this.getData();\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/views/user_info/js/common.js?");

/***/ })

}]);