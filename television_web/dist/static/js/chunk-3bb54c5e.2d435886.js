(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bb54c5e"],{"1f1b":function(t,e,a){},8827:function(t,e,a){"use strict";a("1f1b")},fb6f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"homePage-wrap"},[a("div",{staticClass:"main-wrap"},[a("p",{staticClass:"title"},[t._v(" 广电规划院品控表下载")]),a("p",{staticClass:"desc"},[t._v("请选择下载日期，默认选择前一天")]),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("div",{staticClass:"btn-wrap"},[a("base-btn",{staticClass:"btn",attrs:{size:"big"},on:{click:function(e){return t.exportData("EPG")}}},[a("span",{staticClass:"i-span"},[a("i",{staticClass:"el-icon-bottom"})]),t._v("EPG 品控表 ")]),a("base-btn",{staticClass:"btn",attrs:{size:"big"},on:{click:function(e){return t.exportData("广告")}}},[a("span",{staticClass:"i-span"},[a("i",{staticClass:"el-icon-bottom"})]),t._v("广告品控表 ")])],1)],1)])},s=[],c=a("5530");a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("5319"),a("ac1f");function i(t){if(!isNaN(t))var e=new Date(t);var a=e.getFullYear(),n=e.getMonth()+1+"",s=e.getDate()+"";return n=n.replace(/\b\d\b/g,"0$&"),s=s.replace(/\b\d\b/g,"0$&"),a+"-"+n+"-"+s}var o=a("28de"),r=a("2f62"),l={name:"Home",components:{},props:{},data:function(){return{date:""}},computed:Object(c["a"])({timeDefault:function(){var t=new Date,e=new Date(t.getTime())-864e5;return i(e)}},Object(r["b"])(["token"])),watch:{},created:function(){this.date=this.timeDefault},mounted:function(){},methods:{exportData:function(t){var e=this,a="EPG"===t?"/epg/epg-export":"/epg-ad/export";Object(o["a"])({method:"get",url:a,headers:{token:this.token},params:{day:this.date},responseType:"blob"}).then((function(a){if(a.data.type){var n=new Blob([a.data],{type:"application/vnd.ms-excel"}),s=document.createElement("a");s.href=URL.createObjectURL(n),s.setAttribute("download",t+"品控表-"+e.date+".xlsx"),s.click(),s=null,e.$message.success("导出成功")}else e.$message.warning(a.data.msg)})).catch((function(t){console.log(t)}))}}},d=l,u=(a("8827"),a("2877")),p=Object(u["a"])(d,n,s,!1,null,null,null);e["default"]=p.exports}}]);