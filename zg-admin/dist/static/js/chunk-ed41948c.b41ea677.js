(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed41948c"],{2401:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"select-com-btn"},[t.show&&!t.loading?s("BaseDialog",{attrs:{show:t.show,title:"产品选择",width:"590px"},on:{"update:show":function(e){t.show=e},close:t.close}},[s("div",{staticClass:"com-wrap"},[s("div",{staticClass:"left"},[s("p",{staticClass:"title"},[t._v("分类")]),s("el-input",{attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入内容 按回车键搜索",size:"mini",clearable:""},on:{change:t.searchClass},model:{value:t.classKeyword,callback:function(e){t.classKeyword=e},expression:"classKeyword"}}),s("div",{staticClass:"class-list"},[s("ul",{class:["wrap"]},t._l(t.classList,(function(e,a){return s("li",{key:e.id,class:["item",{active:t.activeIndex===a}],on:{click:function(s){return t.setCategoryList(e,a)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])],1),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.categoryStatus,expression:"categoryStatus"}],staticClass:"right"},[s("p",{staticClass:"title"},[t._v("单品")]),s("el-input",{attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入内容 按回车键搜索",size:"mini",clearable:""},on:{change:t.searchSingle},model:{value:t.singleKeyword,callback:function(e){t.singleKeyword=e},expression:"singleKeyword"}}),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"class-list",staticStyle:{overflow:"auto"}},[s("div",{staticClass:"box"},[s("el-radio-group",{staticClass:"li",model:{value:t.checkboxGroup,callback:function(e){t.checkboxGroup=e},expression:"checkboxGroup"}},t._l(t.categoryList,(function(e){return s("el-radio",{key:e.id,staticClass:"li-checkbox",attrs:{label:e}},[s("div",{staticClass:"list"},[s("BaseImage",{staticClass:"banner",attrs:{src:e.main_img}}),s("div",{staticClass:"des-wrap"},[s("p",{staticClass:"name"},[t._v(t._s(e.name))]),s("p",{staticClass:"des"},[t._v("ID: "+t._s(e.id))]),s("p",{staticClass:"total"},[t._v("库存数量："+t._s(e.inventory))])]),s("p",{staticClass:"price"},[t._v("￥"+t._s(e.price))])],1)])})),1)],1),0!=t.goodTotal&&t.goodTotal===t.categoryList.length?s("p",{staticClass:"not-more"},[t._v("没有更多了~")]):t._e()]),!t.categoryStatus&&t.categoryList.length<1?s("div",{staticClass:"empty"},[t._v(" 暂无产品 ")]):t._e()],1)]),s("div",{staticClass:"btn-wrap"},[s("el-button",{staticStyle:{width:"254px"},attrs:{type:"primary",size:"mini"},on:{click:t.submit}},[t._v("确认")])],1)]):t._e()],1)},i=[],c=s("e9ff"),o=s("06c4"),n=(s("2eeb"),s("b4fb"),s("e186"),s("52c1")),r={name:"ClassDialog",components:{},props:{},data:function(){return{loading:!0,classKeyword:"",singleKeyword:"",show:!1,logindNumber:0,keyword:"",activeIndex:0,categoryList:[],categoryStatus:!0,checkboxGroup:{},activeClassData:{},classList:[],goodTotal:0,goodPage:1,goodLimit:10}},computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])("bdapp",[])),{},{showComDialog:function(){return this.$store.state.bdapp.showComDialog}}),watch:{showComDialog:function(t){this.show=t,t&&this.getClassData()},activeClassData:{handler:function(){this.checkboxGroup={}},deep:!0}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getClassData();case 2:t.classList.length>0&&t.getCategorList();case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{submit:function(){this.$bus.$emit("getActiveClassData",{activeClassData:this.activeClassData,checkboxGroup:this.checkboxGroup}),this.close()},close:function(){this.show=!1,this.activeClassData={},this.checkboxGroup={},this.activeIndex=0,this.$store.commit("bdapp/SHOW_COM_DIALOG",!1)},searchClass:function(){this.classList=[],this.getClassData()},searchSingle:function(){this.logindNumber=0,this.categoryList=[],this.getCategorList(),this.getCategorList()},selectHandel:function(t,e){this.$set(this.categoryList[e],"checked",!t.checked)},setCategoryList:function(t,e){this.activeIndex=e,this.activeClassData=this.classList[e],this.goodPage=1,this.categoryList=[],this.getCategorList()},load:function(){this.goodPage+=1,this.getCategorList()},getClassData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,s={name:t.classKeyword,page:1,limit:1e3,key:""},e.next=4,t.$get("/admin/categories",s);case 4:a=e.sent,a.err,i=a.res,t.classList=i.data.list,t.activeClassData=t.classList[0],t.loading=!1;case 10:case"end":return e.stop()}}),e)})))()},getCategorList:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,a,i,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.logindNumber++,t.logindNumber<2&&(t.categoryStatus=!0),s=t.classList[t.activeIndex].id,a={name:t.singleKeyword,page:t.goodPage,limit:t.goodLimit,category_id:s},e.next=6,t.$get("/admin/goods",a);case 6:i=e.sent,i.err,c=i.res,o=c.data.list.map((function(t){return t.checked=!1,t})),t.goodTotal=c.data.total,t.categoryList=t.categoryList.concat(o),t.categoryStatus=!1;case 13:case"end":return e.stop()}}),e)})))()}}},l=r,u=(s("2ec2"),s("cba8")),d=Object(u["a"])(l,a,i,!1,null,"5f39528e",null);e["default"]=d.exports},"2ec2":function(t,e,s){"use strict";s("a524")},a524:function(t,e,s){}}]);