(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47092d79"],{"3e4b":function(t,e,a){"use strict";a("f7f3")},"4e44":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"examine-machine"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"频道"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择频道",clearable:""},model:{value:t.form.channel_id,callback:function(e){t.$set(t.form,"channel_id",e)},expression:"form.channel_id"}},t._l(t.channelData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"播出日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",clearable:!1},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("base-btn",{attrs:{size:"big"},on:{click:t.search}},[t._v("查询")]),a("p",[t._v(" 更新时间:"+t._s(t.updated_at)+" "),a("base-btn",{staticClass:"search-btn",on:{click:t.getUpdateData}},[t._v("触发数据分析")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"machine-wrap"},[a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t._l(t.tabList,(function(t,e){return a("el-tab-pane",{key:e,attrs:{label:t.title+"("+t.num+")",name:String(t.title_id)}})})),t.tableData.length?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table_loading,expression:"table_loading"}],attrs:{data:t.tableData,height:"calc(100vh - 235px)"}},[a("el-table-column",{attrs:{prop:"channel_name",label:"频道",width:"150"}}),a("el-table-column",{attrs:{prop:"duration",label:"时长",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.getTime(e.row.duration-e.row.ad_duration).split(".")[0])+" ")]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{label:"片段",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.getDateTime(e.row.start_time))+"-"+t._s(t.getDateTime(e.row.end_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("base-btn",{attrs:{type:"text"},on:{click:function(a){return t.toDetail(e.row)}}},[t._v("查看详情")])]}}])})],1):a("div",{staticClass:"no-data"},[a("p",[t._v("暂无数据")])])],2)],1)],1)},i=[],l=a("1c03"),r=(a("e18c"),a("52c1")),c=a("a59a"),o=a("ed08"),s={components:{},props:{},data:function(){return{form:{channel_id:null,date:""},tableData:[],tabList:[],activeName:null,updated_at:"",loading:!0,table_loading:!0}},computed:Object(l["a"])(Object(l["a"])({},Object(r["b"])(["channelData"])),{},{timeDefault:function(){var t=new Date,e=new Date(t.getTime());return Object(c["a"])(e)}}),watch:{},created:function(){this.channelData.length||this.$store.dispatch("channel/getChannelData"),this.form.date=this.timeDefault,this.getData()},mounted:function(){},methods:{search:function(){this.getData()},handleClick:function(){this.getInfoList()},getData:function(){var t=this;this.loading=!0;var e={date:this.form.date,channel_id:this.form.channel_id||null};this.$get("/examine/epg-list",e).then((function(e){t.updated_at=e.data.updated_at,t.tabList=e.data.list,t.activeName=t.tabList.length?String(t.tabList[0].title_id):null,t.tableData=[],t.activeName&&t.getInfoList()})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},getUpdateData:function(){var t=this,e={date:this.form.date,channel_id:this.form.channel_id||null};this.$get("/examine/epg",e).then((function(e){t.updated_at=e.data.updated_at,t.tabList=e.data.list,t.activeName=String(t.tabList[0].title_id),t.activeName=t.tabList.length?String(t.tabList[0].title_id):null,t.tableData=[],t.activeName&&t.getInfoList()}))},getInfoList:function(){var t=this;this.table_loading=!0;var e={date:this.form.date,title_id:this.activeName,channel_id:this.form.channel_id||null,page:1,limit:1e4};this.$get("/examine/epg-info",e).then((function(e){t.tableData=e.data.list})).catch((function(t){console.log(t)})).finally((function(){t.table_loading=!1}))},getTime:function(t){return Object(c["c"])(t)},getDateTime:function(t){return Object(o["c"])(t)},toDetail:function(t){this.$router.push({path:"/EPG/examine-count/examine-task",query:{id:t.channel_id,date:this.form.date,tid:t.id}})}}},u=s,d=(a("3e4b"),a("4ac2")),f=Object(d["a"])(u,n,i,!1,null,null,null);e["default"]=f.exports},"73c3":function(t,e,a){var n=a("4fda");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},8980:function(t,e,a){var n=a("d88d"),i=a("c7e6"),l=a("2732"),r=Math.ceil,c=function(t){return function(e,a,c){var o,s,u=String(l(e)),d=u.length,f=void 0===c?" ":String(c),h=n(a);return h<=d||""==f?u:(o=h-d,s=i.call(f,r(o/f.length)),s.length>o&&(s=s.slice(0,o)),t?u+s:s+u)}};t.exports={start:c(!1),end:c(!0)}},"898e":function(t,e,a){"use strict";var n=a("1c8b"),i=a("8980").start,l=a("73c3");n({target:"String",proto:!0,forced:l},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},a59a:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return l}));a("e35a"),a("5e9f"),a("0d7a"),a("513c");function n(t){var e,a=parseInt(t%864e5/36e5),n=parseInt(t%36e5/6e4),i=t%6e4/1e3;return e=(a<10?"0"+a:a)+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i),e}function i(t){if(!isNaN(t))var e=new Date(t);var a=e.getFullYear(),n=e.getMonth()+1+"",i=e.getDate()+"";return n=n.replace(/\b\d\b/g,"0$&"),i=i.replace(/\b\d\b/g,"0$&"),a+"-"+n+"-"+i}function l(t){var e=t.split(":"),a=36e5*Number(e[0]),n=6e4*Number(e[1]),i=1e3*Number(e[2]);return Math.floor((a+n+i)/60)}},ed08:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return l})),a.d(e,"a",(function(){return r}));var n=a("01d6");a("e35a"),a("5e9f"),a("84c2"),a("1c2e"),a("e18c"),a("898e"),a("0d7a"),a("08ba");function i(t,e){if(0===arguments.length||!t)return null;var a,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(n["a"])(t)?a=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var l={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=i.replace(/{([ymdhisa])+}/g,(function(t,e){var a=l[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return r}function l(t,e){if(0===arguments.length||!t)return null;var a,i=e||"{h}:{i}:{s}";"object"===Object(n["a"])(t)?a=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var l={h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=i.replace(/{([hisa])+}/g,(function(t,e){var a=l[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return r}function r(t){parseInt(t/864e5);var e=parseInt(t%864e5/36e5),a=parseInt(t%36e5/6e4),n=parseInt(t%6e4/1e3),i=parseInt(t-36e5*e-6e4*a-1e3*n);return{hours:e,minutes:a,seconds:n,ms:i}}},f7f3:function(t,e,a){}}]);