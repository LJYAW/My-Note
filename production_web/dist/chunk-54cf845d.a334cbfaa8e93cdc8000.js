(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54cf845d","chunk-34fab614"],{"0f34":function(t,e,i){},"1a8a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("base-dialog",{attrs:{show:t.show,title:t.dialogsObj.title,width:t.dialogsObj.width,center:t.dialogsObj.center},on:{close:t.close}},[i("div",{staticClass:"video-message"},[i("div",[i("span",[t._v("频道名称:")]),i("span",[t._v(t._s(t.videoData.channel_name))])]),i("div",[i("span",[t._v("任务时间段:")]),i("span",[t._v(" "+t._s(t.videoData.start_time)+" ~ "+t._s(t.videoData.end_time)+" ")])])]),i("div",{staticClass:"play-video"},[i("VideoHls",{ref:"videoPlay",staticClass:"videoPaly",attrs:{"player-options":t.playerOptions}})],1)])},s=[],n=i("deac"),r={naem:"playVide",components:{VideoHls:n["a"]},props:{show:{type:Boolean,default:!1},videoData:{type:Object,default:function(){return{}}}},data:function(){return{playerOptions:{playbackRates:[.5,1,1.5,2],src:""},dialogsObj:{width:"500px",title:"EPG流监控",center:!0}}},computed:{},watch:{videoData:{handler:function(){this.playerOptions.src=this.videoData.url},immediate:!0}},mounted:function(){},created:function(){},methods:{close:function(){this.$emit("playFolwShow")}}},o=r,c=(i("9b5e"),i("4ac2")),l=Object(c["a"])(o,a,s,!1,null,"05bd281f",null);e["default"]=l.exports},"2e80":function(t,e,i){},"3c5a":function(t,e,i){},"4fb3":function(t,e,i){},"5eef":function(t,e,i){"use strict";i("0f34")},"73c8":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-monitor"},[a("div",{staticClass:"search-list"},[a("div",{staticClass:"item-serach"},[a("span",{staticClass:"item-label"},[t._v("频道:")]),a("el-select",{attrs:{filterable:"",remote:"",clearable:"",placeholder:"请选择频道",loading:t.channelLoading},on:{focus:t.getChannelData},model:{value:t.form.channel_id,callback:function(e){t.$set(t.form,"channel_id",e)},expression:"form.channel_id"}},t._l(t.channelData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("div",{staticClass:"item-serach"},[a("span",{staticClass:"item-label"},[t._v("日期:")]),a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:!1,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),t.temp_roles?a("div",{staticClass:"item-serach"},[a("span",{staticClass:"item-label"},[t._v("执行团队:")]),a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择执行团队"},model:{value:t.form.team,callback:function(e){t.$set(t.form,"team",e)},expression:"form.team"}},t._l(t.teamData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.department_name,value:t.id}})})),1)],1):t._e(),a("div",{staticClass:"item-serach checked"},[t.temp_roles?a("el-checkbox",{staticClass:"is_unassigned",model:{value:t.form.is_unassigned,callback:function(e){t.$set(t.form,"is_unassigned",e)},expression:"form.is_unassigned"}},[t._v("未派发任务")]):t._e(),a("base-btn",{attrs:{size:"small"},on:{click:function(e){return t.search()}}},[t._v("搜索")]),t.temp_roles?a("base-btn",{attrs:{size:"small",loading:t.sendLoading},on:{click:function(e){return t.sendEmail()}}},[t._v("发送邮件")]):t._e()],1)]),a("div",{staticClass:"status-list"},t._l(t.statusOption,(function(e,i){return a("div",{key:i,staticClass:"item-status"},[a("div",{staticClass:"circular",style:{background:e.background}}),a("div",{staticClass:"item-label"},[t._v(t._s(e.label))])])})),0),a("div",{staticClass:"total"},[t._v(" 总共有"+t._s(t.timeList.length)+"个频道 ")]),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadTimeList,expression:"loadTimeList"}],staticClass:"line-list",staticStyle:{overflow:"auto"},attrs:{"infinite-scroll-immediate":!1}},[t.status_loading?a("base-loading",{staticClass:"loading"}):t._l(t.timeListTemp,(function(e,i){return a("div",{key:e.broadcast_time_id+"wrap",staticClass:"item-line"},[a("div",{staticClass:"item-message"},[a("div",[t._v(t._s(e.channel_name))]),a("div",{staticClass:"implement"},[a("div",[a("span",[t._v("执行团队:")]),a("span",[t._v(t._s(e.department?e.department:"无"))])]),a("div",{staticStyle:{"margin-left":"15px"}},[a("span",[t._v("完成进度:")]),a("span",{staticClass:"proportion"},[t._v(t._s(e.compelte_proportion?e.compelte_proportion:"0%"))])]),t.temp_roles?a("div",{staticClass:"btns"},[a("base-btn",{attrs:{size:"mini"},on:{click:function(i){return t.assgin(e)}}},[t._v("派发任务")])],1):t._e()])]),a("div",{staticClass:"time-box"},[a("timeLine",{key:e.broadcast_time_id+"timeLine",ref:"timeLine",refInFor:!0,attrs:{range:t.range,duration:t.duration,"on-parent":!0}},t._l(t.dateTrack[i],(function(e){return a("div",{key:e.task_id},[a("div",{staticClass:"item-progress",class:t.tabIndex===e.task_id?"tabActive":"",style:e.style,attrs:{slot:"reference"},on:{click:function(a){return t.showTimeDetails(e,a,i)}},slot:"reference"})])})),0)],1)])})),0!==t.timeList.length||t.status_loading?t._e():a("div",{staticClass:"nodata"},[a("div",[t._v("暂无数据")]),a("img",{attrs:{src:i("9485"),alt:""}})])],2),a("AssginTask",{ref:"assginTask",attrs:{"aggin-obj":t.agginObj}}),a("BaseTip",{attrs:{show:t.showDetails,position:t.showPosition},on:{"update:show":function(e){t.showDetails=e},close:t.close}},[a("ShowDateis",{attrs:{"active-date":t.activeDate,"show-dateis-item":t.showDateisItem},on:{playFlow:t.playFlow}})],1),t.showFlow?a("PlayVideoFlow",{ref:"playVideoFlow",attrs:{show:t.showFlow,"video-data":t.videoData},on:{playFolwShow:t.playFolwShow}}):t._e()],1)},s=[],n=i("07a3"),r=i("99a5"),o=i("1c03"),c=(i("6a61"),i("4194"),i("e18c"),i("b4fb"),i("77ad"),i("08ba"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"time-line",style:{width:t.time_line_width+"px"}},[t._l(t.block_num,(function(e,a){return i("div",{key:a,staticClass:"time-block",style:{width:t.BLOCK_WIDTH+"px"}},[i("span",{staticClass:"mm"},[t._v(t._s(t.msToSecond(t.BLOCK_TOTAL_MS*a)))]),t._m(0,!0)])})),t._t("default")],2)}),l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scales"},[i("div",{staticClass:"sub"})])}],d=(i("513c"),0),u=80,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=arguments.length>1?arguments[1]:void 0;switch(parseInt(t)){case 0:d=6e4,u=80;break;case 1:d=5e4,u=90;break;case 2:d=4e4,u=100;break;case 3:d=3e4,u=110;break;case 4:d=2e4,u=120;break;case 5:d=1e4,u=130;break;case 6:d=5e3,u=80;break;case 7:d=6e4,u=80;break}return e&&"function"===typeof e&&e(),{BLOCK_TOTAL_MS:d,BLOCK_WIDTH:u}},m=f,h=(i("20a5"),{methods:{msToSecond:function(t){var e,i,a,s="00";return t>0&&(i=Math.floor(t/6e4),i<10&&(i="0"+i),e=Math.floor(t/1e3-60*i),e<10&&(e="0"+e),a=(Math.floor(parseFloat(t)-6e4*i-1e3*e)/10).toFixed(),a<10&&(a="0"+a,s=i)),s}}}),_={components:{},mixins:[h],props:{duration:{type:Number,default:36e5},onParent:{type:Boolean,default:!1},range:{type:Number,default:4}},data:function(){return{time_line_width:1e3,BLOCK_TOTAL_MS:2e4,BLOCK_WIDTH:120,block_num:24,PER_PX_MS:0}},computed:{},watch:{range:function(){this._initTimeLine()},duration:function(){this._initTimeLine()}},created:function(){this._initTimeLine()},mounted:function(){this.setTimeWidth()},methods:{getParentWidth:function(){var t=document.querySelectorAll(".time-line")[0].parentNode;return t.offsetWidth},setTimeWidth:function(){this.onParent&&(this.time_line_width=this.getParentWidth(),this.BLOCK_WIDTH=this.time_line_width/this.block_num,this.PER_PX_MS=this.BLOCK_TOTAL_MS/this.BLOCK_WIDTH)},_initTimeLine:function(){this.BLOCK_TOTAL_MS=m(this.range).BLOCK_TOTAL_MS,this.BLOCK_WIDTH=m(this.range).BLOCK_WIDTH,this.block_num=Math.ceil(this.duration/this.BLOCK_TOTAL_MS)+1,this.time_line_width=this.block_num*this.BLOCK_WIDTH,this.PER_PX_MS=this.BLOCK_TOTAL_MS/this.BLOCK_WIDTH}}},p=_,v=(i("fc0e"),i("4ac2")),g=Object(v["a"])(p,c,l,!1,null,"2b237779",null),b=g.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("base-dialog",{attrs:{show:t.show,title:t.dialogsObj.title,width:t.dialogsObj.width,center:t.dialogsObj.center},on:{close:t.close}},[i("div",{staticClass:"assgin-task"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"请选择团队",prop:"department_id"}},[i("el-select",{attrs:{placeholder:"请选择团队"},model:{value:t.ruleForm.department_id,callback:function(e){t.$set(t.ruleForm,"department_id",e)},expression:"ruleForm.department_id"}},t._l(t.teamData,(function(t){return i("el-option",{key:t.id,attrs:{label:t.department_name,value:t.id}})})),1)],1),i("el-form-item",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",size:"small",loading:t.Loading},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存")])],1)],1)],1)])},y=[],T=i("52c1"),D={name:"",components:{},props:{agginObj:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,Loading:!1,dialogsObj:{width:"400px",title:"派发任务",center:!0},ruleForm:{department_id:""}}},computed:Object(o["a"])(Object(o["a"])({},Object(T["b"])(["teamData"])),{},{rules:function(){return{department_id:[{required:!0,message:"请选择团队",trigger:"change"}]}}}),watch:{},mounted:function(){},created:function(){this.$store.dispatch("user/getTeamData",{page:1,limit:1e4})},methods:{open:function(){this.show=!0},close:function(){this.show=!1},assginTeam:function(){var t=this;this.Loading=!0;var e={broadcast_time_id:this.agginObj.broadcastId,department_id:this.ruleForm.department_id,date:this.agginObj.date};this.$post("/epg-task/assign-daily-task",e).then((function(e){t.$message({showClose:!0,message:"指派成功",type:"success"}),t.close(),t.Loading=!1,t.$parent.setTimeList()})).catch((function(e){t.$message({showClose:!0,message:"指派失败",type:"error"})})).finally((function(){t.Loading=!1}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.assginTeam()}))}}},O=D,k=(i("5eef"),Object(v["a"])(O,w,y,!1,null,"511da568",null)),L=k.exports,C=i("a59a"),x=i("e09b"),j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"show-dateils"},[i("table",{staticStyle:{"border-collapse":"separate","border-spacing":"0px 10px"}},[i("tr",[i("td",[t._v("TID:")]),i("td",[t._v(t._s(t.activeDate.task_id))])]),i("tr",[i("td",[t._v("栏目:")]),t.activeDate.item_name_list?i("td",[t._v(" "+t._s(t.activeDate.item_name_list.join(","))+" ")]):t._e()]),i("tr",[i("td",[t._v("标题:")]),t.activeDate.title_list?i("td",[t._v(" "+t._s(t.activeDate.title_list.join(","))+" ")]):t._e()]),i("tr",[i("td",[t._v("编辑人员:")]),i("td",[t._v(t._s(t.showDateisItem.executor_name))])]),i("tr",[i("td",[t._v("提取时间:")]),i("td",[t._v(t._s(t.activeDate.update_time))])]),i("tr",[i("td",[t._v("提交时间:")]),i("td",[t._v(t._s(t.activeDate.update_time))])]),i("tr",[i("td",{staticStyle:{"min-width":"100px"}},[t._v("任务时间段:")]),i("td",[t._v(" "+t._s(t.showDateisItem.start_time)+" ~ "+t._s(t.showDateisItem.end_time)+" ")])]),i("tr",[i("td",[t._v("任务执行团队:")]),i("td",[t._v(t._s(t.showDateisItem.department_name?t.showDateisItem.department_name:" 无"))])]),i("tr",[i("td",[t._v("任务状态:")]),i("td",[t._v(t._s(t.showDateisItem.status))])])]),i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.playFlow(t.activeDate)}}},[t._v("播放流")])],1)])},S=[],$={name:"ShowDateis",components:{},props:{show:{type:Boolean,default:!1},showPosition:{type:Object,default:function(){return{}}},showDateisItem:{type:Object,default:function(){return{}}},activeDate:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{},watch:{},mounted:function(){},created:function(){},methods:{playFlow:function(t){this.$emit("playFlow",t)}}},I=$,F=(i("c0e8"),Object(v["a"])(I,j,S,!1,null,"0f5cfa1c",null)),P=F.exports,E=i("1a8a"),M={name:"TaskMonitor",components:{timeLine:b,AssginTask:L,ShowDateis:P,PlayVideoFlow:E["default"]},props:{},data:function(){return{tabIndex:0,videoData:{},showFlow:!1,sendLoading:!1,channelLoading:!1,showDetails:!1,showPosition:{},activeDate:{},showDateisItem:{},duration:144e4,falg:"",range:7,timeList:[],timeListTemp:[],agginObj:{broadcastId:"",date:""},statusOption:[{label:"挂起中",value:"挂起中",background:"rgb(232 78 78)"},{label:"已关闭",value:"已关闭",background:"#3737b3"},{label:"已完成",value:"已完成",background:"#3aab3a"},{label:"进行中",value:"进行中",background:"orange"},{label:"待分配",value:"待分配",background:"#ddd"},{label:"等待中",value:"等待中",background:"#fff"}],form:{channel_id:null,team:null,date:Object(C["a"])(new Date),is_unassigned:!1},dateTrack:[],status_loading:!0}},computed:Object(o["a"])(Object(o["a"])({},Object(T["b"])(["channelData","teamData","roles"])),{},{temp_roles:function(){return!!this.roles.find((function(t){return"superman"===t}))}}),watch:{},mounted:function(){var t=document.querySelector(".sidebar-container");t.addEventListener("transitionend",this.handle,!1),window.addEventListener("resize",this.setData)},beforeDestroy:function(){var t=document.querySelector(".sidebar-container");window.removeEventListener("resize",this.setData,!1),t.removeEventListener("transitionend",this.handle,!1)},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.setTimeList();case 2:t.getChannelData();case 3:case"end":return e.stop()}}),e)})))()},methods:{playFlow:function(t){this.videoData.url=t.url,this.showFlow=!0},playFolwShow:function(){this.showFlow=!1,this.videoUrl={}},sedDate:function(){var t=new Date,e=new Date(t.getTime()-864e5);return Object(C["a"])(e)},getEmail:function(){var t=this;this.sendLoading=!0;var e={day:this.sedDate()};this.$get("/epg/send-excel-email",e).then((function(e){t.$message({message:"发送成功",type:"success"}),t.sendLoading=!1})).catch((function(e){t.$message.error(e.msg)})).finally((function(){t.sendLoading=!1}))},sendEmail:function(){var t=this;this.$confirm("是否发送邮件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then((function(){t.getEmail()})).catch((function(){t.$message({type:"info",message:"取消发送"})}))},loadTimeList:function(){var t=this.timeListTemp.length;this.timeListTemp=this.timeListTemp.concat(this.timeList.slice(t,t+5)),console.log("设置初始数据完成")},close:function(){this.activeDate={},this.showDateisItem={}},showTimeDetails:function(t,e,i){this.tabIndex=t.task_id;var a=e.x,s=e.y;this.showPosition={left:a+"px",top:s+"px"},this.videoData.channel_name=this.timeListTemp[i].channel_name,this.videoData.start_time=t.start_time,this.videoData.end_time=t.end_time,this.showDateisItem=t,this.showDetailsData(t.task_id),this.showDetails=!0},showDetailsData:function(t){var e=this;this.$get("/epg-task/point",{task_id:t}).then((function(t){e.activeDate=t.data})).catch((function(t){e.$message.error(t.msg)}))},getChannelData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===t.channelData.length){e.next=2;break}return e.abrupt("return");case 2:return t.channelLoading=!0,e.next=5,t.$store.dispatch("channel/getChannelData");case 5:t.channelLoading=!1,console.log("获取 数据 加载完成");case 7:case"end":return e.stop()}}),e)})))()},handle:function(){this.setData()},setData:function(){0!==this.timeList.length&&(this.$refs.timeLine.forEach((function(t){t.setTimeWidth()})),this.setDateTrack())},setDateTrack:function(){var t=this;this.$nextTick((function(){if(0!==t.timeList.length){var e=t.$refs.timeLine[0].PER_PX_MS;t.dateTrack=[];var i=[],a="";t.timeList.forEach((function(s,n){var r=s.tasks;t.dateTrack[n]=[],i=[],r.forEach((function(o,c){"00:00:00"===o.end_time&&(o.end_time="24:00:00");var l=(t.timeToS(o.end_time)-t.timeToS(o.start_time))/e,d=t.statusOption.find((function(t){return t.value===o.status})).background;"已完成"===o.status&&(i.push(o),a=i.length/r.length,s.compelte_proportion=parseInt(100*a)+"%");var u=Object.assign({style:{width:l+"px",height:"20px",transform:"translateX("+t.timeToS(o.start_time)/e+"px)",backgroundColor:d}},o);t.dateTrack[n].push(u)}))}))}}))},timeToS:function(t){return Object(C["b"])(t)},search:function(){this.setTimeList()},setTimeList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,a,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.status_loading=!0,i={channel_id:t.form.channel_id||null,date:t.form.date,is_unassigned:t.form.is_unassigned,department_id:t.form.team},e.next=4,Object(x["a"])(t.getList(i));case 4:if(a=e.sent,s=Object(n["a"])(a,2),r=s[0],o=s[1],!r){e.next=11;break}return t.$message.error(r.msg),e.abrupt("return");case 11:t.timeList=o,t.timeListTemp=[],t.status_loading=!1,t.setDateTrack(),t.loadTimeList(),console.log("DOM 加载完成");case 17:case"end":return e.stop()}}),e)})))()},getList:function(t){var e=this;return new Promise((function(i,a){e.$get("/epg-task/epg-task-control",t).then((function(t){i(t.data)})).catch((function(t){a(t)}))}))},assgin:function(t){this.agginObj={broadcastId:t.broadcast_time_id,date:t.date},this.$refs.assginTask.open()}}},B=M,K=(i("d34c"),Object(v["a"])(B,a,s,!1,null,"1d63ed14",null));e["default"]=K.exports},"753d":function(t,e,i){},9485:function(t,e,i){t.exports=i.p+"static/img/nodata.f765162f.png"},"9b5e":function(t,e,i){"use strict";i("753d")},a59a:function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n}));i("e35a"),i("5e9f"),i("0d7a"),i("513c");function a(t){var e,i=parseInt(t%864e5/36e5),a=parseInt(t%36e5/6e4),s=t%6e4/1e3;return e=(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s),e}function s(t){if(!isNaN(t))var e=new Date(t);var i=e.getFullYear(),a=e.getMonth()+1+"",s=e.getDate()+"";return a=a.replace(/\b\d\b/g,"0$&"),s=s.replace(/\b\d\b/g,"0$&"),i+"-"+a+"-"+s}function n(t){var e=t.split(":"),i=36e5*Number(e[0]),a=6e4*Number(e[1]),s=1e3*Number(e[2]);return Math.floor((i+a+s)/60)}},c0e8:function(t,e,i){"use strict";i("4fb3")},d34c:function(t,e,i){"use strict";i("3c5a")},deac:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-hls-wrap"},[i("video-player",{ref:"videoPlayer",staticClass:"vjs-custom-skin",attrs:{options:t.options},on:{ready:t.playerReadied,timeupdate:function(e){return t.onPlayerTimeupdate(e)},loadeddata:function(e){return t.onPlayerLoadeddata(e)}}})],1)},s=[],n=i("6767"),r=i.n(n),o={},c=r.a.registerPlugin||r.a.plugin,l=function t(){var e=this,i=this.currentTime();i<0&&(this.currentTime(0),this.play()),this._offsetEnd>0&&i>this._offsetEnd-this._offsetStart&&(this.off("timeupdate",t),this.pause(),this.trigger("ended"),this.one("play",(function(){e.on("timeupdate",t)})),this._restartBeginning?(this.trigger("loadstart"),this.currentTime(0)):this.currentTime(this._offsetEnd-this._offsetStart))},d=function(t,e){t.one("play",(function(){t.on("timeupdate",l)}))},u=function(t){var e=this;t=t||{};var i=this.constructor;this._offsetStart=parseFloat(t.start||"0"),this._offsetEnd=parseFloat(t.end||"0"),this._restartBeginning=t.restart_beginning||!1,i.__super__&&i.__super__.__offsetInit||(i.__super__={__offsetInit:!0,duration:i.prototype.duration,currentTime:i.prototype.currentTime,bufferedPercent:i.prototype.bufferedPercent,remainingTime:i.prototype.remainingTime,buffered:i.prototype.buffered},i.prototype.duration=function(){return void 0!==this._offsetEnd&&void 0!==this._offsetStart?this._offsetEnd>0?this._offsetEnd-this._offsetStart:i.__super__.duration.apply(this,arguments)-this._offsetStart:i.__super__.duration.apply(this,arguments)},i.prototype.currentTime=function(t){if(void 0!==t)return void 0!==this._offsetStart?i.__super__.currentTime.call(this,t+this._offsetStart):i.__super__.currentTime.call(this,t);if(void 0!==this._offsetStart){var e=i.__super__.currentTime.apply(this)-this._offsetStart;return this.getCache().currentTime=e,e}return i.__super__.currentTime.apply(this)},i.prototype.remainingTime=function(){return this.duration()-this.currentTime()},i.prototype.startOffset=function(){return this._offsetStart},i.prototype.endOffset=function(){return this._offsetEnd>0?this._offsetEnd:this.duration()},i.prototype.buffered=function(){for(var t=i.__super__.buffered.call(this),e=[],a=0;a<t.length;a++)e[a]=[Math.max(0,t.start(a)-this._offsetStart),Math.min(Math.max(0,t.end(a)-this._offsetStart),this.duration())];return r.a.createTimeRanges(e)}),this.ready((function(){d(e,r.a.mergeOptions(o,t))}))};c("offset",u);window.videojs=r.a,i("956c");var f={name:"VideoHls",components:{},props:{videoOffsetMs:{type:Object,default:function(){return{start_ms:0,end_ms:0}}},playerOptions:{type:Object,default:function(){return{}}}},data:function(){return{options:{height:"360",sources:[{withCredentials:!1,type:"application/x-mpegURL",src:""}],controlBar:{timeDivider:!1,durationDisplay:!1},flash:{hls:{withCredentials:!1}},html5:{hls:{withCredentials:!1}}},canPlay:!1}},computed:{player:function(){return this.$refs.videoPlayer.player}},watch:{},created:function(){this.options=Object.assign(this.playerOptions,this.options),this.options.sources[0].src=this.playerOptions.src},mounted:function(){},methods:{onPlayerLoadeddata:function(t){},playerReadied:function(t){t.tech({IWillNotUseThisInPlugins:!0}).hls;t.tech_.hls.xhr.beforeRequest=function(t){return t},this.videoOffset(t,this.videoOffsetMs)},onPlayerTimeupdate:function(t){this.$store.commit("setVideoCurrentTime",1e3*t.currentTime())},videoOffset:function(t,e){if(t){var i=this.videoOffsetMs.start_ms/1e3,a=this.videoOffsetMs.end_ms/1e3;t.offset({start:i||0,end:a||0,restart_beginning:!0})}}}},m=f,h=i("4ac2"),_=Object(h["a"])(m,a,s,!1,null,"97be1b68",null);e["a"]=_.exports},e09b:function(t,e,i){"use strict";function a(t){return t.then((function(t){return[null,t]})).catch((function(t){return[t]}))}e["a"]=a},fc0e:function(t,e,i){"use strict";i("2e80")}}]);