(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22908673"],{"0a8a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-wrap"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabData,(function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})})),1),a(e.activeName,{tag:"component"})],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base-message"},[e._l(e.tabData,(function(t){return a("div",{key:t.name,class:[e.activeName==t.name&&"active","tabs-item"],on:{click:function(a){e.activeName=t.name,e.dialogTitle=t.label}}},[e._v(e._s(t.label)+"列表")])})),a("div",{staticClass:"table-content"},[a("div",{staticClass:"table-search"},[a("el-input",{attrs:{placeholder:"请输入关键字",size:"small",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("base-btn",{nativeOn:{click:function(t){return e.getData(t)}}},[e._v("查询")]),a("base-btn",{nativeOn:{click:function(t){return e.add(t)}}},[e._v("新建")])],1),a("p",[e._v("当前条件下共"+e._s(e.total)+"条数据")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:"",height:"calc(100vh - 400px)"}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"name",label:"标题"}}),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("base-btn",{staticClass:"del-btn",attrs:{type:"text"},nativeOn:{click:function(a){return e.deleteData(t.row.id)}}},[e._v("删除")])]}}])})],1),a("base-pag",{attrs:{total:e.total,limit:e.limit,page:e.page},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1),a("base-dialog",{attrs:{show:e.show,title:"新建"+e.dialogTitle,width:"600"},on:{close:e.close}},[a("el-form",{ref:"ruleForm",attrs:{inline:!0,rules:e.rules,model:e.form}},[a("el-form-item",{attrs:{label:e.dialogTitle+"名称",prop:"dialogKeyword"}},[a("el-input",{attrs:{placeholder:"请输入"+e.dialogTitle+"名称"},model:{value:e.form.dialogKeyword,callback:function(t){e.$set(e.form,"dialogKeyword",t)},expression:"form.dialogKeyword"}})],1)],1),a("div",{staticClass:"btn-wrap"},[a("base-btn",{nativeOn:{click:function(t){return e.submit(t)}}},[e._v("确定")]),a("base-btn",{attrs:{type:"info"},nativeOn:{click:function(t){return e.close(t)}}},[e._v("取消")])],1)],1)],2)},o=[],l=a("99a5"),s=(a("6a61"),a("e18c"),{components:{},props:{},data:function(){return{activeName:"commodity",dialogTitle:"商品",tabData:[{name:"commodity",label:"商品"},{name:"brand",label:"品牌"},{name:"advertiser",label:"广告主"}],keyword:"",tableData:[],show:!1,form:{dialogKeyword:""},page:1,limit:20,total:0,loading:!1,rules:{dialogKeyword:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},computed:{},watch:{activeName:function(e){this.page=1,this.getData()}},created:function(){this.getData()},mounted:function(){},methods:{getData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,a={type:e.dialogTitle,name:e.keyword,page:e.page,limit:e.limit},e.$get("/ad-sample/ad-additional/list",a).then((function(t){e.tableData=t.data.list,e.total=t.data.total})).catch((function(t){e.$message.error(t.msg)})).finally((function(){e.loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.page=e,this.getData()},handleSizeChange:function(e){this.limit=e,this.getData()},close:function(){this.show=!1,this.form.dialogKeyword=""},add:function(){this.show=!0},submit:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.confirmData()}))},confirmData:function(){var e=this,t={name:this.form.dialogKeyword,type:this.dialogTitle};this.$post("/ad-sample/ad-additional",t).then((function(t){e.show=!1,e.getData()})).catch((function(t){e.$message.error(t.msg)}))},deleteData:function(e){var t=this;this.$confirm("确认删除此数据？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.confirmDelete(e)})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},confirmDelete:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$deleteRun("/ad-sample/ad-additional/".concat(e)).then((function(e){t.$message({type:"success",message:"删除成功"}),t.page=1,t.getData()})).catch((function(e){t.$message.error(e.msg)}));case 1:case"end":return a.stop()}}),a)})))()}}}),c=s,u=(a("8e57"),a("4ac2")),m=Object(u["a"])(c,i,o,!1,null,"7bf1202c",null),d=m.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"industry-classify"},[e._l(e.tabData,(function(t){return a("div",{key:t.name,class:[e.activeName==t.name&&"active","tabs-item"],on:{click:function(a){e.activeName=t.name,e.dialogTitle=t.label,e.level=t.level}}},[e._v(e._s(t.label))])})),a("div",{staticClass:"table-content"},[a("div",{staticClass:"table-search"},[a("el-input",{attrs:{placeholder:"请输入关键字",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("base-btn",{nativeOn:{click:function(t){return e.getData(t)}}},[e._v("查询")]),a("base-btn",{nativeOn:{click:function(t){return e.add(t)}}},[e._v("新建")])],1),a("p",[e._v("当前条件下共"+e._s(e.total)+"条数据")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),"一级"!=e.level?a("el-table-column",{attrs:{prop:"pid",label:"PID"}}):e._e(),a("el-table-column",{attrs:{prop:"name",label:"标题"}}),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("base-btn",{staticClass:"del-btn",attrs:{type:"text"},nativeOn:{click:function(a){return e.deleteData(t.row.id)}}},[e._v("删除")])]}}])})],1),a("base-pag",{attrs:{total:e.total,limit:e.limit,page:e.page},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1),a("base-dialog",{attrs:{show:e.show,title:"新建"+e.dialogTitle,width:"600"},on:{close:e.close}},[a(e.activeName+"Dialog",{tag:"component",on:{close:e.close,update:e.getData}})],1)],2)},g=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"ruleForm",attrs:{inline:!0,rules:e.rules,model:e.form}},[a("el-form-item",{attrs:{label:"大类名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入大类名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"btn-wrap"},[a("base-btn",{on:{click:e.submit}},[e._v("确定")]),a("base-btn",{attrs:{type:"info"},nativeOn:{click:function(t){return e.close(t)}}},[e._v("取消")])],1)],1)},h=[],b=(a("053b"),{components:{},props:{},data:function(){return{form:{name:""},rules:{name:[{required:!0,message:"请输入大类名称",trigger:"blur"}]}}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{close:function(){this.resetData("ruleForm"),this.$emit("close")},resetData:function(e){this.$refs[e].resetFields()},submit:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.confirmData()}))},confirmData:function(){var e=this,t={name:this.form.name,type:"行业",level:"一级"};this.$post("/ad-sample/ad-type",t).then((function(t){e.close(),e.$emit("update")})).catch((function(t){e.$message.error(t.msg)}))}}}),v=b,y=(a("2209"),Object(u["a"])(v,p,h,!1,null,"bf02e63e",null)),w=y.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"ruleForm",attrs:{inline:!0,rules:e.rules,model:e.form}},[a("el-form-item",{attrs:{label:"中类名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入中类名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"所属大类",prop:"general_category"}},[a("el-select",{attrs:{placeholder:"请选择所属行业大类",filterable:"",clearable:""},model:{value:e.form.general_category,callback:function(t){e.$set(e.form,"general_category",t)},expression:"form.general_category"}},e._l(e.generalCategoryData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("div",{staticClass:"btn-wrap"},[a("base-btn",{nativeOn:{click:function(t){return e.submit(t)}}},[e._v("确定")]),a("base-btn",{attrs:{type:"info"},nativeOn:{click:function(t){return e.close(t)}}},[e._v("取消")])],1)],1)},_=[],k={components:{},props:{},data:function(){return{form:{name:"",general_category:""},rules:{name:[{required:!0,message:"请输入中类名称",trigger:"blur"}],general_category:[{required:!0,message:"请选择所属行业大类",trigger:"change"}]},generalCategoryData:[]}},computed:{},watch:{},created:function(){this.getGeneralCategoryData()},mounted:function(){},methods:{getGeneralCategoryData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a={type:"行业",level:"一级",page:1,limit:1e3},t.next=4,e.$get("/ad-sample/ad-type/list",a);case 4:if(n=t.sent,r=n.err,i=n.data,e.loading=!1,!r){t.next=11;break}return e.$message.error(r.msg),t.abrupt("return");case 11:e.generalCategoryData=i.list;case 12:case"end":return t.stop()}}),t)})))()},close:function(){this.resetData("ruleForm"),this.$emit("close")},resetData:function(e){this.$refs[e].resetFields()},submit:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.confirmData()}))},confirmData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={name:e.form.name,type:"行业",level:"二级",pid:e.form.general_category},e.$post("/ad-sample/ad-type",a).then((function(t){e.close(),e.$emit("update")})).catch((function(t){e.$message.error(t.msg)}));case 2:case"end":return t.stop()}}),t)})))()}}},$=k,C=(a("3621"),Object(u["a"])($,D,_,!1,null,"06d4c65e",null)),x=C.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"ruleForm",attrs:{inline:!0,rules:e.rules,model:e.form}},[a("el-form-item",{attrs:{label:"小类名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入小类名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"所属大类",prop:"general_category"}},[a("el-select",{attrs:{placeholder:"请选择所属行业大类",filterable:""},on:{change:e.changeGeneral},model:{value:e.form.general_category,callback:function(t){e.$set(e.form,"general_category",t)},expression:"form.general_category"}},e._l(e.generalCategoryData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"所属中类",prop:"medium_category"}},[a("el-select",{attrs:{placeholder:"请选择所属行业中类",filterable:""},model:{value:e.form.medium_category,callback:function(t){e.$set(e.form,"medium_category",t)},expression:"form.medium_category"}},e._l(e.mediumCategoryData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("div",{staticClass:"btn-wrap"},[a("base-btn",{nativeOn:{click:function(t){return e.submit(t)}}},[e._v("确定")]),a("base-btn",{attrs:{type:"info"},nativeOn:{click:function(t){return e.close(t)}}},[e._v("取消")])],1)],1)},R=[],N={components:{},props:{},data:function(){return{form:{name:"",general_category:"",medium_category:""},rules:{name:[{required:!0,message:"请输入小类名称",trigger:"blur"}],general_category:[{required:!0,message:"请选择所属行业大类",trigger:"change"}],medium_category:[{required:!0,message:"请选择所属行业中类",trigger:"change"}]},generalCategoryData:[],mediumCategoryData:[]}},computed:{},watch:{},created:function(){this.getGeneralCategoryData(),this.getMediumCategoryData()},mounted:function(){},methods:{getGeneralCategoryData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={type:"行业",level:"一级",page:1,limit:1e3},t.next=3,e.$get("/ad-sample/ad-type/list",a);case 3:if(n=t.sent,r=n.err,i=n.data,!r){t.next=9;break}return e.$message.error(r.msg),t.abrupt("return");case 9:e.generalCategoryData=i.list;case 10:case"end":return t.stop()}}),t)})))()},getMediumCategoryData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={type:"行业",level:"二级",page:1,limit:1e3,pid:e.form.general_category},t.next=3,e.$get("/ad-sample/ad-type/list",a);case 3:if(n=t.sent,r=n.err,i=n.data,!r){t.next=9;break}return e.$message.error(r.msg),t.abrupt("return");case 9:e.mediumCategoryData=i.list;case 10:case"end":return t.stop()}}),t)})))()},changeGeneral:function(e){this.getMediumCategoryData(),this.form.medium_category=null},close:function(){this.resetData("ruleForm"),this.$emit("close")},resetData:function(e){this.$refs[e].resetFields()},submit:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.confirmData()}))},confirmData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={name:e.form.name,type:"行业",level:"三级",pid:e.form.medium_category},e.$post("/ad-sample/ad-type",a).then((function(t){e.close(),e.$emit("update")})).catch((function(t){e.$message.error(t.msg)}));case 2:case"end":return t.stop()}}),t)})))()}}},j=N,F=(a("2af3"),Object(u["a"])(j,O,R,!1,null,"591b34b6",null)),T=F.exports,B={components:{CategoryBigDialog:w,CategoryMediumDialog:x,CategorySmallDialog:T},props:{},data:function(){return{activeName:"CategoryBig",dialogTitle:"行业大类",level:"一级",tabData:[{name:"CategoryBig",label:"行业大类",level:"一级"},{name:"CategoryMedium",label:"行业中类",level:"二级"},{name:"CategorySmall",label:"行业小类",level:"三级"}],keyword:"",tableData:[],show:!1,page:1,limit:20,total:0,loading:!1}},computed:{},watch:{activeName:function(e){this.page=1,this.getData()}},created:function(){this.getData()},mounted:function(){},methods:{getData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,a={type:"行业",name:e.keyword,level:e.level,page:e.page,limit:e.limit},e.$get("/ad-sample/ad-type/list",a).then((function(t){e.tableData=t.data.list,e.total=t.data.total})).catch((function(t){e.$message.error(t.msg)})).finally((function(){e.loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.page=e,this.getData()},handleSizeChange:function(e){this.limit=e,this.getData()},close:function(){this.show=!1},add:function(){this.show=!0},deleteData:function(e){var t=this;this.$confirm("确认删除此数据？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.confirmDelete(e)})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},confirmDelete:function(e){var t=this;this.$deleteRun("/ad-sample/ad-type/".concat(e)).then((function(e){t.$message({type:"success",message:"删除成功"}),t.page=1,t.getData()})).catch((function(e){t.$message.error(e.msg)}))}}},z=B,E=(a("155e"),Object(u["a"])(z,f,g,!1,null,"77b6d574",null)),I=E.exports,K={components:{BasicImformation:d,IndustryClassify:I},props:{},data:function(){return{activeName:"BasicImformation",tabData:[{name:"BasicImformation",label:"基础信息"},{name:"IndustryClassify",label:"行业分类"}]}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},S=K,q=(a("7b3d"),Object(u["a"])(S,n,r,!1,null,"c6573f46",null));t["default"]=q.exports},"155e":function(e,t,a){"use strict";a("328a")},2209:function(e,t,a){"use strict";a("8688")},"2af3":function(e,t,a){"use strict";a("dc5e")},"328a":function(e,t,a){},"35f3":function(e,t,a){},3621:function(e,t,a){"use strict";a("9e09")},"6b60":function(e,t,a){},"7b3d":function(e,t,a){"use strict";a("6b60")},8688:function(e,t,a){},"8e57":function(e,t,a){"use strict";a("35f3")},"9e09":function(e,t,a){},dc5e:function(e,t,a){}}]);