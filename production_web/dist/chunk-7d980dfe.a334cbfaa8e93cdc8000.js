(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d980dfe"],{"19bb":function(t,e,a){"use strict";a("ebb2")},"478a":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("513c");var n=a("28de"),i=a("5f87");function s(t){var e=Object(i["a"])(),a=Number(t);n["a"].post("/production/start-task",{task_id:a}).then((function(t){var n=t.data.data;if(n.status)try{new QWebChannel(qt.webChannelTransport,(function(t){window.TaskEditor=t.objects.TaskEditor,window.TaskEditor.onEditTask(a,e)}))}catch(i){alert(i.message)}else alert(n.msg)}))}},"7c28":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-table-wrap"},[a("div",{staticClass:"tab-list"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"指派任务",name:"指派任务"}},[a("assign")],1),a("el-tab-pane",{attrs:{label:"公共任务",name:"公共任务"}},[a("vPublic")],1)],1)],1)])},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"assign-wrap"},[a("div",{staticClass:"table-liat"},[a("el-table",{staticClass:"table-list",attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"task_id",label:"TID"}}),a("el-table-column",{attrs:{prop:"channel_name",label:"频道"}}),a("el-table-column",{attrs:{prop:"item_name",label:"栏目"}}),a("el-table-column",{attrs:{prop:"date",label:"播出日期"}}),a("el-table-column",{attrs:{prop:"time",label:"播出时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.start_time))]),a("span",[t._v("-")]),a("span",[t._v(t._s(e.row.end_time))])]}}])}),a("el-table-column",{attrs:{prop:"processing_require",label:"加工方式"}}),a("el-table-column",{attrs:{prop:"status",label:"任务状态"}}),a("el-table-column",{attrs:{prop:"",label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return["已完成"!==e.row.status&&"挂起中"!==e.row.status?a("base-open-qt",{attrs:{"task-id":e.row.task_id}}):t._e()]}}])})],1)],1),a("div",{staticClass:"pagination-list"},[a("base-pag",{attrs:{total:t.total,limit:t.limit,page:t.page},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])},l=[],o=a("478a"),c={components:{},data:function(){return{page:1,limit:10,total:null,tableData:[]}},computed:{},watch:{},created:function(){this.getList()},mounted:function(){},methods:{handleSizeChange:function(t){this.limit=t,this.getList()},handleCurrentChange:function(t){this.page=t,this.getList()},getList:function(){var t=this,e={order_type:"整档",page:this.page,limit:this.limit};this.$get("/production/privateTask",e).then((function(e){var a=e.data.list;t.tableData=a;var n=e.data.total;t.total=n})).catch((function(t){console.log(t)}))},startTask:function(t){Object(o["a"])(t.task_id)}}},r=c,u=(a("cbfd"),a("4ac2")),d=Object(u["a"])(r,s,l,!1,null,"049fb316",null),p=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"public-wrap"},[a("div",{staticClass:"search-top"},[a("div",{staticClass:"item-search"},[a("span",[t._v("TID:")]),a("el-input",{attrs:{clearable:"",placeholder:"请输入TID"},model:{value:t.form.task_id,callback:function(e){t.$set(t.form,"task_id",e)},expression:"form.task_id"}})],1),a("div",{staticClass:"item-search"},[a("span",[t._v("播出日期:")]),a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("div",{staticClass:"item-search"},[a("span",[t._v("频道:")]),a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择频道或搜索"},model:{value:t.form.channel_id,callback:function(e){t.$set(t.form,"channel_id",e)},expression:"form.channel_id"}},t._l(t.channelData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("div",{staticClass:"item-search"},[a("span",[t._v("栏目:")]),a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择栏目或搜索"},model:{value:t.form.item_id,callback:function(e){t.$set(t.form,"item_id",e)},expression:"form.item_id"}},t._l(t.itemData,(function(t){return a("el-option",{key:t.item_id,attrs:{label:t.name,value:t.item_id}})})),1)],1),a("div",{staticClass:"item-search"},[a("span",[t._v("加工方式:")]),a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择加工方式"},model:{value:t.form.processing_require,callback:function(e){t.$set(t.form,"processing_require",e)},expression:"form.processing_require"}},t._l(t.machining_options,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("div",{staticClass:"item-search btns"},[a("base-btn",{attrs:{size:"big"},on:{click:function(e){return t.search()}}},[t._v("搜索")])],1)]),a("div",{staticClass:"table-list"},[a("el-table",{staticClass:"table-list",attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"task_id",label:"TID"}}),a("el-table-column",{attrs:{prop:"channel_name",label:"频道"}}),a("el-table-column",{attrs:{prop:"item_name",label:"栏目"}}),a("el-table-column",{attrs:{prop:"date",label:"播出日期"}}),a("el-table-column",{attrs:{prop:"time",label:"播出时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.start_time))]),a("span",[t._v("-")]),a("span",[t._v(t._s(e.row.end_time))])]}}])}),a("el-table-column",{attrs:{prop:"processing_require",label:"加工方式"}}),a("el-table-column",{attrs:{prop:"status",label:"任务状态"}}),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return["已完成"!==e.row.status&&"挂起中"!==e.row.status?a("base-open-qt",{attrs:{"task-id":e.row.task_id}}):t._e()]}}])})],1)],1),a("div",{staticClass:"pagination-list"},[a("base-pag",{attrs:{total:t.total,limit:t.limit,page:t.page},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])},h=[],b=a("1c03"),f=a("52c1"),_={components:{},data:function(){return{channer_options:[],colunm_options:[],machining_options:[{label:"整档",value:"整档"}],page:1,limit:10,form:{channel_id:null,date:null,item_id:null,processing_require:null,task_id:null},total:null,tableData:[]}},computed:Object(b["a"])({},Object(f["b"])(["channelData","itemData"])),watch:{"form.channel_id":function(t){t&&this.$store.dispatch("channel/getItemList",{channel_id:t}),this.form.item_id=null}},created:function(){this.channelData.length||this.$store.dispatch("channel/getChannelData"),this.getProcessingRequire(),this.getList()},mounted:function(){},methods:{handleSizeChange:function(t){this.limit=t,this.getList()},handleCurrentChange:function(t){this.page=t,this.getList()},search:function(){this.getList()},getProcessingRequire:function(){var t=this;this.machining_options=[],this.$get("/production/processingRequire").then((function(e){var a=e.data;t.machining_options=a.complete})).catch((function(t){console.log(t)}))},getList:function(){var t=this,e={channel_id:this.form.channel_id||null,item_id:this.form.item_id||null,order_type:"整档",date:this.form.date,task_id:this.form.task_id,processing_require:this.form.processing_require,page:this.page,limit:this.limit};this.$get("/production/publicTask",e).then((function(e){var a=e.data;t.tableData=a.list,t.total=a.total})).catch((function(t){console.log(t)}))},startTask:function(t){console.log(t),Object(o["a"])(t.task_id)}}},g=_,v=(a("e90e"),Object(u["a"])(g,m,h,!1,null,"c06b37d8",null)),k=v.exports,w=a("5f87"),C={components:{assign:p,vPublic:k},data:function(){return{activeName:"指派任务"}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{openQt:function(){var t=Object(w["a"])();new QWebChannel(qt.webChannelTransport,(function(t){window.TaskEditor=t.objects.TaskEditor}));setTimeout((function(){window.TaskEditor&&window.TaskEditor.onEditTask(373,t)}))},handleClick:function(){}}},T=C,y=(a("19bb"),Object(u["a"])(T,n,i,!1,null,"6d34202b",null));e["default"]=y.exports},cbfd:function(t,e,a){"use strict";a("f902")},e90e:function(t,e,a){"use strict";a("ef22")},ebb2:function(t,e,a){},ef22:function(t,e,a){},f902:function(t,e,a){}}]);