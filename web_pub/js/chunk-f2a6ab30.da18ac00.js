(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2a6ab30"],{"4b97":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[t.user_data.is_main_account&&!t.type?a("div",{staticClass:"fz-16px",staticStyle:{"font-weight":"500",color:"rgba(51,51,51,1)"}},[t._v("\n      "+t._s(t.person_data.admin_name)+"\n    ")]):t._e(),t.user_data.is_main_account&&!t.type?a("div",{staticClass:"fc-999 fz-12px mt-10px"},[t._v("\n      "+t._s(t._f("phoneFilter")(t.person_data.phone))+"\n    ")]):t._e(),t.type?a("div",{staticClass:"fz-16px",staticStyle:{"font-weight":"500",color:"rgba(51,51,51,1)"}},[t._v("\n      "+t._s(t.task_data.title)+"\n    ")]):t._e(),t.user_data.is_main_account?t._e():a("div",{staticClass:"fz-16px",staticStyle:{"font-weight":"500",color:"rgba(51,51,51,1)"}},[t._v("\n      "+t._s(t.user_data.admin_name)+"\n    ")]),t.user_data.is_main_account?t._e():a("div",{staticClass:"fc-999 fz-12px mt-10px"},[t._v("\n      "+t._s(t._f("phoneFilter")(t.user_data.phone))+"\n    ")])]),a("div",{staticClass:"d-flex mt-20px align-items-center justify-content-between"},[a("div",{staticClass:"d-flex"},t._l(t.dayData,(function(e,i){return a("div",{key:i,staticClass:"dayList fz-12px d-flex justify-content-center mr-20px",class:{active:t.activeindex==i},on:{click:function(a){t.getActive(e,i),t.activeindex=i}}},[t._v(t._s(e))])})),0),a("div",{staticClass:"d-flex justify-content-between mr-20px"},[a("div",{staticClass:"d-flex align-items-center mx-20px",staticStyle:{width:"50%"}},[a("span",{staticClass:"nowrap fz-12px"},[t._v("开始时间：")]),a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"请选择开始时间"},model:{value:t.from.start_time,callback:function(e){t.$set(t.from,"start_time",e)},expression:"from.start_time"}})],1),a("div",{staticClass:"d-flex align-items-center",staticStyle:{width:"50%"}},[a("span",{staticClass:"nowrap fz-12px"},[t._v("结束时间：")]),a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择结束时间"},model:{value:t.from.end_time,callback:function(e){t.$set(t.from,"end_time",e)},expression:"from.end_time"}})],1)]),a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"fc-blue fz-12px mr-10px cp",staticStyle:{width:"70px",height:"30px","border-radius":"15px",border:"1px solid rgba(52,133,225,1)","line-height":"30px","text-align":"center"},on:{click:function(e){return t.reset()}}},[t._v("\n        重置")]),a("div",{staticClass:"fc-white fz-12px cp",staticStyle:{width:"70px",height:"30px","border-radius":"15px",background:"rgba(52,133,225,1)","line-height":"30px","text-align":"center"},on:{click:function(e){return t.getSearch()}}},[t._v("\n        搜索")])])]),"待审核"!=t.isShowRectangleData?a("rectangleData",{staticClass:"mt-20px",attrs:{rectangleData:t.rectangleData,rectangleWidth:"32%"}}):t._e()],1)},s=[],n=(a("163d"),a("cc57"),a("6d57"),a("ff21"),{props:["type","isShowRectangleData"],data:function(){return{rectangleData:[],dayData:["全部","7天内","30天内"],activeindex:0,from:{start_time:"",end_time:""},user_type:JSON.parse(localStorage.getItem("user_data")).user_type,user_data:JSON.parse(localStorage.getItem("userData")),person_data:JSON.parse(localStorage.getItem("person_data")),task_data:JSON.parse(localStorage.getItem("task_data")),server_date_time:localStorage.getItem("server_date_time")}},computed:{},created:function(){"my_task"==this.type?1==this.user_type?this.rectangleData=[{name:"发布视频数",value:""},{name:"提交审核视频数",value:""},{name:"浏览量",value:""}]:this.rectangleData=[{name:"作品数",value:""},{name:"浏览量",value:""},{name:"收益",value:""}]:this.rectangleData=[{name:"剪辑量",value:""},{name:"下载量",value:""},{name:"上传平台量",value:""}],"审核中"==this.isShowRectangleData&&"审核不通过"==this.isShowRectangleData||this.getSearch()},methods:{getSearch:function(){this.from.start_time&&this.from.end_time?this.from.start_time<this.from.end_time?this.getVideoStatis(1):this.$message({showClose:!0,message:"结束时间必须大于开始时间",type:"error"}):this.getVideoStatis(1)},reset:function(){this.getVideoStatis(1),this.activeindex=0},getYear:function(t){var e=new Date(t),a=e.getFullYear()+"-",i=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=e.getDate()<10?"0"+e.getDate()+" ":e.getDate();return a+i+s},getVideoStatis:function(t){var e=new Date(this.server_date_time);if(1!=t&&t){var a=new Date(e-864e5*t),i=a.getFullYear(),s=a.getMonth()+1,n=a.getDate();this.from.end_time=this.getYear(e),this.from.start_time=i+"-"+(s<10?"0"+s:s)+"-"+(n<10?"0"+n:n)}this.user_data.is_main_account&&!this.type&&(this.from.account_id=this.person_data.account_id),this.getTime(this.from),"待审核"!=this.isShowRectangleData&&this.getRectangleData()},getRectangleData:function(){var t,e=this;"my_task"==this.type?(this.from.task_id=this.$route.query.task_id,1==this.user_type?(this.from.account_id=this.$route.query.account_id,t="/task/short-video-statistics"):t="/task/user_task_detail"):t="/short-video/short-video-statistics",this.$get(t,{params:this.from}).then((function(t){"0000"==t.data.code&&("my_task"==e.type?1==e.user_type?e.rectangleData.forEach((function(e){"发布视频数"==e.name?e.value=Number(1*t.data.data.published_num).toLocaleString():"提交审核视频数"==e.name?e.value=Number(1*t.data.data.approving_num).toLocaleString():"浏览量"==e.name&&(e.value=Number(1*t.data.data.page_view_num).toLocaleString())})):e.rectangleData.forEach((function(e){"作品数"==e.name?e.value=Number(1*t.data.data.count).toLocaleString():"浏览量"==e.name?e.value=Number(1*t.data.data.visits).toLocaleString():"收益"==e.name&&(e.value=Number(1*t.data.data.profit).toLocaleString())})):e.rectangleData.forEach((function(e){"剪辑量"==e.name?e.value=Number(1*t.data.data.cut_count).toLocaleString():"下载量"==e.name?e.value=Number(1*t.data.data.download_count).toLocaleString():"上传平台量"==e.name&&(e.value=Number(1*t.data.data.publish_platform_count).toLocaleString())})))}),(function(t){}))},getActive:function(t,e){0==e?(this.from.end_time="",this.from.start_time="",this.getVideoStatis(1)):1==e?this.getVideoStatis(7):this.getVideoStatis(30)},getTime:function(t){var e={start_time:t.start_time,end_time:t.end_time};this.$emit("getTime",e)}},components:{rectangleData:function(){return a.e("chunk-2d0d3892").then(a.bind(null,"5cd2"))}}}),r=n,o=(a("8096"),a("9ca4")),c=Object(o["a"])(r,i,s,!1,null,"380b7a31",null);e["default"]=c.exports},8096:function(t,e,a){"use strict";var i=a("f6e2"),s=a.n(i);s.a},"857a":function(t,e,a){e=t.exports=a("2365")(!1),e.push([t.i,".dayList[data-v-380b7a31]{border-radius:3px;border:1px solid #c7c7c7;cursor:pointer;background:#fff}.active[data-v-380b7a31],.dayList[data-v-380b7a31]{padding:10px 0;width:100px}.active[data-v-380b7a31]{background:#3485e1;border-color:#3485e1;color:#fff}",""])},f6e2:function(t,e,a){var i=a("857a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("85cb").default;s("20b1fccd",i,!0,{sourceMap:!1,shadowMode:!1})}}]);