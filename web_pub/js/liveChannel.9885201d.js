(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["liveChannel"],{"01be":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".active[data-v-8d361134]{color:#c51a1a!important}[data-v-8d361134] .el-date-editor .el-range__icon{line-height:25px}[data-v-8d361134] .el-date-editor .el-range-separator{line-height:25px;width:auto;color:#606266}[data-v-8d361134] .el-date-editor .el-range__close-icon{line-height:25px}",""])},"085f":function(t,e){t.exports="https://cdn-web.weijian.video/static/img/no_channel.jpg"},"0b9e":function(t,e,i){"use strict";var a=i("80ea"),n=i.n(a);n.a},"0ef1":function(t,e){t.exports="https://cdn-web.weijian.video/static/img/live_logoT.png"},"0f18":function(t,e,i){"use strict";var a=i("58f7"),n=i.n(a);n.a},1105:function(t,e,i){var a=i("a793");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("08996228",a,!0,{sourceMap:!1,shadowMode:!1})},"190b":function(t,e,i){i("149f")&&"g"!=/./g.flags&&i("064e").f(RegExp.prototype,"flags",{configurable:!0,get:i("f1fe")})},"2b45":function(t,e,i){"use strict";i("190b");var a=i("69b3"),n=i("f1fe"),s=i("149f"),o="toString",r=/./[o],l=function(t){i("bf16")(RegExp.prototype,o,t,!0)};i("238a")((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?l((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?n.call(t):void 0)})):r.name!=o&&l((function(){return r.call(this)}))},3349:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".live-program-list-box[data-v-e2c74dd0]{border-bottom:1px solid #e1e1e1}.live-program-list-box .list[data-v-e2c74dd0]{margin-top:20px}.live-program-list-box .list .input-des[data-v-e2c74dd0]{height:26px;width:100%}.live-program-list-box .list .index[data-v-e2c74dd0]{width:22px;height:22px;min-width:22px;min-height:22px;line-height:20px;background-color:#aeaeae;text-align:center;border:1px solid hsla(0,0%,100%,0);border-radius:50%;color:#fff;font-size:12px}.live-program-list-box .list .date[data-v-e2c74dd0]{border-right:1px solid #e3e3e3;margin:0 20px;height:100%;width:80px;padding:10px 20px 10px 0}.live-program-list-box[data-v-e2c74dd0] .el-date-editor.el-input,.live-program-list-box[data-v-e2c74dd0] .el-date-editor.el-input__inner{margin:0 20px;width:120px;border:none}",""])},3590:function(t,e,i){"use strict";var a=i("f0b0"),n=i.n(a);n.a},"45f3":function(t,e,i){var a=i("c4de");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("219c7f3c",a,!0,{sourceMap:!1,shadowMode:!1})},"47bd":function(t,e,i){"use strict";var a=i("f071"),n=i.n(a);n.a},"4c39":function(t,e){var i,a,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(a===clearTimeout)return clearTimeout(t);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:s}catch(t){i=s}try{a="function"===typeof clearTimeout?clearTimeout:o}catch(t){a=o}})();var c,d=[],p=!1,u=-1;function m(){p&&c&&(p=!1,c.length?d=c.concat(d):u=-1,d.length&&f())}function f(){if(!p){var t=r(m);p=!0;var e=d.length;while(e){c=d,d=[];while(++u<e)c&&c[u].run();u=-1,e=d.length}c=null,p=!1,l(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new h(t,e)),1!==d.length||p||r(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},"58f7":function(t,e,i){var a=i("96a6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("0c072827",a,!0,{sourceMap:!1,shadowMode:!1})},"5a2b":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"liveShare"}},[i("div",{staticClass:"modal-wrap model-sm"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"d-flex justify-content-between w-100"},[i("p",{staticClass:"text-center flex-1"},[t._v("分享虚拟直播频道")]),i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})])]),t._m(0),i("div",{staticClass:"modal-footer"})])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-body d-flex flex-wrap justify-content-center align-items-center w-100"},[i("div",{attrs:{id:"share_qrcode"}}),i("p",{staticClass:"mt-20px fz-13px"},[t._v("手机扫码即可观看虚拟直播频道")])])}],s=i("1f57"),o=i.n(s),r={props:["url"],data:function(){return{status_loading:!0}},components:{},computed:{},watch:{url:function(t){var e=this;t&&this.$nextTick((function(){e.qrcode()}))}},methods:{qrcode:function(){document.getElementById("share_qrcode").innerHTML="";var t=this.url;new o.a("share_qrcode",{width:225,height:225,text:t,colorDark:"#000",colorLight:"#fff"});this.status_loading=!1},close:function(){document.title="微剪-海量视频资源正版化智能搜剪平台",this.$store.commit("modalHidden","liveShare"),this.status_loading=!1,document.getElementById("share_qrcode").innerHTML=""}},created:function(){},mounted:function(){this.qrcode()}},l=r,c=i("9ca4"),d=Object(c["a"])(l,a,n,!1,null,"b59ffde0",null);e["a"]=d.exports},"5e8c":function(t,e,i){var a=i("a55a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("c653043e",a,!0,{sourceMap:!1,shadowMode:!1})},"674f":function(t,e,i){"use strict";var a=i("bc56"),n=i.n(a);n.a},"6e59":function(t,e,i){"use strict";var a=i("8ae9"),n=i.n(a);n.a},"6f9c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return n}));i("f548");function a(t){var e=new Date(t),i=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",a=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",n=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),s=i+a+n;return s}function n(t){if(!isNaN(t))t=new Date(t);var e=t.getFullYear(),i=t.getMonth()+1+"",a=t.getDate()+"";t.getHours(),t.getMinutes(),t.getSeconds();return i=i.replace(/\b\d\b/g,"0$&"),a=a.replace(/\b\d\b/g,"0$&"),e+"-"+i+"-"+a}},"731f":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".progressBar[data-v-7785cfbd]{width:573px;height:20px;background:#fff;border-radius:100px}.progressBar .over[data-v-7785cfbd]{height:14px;border-radius:100px;background-color:#c51a1a}",""])},"74c3":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".upload .btn-style[data-v-32d63144]{color:#3485e1;font-size:12px}.upload .card[data-v-32d63144]{border:1px solid #d5d5d5;border-radius:3px;color:#e7e7e7;text-align:center}.upload .card p[data-v-32d63144]{height:25px}",""])},7836:function(t,e,i){var a=i("e46b");a(a.S,"Date",{now:function(){return(new Date).getTime()}})},"79dd":function(t,e,i){var a=Date.prototype,n="Invalid Date",s="toString",o=a[s],r=a.getTime;new Date(NaN)+""!=n&&i("bf16")(a,s,(function(){var t=r.call(this);return t===t?o.call(this):n}))},"7e11":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".fade-enter-active[data-v-3f102ca8],.fade-leave-active[data-v-3f102ca8]{transition:opacity .5s}.fade-enter[data-v-3f102ca8],.fade-leave-to[data-v-3f102ca8]{opacity:0}.tv[data-v-3f102ca8]{border:1px solid transparent;padding:4px}.tv.tv_active[data-v-3f102ca8]{border-color:red;border-radius:4px;background:#fff}.week_active[data-v-3f102ca8]{border-radius:13px}.program_active[data-v-3f102ca8],.week_active[data-v-3f102ca8]{background:#c51a1a;color:#fff}.program_active[data-v-3f102ca8]{border-radius:3px}.none[data-v-3f102ca8]{color:#999;pointer-events:none}",""])},"80ea":function(t,e,i){var a=i("3349");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("22b539f8",a,!0,{sourceMap:!1,shadowMode:!1})},"8219d":function(t,e){t.exports="https://cdn-web.weijian.video/static/img/zhifubao_logo.jpg"},"821c":function(t,e,i){"use strict";var a=i("45f3"),n=i.n(a);n.a},8650:function(t,e,i){var a=i("74c3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("0111b3ae",a,!0,{sourceMap:!1,shadowMode:!1})},"8ae9":function(t,e,i){var a=i("b0e9");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("19f90c72",a,!0,{sourceMap:!1,shadowMode:!1})},"963f":function(t,e,i){"use strict";var a=i("8650"),n=i.n(a);n.a},"96a6":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,"#customColumnModel .modal-content .modal-body{width:600}#customColumnModel .modal-content .modal-body .btn-style{color:#c51b19}",""])},"9a33":function(t,e,i){"use strict";var a=i("2fd4"),n=i("69b3"),s=i("f63e"),o=i("e754"),r=i("eafa"),l=i("7108"),c=i("8714"),d=i("238a"),p=Math.min,u=[].push,m="split",f="length",h="lastIndex",v=4294967295,g=!d((function(){RegExp(v,"y")}));i("0aed")("split",2,(function(t,e,i,d){var _;return _="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[f]||2!="ab"[m](/(?:ab)*/)[f]||4!="."[m](/(.?)(.?)/)[f]||"."[m](/()()/)[f]>1||""[m](/.?/)[f]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!a(t))return i.call(n,t,e);var s,o,r,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,m=void 0===e?v:e>>>0,g=new RegExp(t.source,d+"g");while(s=c.call(g,n)){if(o=g[h],o>p&&(l.push(n.slice(p,s.index)),s[f]>1&&s.index<n[f]&&u.apply(l,s.slice(1)),r=s[0][f],p=o,l[f]>=m))break;g[h]===s.index&&g[h]++}return p===n[f]?!r&&g.test("")||l.push(""):l.push(n.slice(p)),l[f]>m?l.slice(0,m):l}:"0"[m](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,a){var n=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,n,a):_.call(String(n),i,a)},function(t,e){var a=d(_,t,this,e,_!==i);if(a.done)return a.value;var c=n(t),u=String(this),m=s(c,RegExp),f=c.unicode,h=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(g?"y":"g"),x=new m(g?c:"^(?:"+c.source+")",h),y=void 0===e?v:e>>>0;if(0===y)return[];if(0===u.length)return null===l(x,u)?[u]:[];var b=0,w=0,C=[];while(w<u.length){x.lastIndex=g?w:0;var k,S=l(x,g?u:u.slice(w));if(null===S||(k=p(r(x.lastIndex+(g?0:w)),u.length))===b)w=o(u,w,f);else{if(C.push(u.slice(b,w)),C.length===y)return C;for(var L=1;L<=S.length-1;L++)if(C.push(S[L]),C.length===y)return C;w=b=k}}return C.push(u.slice(b)),C}]}))},"9dac":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex align-items-center upload"},[i("input",{ref:"inputer",staticStyle:{display:"none"},attrs:{type:"file",id:"upload_flie",multiple:"",accept:t.file_type},on:{change:function(e){return t.addImg(e)}}}),t.id_card?i("div",{staticClass:"card mr-20px cp d-flex align-items-center",style:{width:t.id_card.width,height:t.id_card.height},on:{click:function(e){return t.updataImg()}}},[i("div",{staticClass:"flex-1 "},[i("i",{staticClass:"d-block iconfont iconadd fz-70px"}),i("p",[t._v(t._s(t.button_name))])])]):i("a",{staticClass:"fc-bb d-flex flex-column align-items-center",on:{click:function(e){return t.updataImg()}}},[i("div",{staticClass:"btn-style"},[t._v(t._s(t.button_name))])])])},n=[],s=(i("ed63"),i("8cf2"),i("163d"),{props:{id_card:{width:String,height:String},button_name:{type:String,default:"点击上传"},file_type:{type:String,default:"image/png, image/jpeg, image/gif, image/jpg"},single_election:{type:Boolean,default:!0},flieLength:{type:Number,default:9},videoMaxSize:{type:Number,default:500}},data:function(){return{fil:null,progress:""}},components:{},computed:{},watch:{},methods:{addImg:function(t){var e=null;e=this.$refs.inputer,this.fil=e.files[0];var i=this.fil.size/1024;if(this.limitFileSize(i)){var a=new FileReader;a.readAsDataURL(this.fil);var n=this;a.onload=function(){n.$emit("getImgToBase64",a.result)},this.single_election?this.getObjectURL(this.fil):this.fileList(t.target)}},fileList:function(t){var e=t.files,i=[];if(e.length<=this.flieLength){for(var a=0;a<e.length;a++){var n=null;void 0!=window.createObjectURL?n=window.createObjectURL(e[a]):void 0!=window.URL?n=window.URL.createObjectURL(e[a]):void 0!=window.webkitURL&&(n=window.webkitURL.createObjectURL(e[a])),i.push(n)}this.$emit("getFileUrl",i,e)}},limitFileSize:function(t){var e=1024e3;return this.file_type.includes("image")&&(e=2048),this.file_type.includes("video")&&(e=1024*this.videoMaxSize),!(t>e)||(this.$message.error("请选择 ".concat(e/1024,"MB 以内的文件")),!1)},getObjectURL:function(t){var e=null;void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),this.$emit("getFileUrl",e,t)},getImgToBase64:function(t,e){var i=document.createElement("canvas"),a=i.getContext("2d"),n=new Image;n.crossOrigin="Anonymous",n.onload=function(){i.height=n.height,i.width=n.width,a.drawImage(n,0,0);var t=i.toDataURL("image/png");this.$emit("getImgToBase64",t),i=null}},updataImg:function(){this.$refs.inputer.click()}},created:function(){},mounted:function(){}}),o=s,r=(i("963f"),i("9ca4")),l=Object(r["a"])(o,a,n,!1,null,"32d63144",null);e["a"]=l.exports},a55a:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".live-channel[data-v-4345942e]{height:100%}.live-channel .live-pad-header[data-v-4345942e]{background:#fff;padding:20px}.live-channel .live-pad-header .channel_list .logo[data-v-4345942e]{width:40px;height:40px;box-shadow:0 2px 4px 0 rgba(0,0,0,.2);border:1px solid hsla(0,0%,100%,0);margin:0 10px}.live-channel .live-pad-header .channel_list .channel_name[data-v-4345942e]{padding:5px 10px;border:1px solid transparent}.live-channel .live-pad-header .channel_list .channel_name.active[data-v-4345942e]{border:1px solid #c51a1a;border-radius:3px}.live-channel .table-wrap[data-v-4345942e]{width:100%;margin:0 auto}.live-channel .table-wrap thead td .item[data-v-4345942e]{padding:8px 30px;margin-bottom:10px;background:#ececec 100%}.live-channel .table-wrap tr td[data-v-4345942e]{vertical-align:middle;padding:24px 30px}.live-channel .tfoot[data-v-4345942e]{display:flex;flex-direction:row-reverse;align-items:center;height:50px;border:1px solid #ddd;margin-top:10px;background:#fff}",""])},a68b:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".active[data-v-8197a29c]{color:#c51a1a!important}[data-v-8197a29c] .el-date-editor .el-range__icon{line-height:25px}[data-v-8197a29c] .el-date-editor .el-range-separator{line-height:25px;width:auto;color:#606266}[data-v-8197a29c] .el-date-editor .el-range__close-icon{line-height:25px}",""])},a793:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".active[data-v-a09e5068]{color:#c51a1a!important}[data-v-a09e5068] .el-date-editor .el-range__icon{line-height:25px}[data-v-a09e5068] .el-date-editor .el-range-separator{line-height:25px;width:auto;color:#606266}[data-v-a09e5068] .el-date-editor .el-range__close-icon{line-height:25px}.activeT[data-v-a09e5068]{border-color:#c51a1a!important;color:#c51a1a!important}",""])},aa42:function(t,e,i){var a=i("731f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("8328eb60",a,!0,{sourceMap:!1,shadowMode:!1})},af95:function(t,e,i){"use strict";var a=i("b270"),n=i.n(a);n.a},b0e9:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".active[data-v-871a35ba]{color:#c51b19;border-bottom:2px solid #c51b19}",""])},b226:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".live-pad-left{width:490px;margin-top:23px;padding:0 20px 50px 0;border-right:1px solid #e1e1e1}.live-pad-left .date-box{margin-top:12px;background:#ececec;border-radius:100px;padding:0 30px}.live-pad-left .date-box .icon{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:5px;text-align:center;border:1px solid hsla(0,0%,100%,0)}.live-pad-left .date-box .icon.red{background-color:red}.live-pad-left .date-box .icon.gray{background-color:grey}.live-pad-left .date-box .icon.green{background-color:#86bc40}.live-pad-left .date-box .el-input__inner{background-color:transparent;border:none;padding-left:5px;padding-right:5px}.live-pad-left .date-box .el-input__prefix{display:none}.live-pad-left .date-box .left-icon{display:inline-block;transform:rotate(180deg)}.live-pad-left .date-box .el-input{font-size:16px;width:100px}.live-pad-left .live-preview .no-video{width:470px;height:265px;background:#ececec}.live-pad-left .live-preview .progress{position:relative;width:100%;height:30px;background:#d7d7d7}.live-pad-left .live-preview .progress .item{position:absolute;height:30px;border-radius:3px;background-color:#86bc40;text-align:center;border:1px solid hsla(0,0%,100%,0)}.live-pad-left .live-preview .progress .time_count{position:absolute;right:0;font-size:12px;line-height:30px;color:#fff;margin-right:10px}",""])},b270:function(t,e,i){var a=i("a68b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("12c91366",a,!0,{sourceMap:!1,shadowMode:!1})},b27f:function(t,e,i){(function(t){var a="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,n=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(n.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new s(n.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i("de8a"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("9edd"))},b751:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"d-flex flex-column align-items-center justify-content-center",staticStyle:{width:"570px",height:"360px"}},[i("div",{staticClass:"fc-333 fz-14px text"},[t._v("视频正在上传中，请稍后...")]),i("div",{staticClass:"progressBar mt-20px mb-20px d-flex align-items-center"},[i("div",{staticClass:"over",style:"width:"+t.complete+"%; transition: width 1s;"})]),i("div",{staticClass:"fc-333 fz-14px text"},[t._v(t._s(t.complete)+"%")])])])},n=[],s=(i("b27f"),{props:["complete"],data:function(){return{num:0,timer:null}},computed:{},created:function(){},mounted:function(){},methods:{}}),o=s,r=(i("d05b"),i("9ca4")),l=Object(r["a"])(o,a,n,!1,null,"7785cfbd",null);e["a"]=l.exports},b79d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-20px container "},[t.tvList.length<1?a("div",{staticClass:"d-flex flex-column text-center align-items-center pt-100px"},[a("img",{attrs:{width:"436",height:"306",src:i("085f")}}),t._m(0)]):a("div",[a("div",{staticClass:"py-20px"},[a("div",{staticClass:"d-flex justify-content-between"},[a("ul",{staticClass:"d-flex flex-wrap",style:"height:"+t.Heightnum+";overflow:hidden"},t._l(t.tvList,(function(e,i){return a("li",{key:i,class:["d-flex align-items-center mr-20px tv mb-28px cp",{tv_active:t.tv_index==i}],on:{click:function(a){t.tv_index=i,t.getChannel(e)}}},[a("img",{staticStyle:{width:"48px",height:"48px"},attrs:{src:e.logo_img}}),a("div",{staticClass:"fc-333 fz-16px mx-10px"},[t._v(t._s(e.channel_name))])])})),0),a("div",{staticClass:"nowrap cp fz-16px fc-c mt-20px",on:{click:t.getText}},[t._v(t._s(t.textU))])]),a("div",{staticStyle:{position:"relative",width:"450px"}},[a("el-input",{staticClass:"mb-10px",staticStyle:{width:"450px"},attrs:{size:"small",placeholder:"搜索频道名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getChannelList()}},model:{value:t.channel_name,callback:function(e){t.channel_name=e},expression:"channel_name"}}),a("i",{staticClass:"iconfont iconsearch cp",staticStyle:{position:"absolute",right:"10px",top:"8px",color:"#B3B3B3"},on:{click:function(e){return t.getChannelList()}}})],1)]),t.isNone?a("div",{staticClass:"d-flex flex-column text-center align-items-center pt-100px"},[a("img",{attrs:{width:"436",height:"306",src:i("085f")}}),t._m(1)]):a("div",{staticClass:"d-flex mt-30px"},[a("div",{staticClass:"d-flex flex-column align-items-center",staticStyle:{"min-width":"440px"}},[a("ul",{staticClass:"d-flex"},t._l(t.weekList,(function(e,i){return a("li",{key:i,class:["d-flex fz-14px fc-333 cp px-10px py-5px cp nowrap",{week_active:t.week_index==i}],on:{click:function(a){t.week_index=i,t.getProgram(e)}}},[t._v("\n            "+t._s(e.dateDay)+"\n          ")])})),0),a("div",{staticClass:"mt-20px fc-999 fz-14px"},[t._v("日期："+t._s(t.date)+" "+t._s(t.weekVal)+"\n        ")]),a("ul",{staticClass:"w-100 mt-30px",staticStyle:{"max-height":"700px",overflow:"auto"}},t._l(t.allProgramList,(function(e,i){return a("li",{key:i,class:["d-flex fz-14px fc-333 mx-5px cp px-10px py-8px cp nowrap justify-content-between mb-5px",{program_active:t.program_index==i,none:1==e.isShow}]},[a("div",{staticClass:"d-flex"},[a("div",{staticStyle:{width:"80px"}},[t._v(t._s(e.broadcast_time)+"\n              ")]),a("div",{staticStyle:{width:"250px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},attrs:{title:e.broadcast_name}},[t._v("\n                "+t._s(e.broadcast_name))])]),a("div",[t._v(t._s(e.status))])])})),0)]),a("div",{staticClass:"flex-1 p-20px bg-white ml-20px",staticStyle:{"border-radius":"5px"}},[a("div",{staticClass:"d-flex justify-content-between"},[a("div",[t._v(t._s(t.program_title))]),t.shareIS?a("i",{staticClass:"iconfont iconshare ml-10px fz-14px",on:{click:function(e){return e.stopPropagation(),t.getShare()}}}):t._e()]),a("div",{staticClass:"d-flex mt-20px",staticStyle:{position:"relative"}},[t.is_play&&!t.is_loop?a("div",{staticStyle:{width:"800px",height:"450px",background:"black"}},[t._m(2),a("div",{staticClass:"w-100 d-flex flex-column align-items-center mt-70px"},[t.textIS?a("div",{staticStyle:{color:"#7F714B","font-size":"18px"}},[t._v("距离直播开始还有")]):t._e(),t.textIS?a("div",{staticClass:"fz-50px fc-white mt-20px"},[t._v("\n                "+t._s(t.allTimeVal)+"\n              ")]):t._e(),t.textIS?t._e():a("div",{staticClass:"fz-30px mt-20px",staticStyle:{color:"#7F714B"}},[t._v("\n                "+t._s(t.allTimeVal)+"\n              ")]),t._m(3)])]):t.status_loading&&!t.is_play?a("loading",{staticStyle:{width:"800px",height:"450px"}}):a("newVideoPlay",{attrs:{video_options:t.video_options}})],1),t.video_options.src?a("div",{staticClass:"mt-20px fz-14px"},[t._v("直播流地址："+t._s(t.video_options.src))]):t._e()])])]),a("liveShareModal",{attrs:{url:t.share_url}})],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"mt-20px fz-14px fc-999",staticStyle:{"line-height":"1.5"}},[t._v("\n      暂无内容！"),i("br"),t._v("\n      请去直播设置添加直播内容！"),i("br")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"mt-20px fz-14px fc-999",staticStyle:{"line-height":"1.5"}},[t._v("\n        暂无内容！"),i("br"),t._v("\n        请去直播设置添加直播内容！"),i("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 d-flex justify-content-end"},[a("img",{staticStyle:{width:"173px",height:"65px"},attrs:{src:i("0ef1")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-140px"},[a("img",{staticStyle:{width:"150px",height:"44px"},attrs:{src:i("f90e")}})])}],s=(i("2b45"),i("79dd"),i("6d57"),i("ff21"),i("5a2b")),o={name:"live",data:function(){return{timer:null,tvList:[],tv_index:"0",weekList:[],week_index:"0",allProgramList:[],video_index:0,program_index:"0",program_title:"",date:"",share_url:"",video_options:{autoplay:!0,width:800,height:450,look_back:"",src:"",type:"application/x-mpegURL",is_live:!0},status_loading:!0,channel_id:"",nowTime:"",channel_name:"",push_flow_url:"",is_play:!0,weekVal:"",endTimeVal:null,allTimeVal:"",timerT:null,textIS:!1,shareIS:!1,isNone:!1,htmlTitle:"",is_loop:null,maxTime:"",endTimeALl:"",Heightnum:"85px",textU:"展开"}},components:{liveShareModal:s["a"]},computed:{},watch:{},methods:{getText:function(){"85px"==this.Heightnum?(this.Heightnum="auto",this.textU="收起"):(this.Heightnum="85px",this.textU="展开")},TimeNum:function(){var t=this,e=Date.parse(new Date)/1e3,i=this.endTimeVal;this.timerT=setInterval((function(){var a=i-e,n=parseInt(a/60/60/24,10),s=parseInt(a/60/60%24,10),o=parseInt(a/60%60,10),r=parseInt(a%60,10);n=t.checkTime(n),s=t.checkTime(s),o=t.checkTime(o),r=t.checkTime(r),a>0?(t.allTimeVal="00"==n?s+"时"+o+"分"+r+"秒":n+"天"+s+"时"+o+"分"+r+"秒",e++):0==a&&location.reload()}),1e3)},checkTime:function(t){return t<10&&(t="0"+t),t},getChannelList:function(){var t=this;this.is_loop=!1,this.tv_index=0,this.weekList=[];var e={channel_name:this.channel_name};Date.parse(new Date);this.$post("/live/select_all_user",e).then((function(e){"0000"==e.data.code&&(e.data.data.length>0?(t.tvList=e.data.data,0!=t.tvList.length&&t.getChannel(e.data.data[0])):t.$store.commit("alertMsg","暂无内容"))}))},getChannel:function(t){this.is_loop=!1,this.htmlTitle=t.channel_name,this.weekList=[],this.channel_id=t.channel_id,this.push_flow_url=t.push_flow_url,this.status_loading=!1;var e=new Date,i=(e.getFullYear(),e.getMonth()+1),a=e.getDate();i<10&&(i="0"+i),a<10&&(a="0"+a);this.getDate(t.channel_id)},getDate:function(t){var e=this;this.$get("/live/program-list-date",{params:{channel_id:t}}).then((function(t){"0000"==t.data.code&&(0!=t.data.data.length?(t.data.data.forEach((function(t,e){t.dateDay=t.date.substring(5)})),e.weekList=t.data.data,e.weekList[0].dateDay="今天",e.getProgram(e.weekList[e.week_index]),e.isNone=!1):e.isNone=!0)}))},getProgram:function(t){var e=this;clearInterval(this.timerT),this.allTimeVal="",this.is_loop=!1,this.is_play=!0,this.date=t.date,this.weekVal=t.week;var i={channel_id:this.channel_id,broadcast_date:t.date};this.$get("/live/program-list",{params:i}).then((function(t){if("0000"==t.data.code)if(t.data.data.list.length>0){e.allProgramList=t.data.data.list,e.program_title=e.allProgramList[0].broadcast_name,e.timer=setInterval(e.getForTime,1e3);for(var i=Date.parse(new Date)/1e3,a=0;a<e.allProgramList.length;a++){var n=e.allProgramList[a].broadcast_date+" "+e.allProgramList[a].broadcast_time;if(n=new Date(n).getTime(new Date(n))/1e3,i<n+e.allProgramList[a].duration_num){e.endTimeVal=n,e.TimeNum(),e.textIS=!0;break}i>n+e.allProgramList[a].duration_num&&(clearInterval(e.timerT),e.allTimeVal="今天直播已结束!",e.textIS=!1)}t.data.data.task_id&&e.getTask(t.data.data.task_id,t.data.data.is_loop),e.maxTime=e.date+" 23:59:59",e.maxTime=new Date(e.maxTime).getTime(new Date(e.maxTime))/1e3}else e.program_title="",e.allProgramList=[],e.is_play=!0,e.$store.commit("alertMsg","暂无内容")}))},getTask:function(t,e){var i=this;this.status_loading=!0,this.shareIS=!1,this.is_play=!1,this.$get("/live/task-get",{params:{task_id:t}}).then((function(t){if("0000"==t.data.code&&(t.data.data.is_show&&(i.shareIS=!0),t.data.data.is_show&&Math.round((new Date).getTime()/1e3).toString()>=t.data.data.taskProcess.start_time))if(i.video_options.src=i.push_flow_url,i.status_loading=!1,i.is_play=!0,1==e){i.is_loop=!0;var a=setInterval((function(){i.endTimeALl=i.allProgramList[i.allProgramList.length-1].broadcast_date+" "+i.allProgramList[i.allProgramList.length-1].broadcast_time,i.endTimeALl=new Date(i.endTimeALl).getTime(new Date(i.endTimeALl))/1e3,i.allProgramList.forEach((function(t,e){if(!(i.maxTime>i.endTimeALl))throw i.allProgramList.splice(i.allProgramList.length-1,1),clearInterval(a),new Error("停");i.endTimeALl=i.endTimeALl+t.duration_num;var n=i.timestampToTime(i.endTimeALl),s={broadcast_date:t.broadcast_date,broadcast_name:t.broadcast_name,broadcast_time:n.substring(n.length-8),duration_num:t.duration_num,status:"重播"};i.allProgramList.push(s)}))}),100)}else i.is_loop=!1}))},timestampToTime:function(t){var e=new Date(1e3*t),i=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",s=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",o=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",r=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return i+a+n+s+o+r},getForTime:function(){var t=this,e=Date.parse(new Date)/1e3;this.allProgramList.forEach((function(i,a){var n=i.broadcast_date+" "+i.broadcast_time;n=new Date(n).getTime(new Date(n))/1e3,e>n+i.duration_num?(i.status="已播",i.isShow=!0,t.program_index=a+1):n<e&&e<n+i.duration_num&&1==i.status?(i.status="正在直播",t.program_index=a,t.program_title=i.broadcast_name):e<n+i.duration_num&&1==i.status&&(i.status="未播",t.program_index=0)}));for(var i=0;i<this.allProgramList.length;i++){if("正在直播"==this.allProgramList[i].status){this.is_play=!1,this.program_index=i,this.status_loading=!1;break}if(this.is_loop&&"重播"==this.allProgramList[i].status){this.is_play=!1,this.status_loading=!1,this.video_options.src=this.push_flow_url,this.program_title=item.broadcast_name,this.program_index=i;break}this.is_play=!0}},getShare:function(){var t=this;this.share_url="",document.title=this.htmlTitle,this.$nextTick((function(){t.share_url="http://"+window.location.host+"/share_view_live_channel?channel_id="+t.channel_id,t.$store.commit("modalShow","liveShare")}))}},created:function(){},destroyed:function(){clearInterval(this.timer),this.timer=null},mounted:function(){this.getChannelList()}},r=o,l=(i("3590"),i("9ca4")),c=Object(l["a"])(r,a,n,!1,null,"3f102ca8",null);e["default"]=c.exports},bc56:function(t,e,i){var a=i("b226");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("022373aa",a,!0,{sourceMap:!1,shadowMode:!1})},c4de:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,"#imgModel .modal-content .modal-body{height:420px;width:720px}#imgModel .modal-content .modal-body img{width:100%;height:100%}#addChannelModal table tr td{vertical-align:top}#addChannelModal .name-input{height:30px;width:80%}#addChannelModal .img-box{width:90px;height:90px;border:1px solid #bbb}#addChannelModal textarea{border:1px solid #bbb}#addChannelModal .date-input{width:103px;height:30px}#addChannelModal .upload{margin-left:10px}#addChannelModal .upload .btn-style{color:#c51a1a}",""])},cbb0:function(t,e,i){"use strict";var a=i("5e8c"),n=i.n(a);n.a},cc57:function(t,e,i){var a=i("064e").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,o="name";o in n||i("149f")&&a(n,o,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},d05b:function(t,e,i){"use strict";var a=i("aa42"),n=i.n(a);n.a},dcd3:function(t,e,i){"use strict";var a=i("1105"),n=i.n(a);n.a},dce2:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"live-content"},[a("div",{staticClass:"live-channel"},[t.status_loading?a("loading"):a("div",{staticClass:"live-pad"},[a("div",{staticClass:"live-pad-header"},[a("div",{staticClass:"container d-flex align-items-center"},[t.channel_list.length<1?a("div",{staticClass:"no-channel"},[a("p",[t._v("您还未开通频道！")])]):a("div",{staticClass:"channel_list d-flex flex-wrap"},t._l(t.channel_list,(function(e,i){return a("div",{key:i,class:["cp hove-c channel_name mb-20px",{active:t.channel_active==i}],on:{click:function(a){return t.selectLive(e,i)}}},[a("img",{staticClass:"logo",staticStyle:{width:"40px",height:"40px"},attrs:{src:e.logo_img}}),a("span",[t._v(t._s(e.channel_name))]),a("i",{staticClass:"iconfont iconshare fz-16px ml-10px",on:{click:function(e){return e.stopPropagation(),t.share()}}})])})),0),a("div",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.addChannel()}}},[t._v("开通新频道")])])])]),a("div",{staticClass:"container"},[t.channel_list.length<1?a("div",{staticClass:"d-flex flex-column text-center align-items-center pt-100px"},[a("img",{attrs:{width:"436",height:"306",src:i("085f")}}),a("p",{staticClass:"mt-20px fz-14px fc-999",staticStyle:{"line-height":"1.5"}},[t._v("\n            您还未开通频道！"),a("br"),t._v("\n            若要开通频道，则可点击开通新频道按钮申请，申请通过后完成支付即可开通直播频道！"),a("br")])]):a("div",{staticClass:"content"},[0==t.examine_status?a("p",{staticClass:"ml-30px mt-50px"},[t._v("频道正在审核中")]):t._e(),1==t.examine_status?a("div",{staticClass:"ml-30px mt-50px"},[a("p",{staticClass:"mb-10px"},[t._v("频道审核未通过\n            ")]),a("p",[t._v("频道未通过原因："+t._s(t.channel_list[t.channel_active].remark))]),a("button",{staticClass:"btn btn-linght mt-20px border-radius-20px px-30px",on:{click:function(e){return t.deletChannel()}}},[t._v("删除")])]):t._e(),2==t.examine_status&&0==t.examine_is_pay?a("div",[a("p",{staticClass:"mt-30px"},[t._v("恭喜，您所提交的开通频道申请已经审核通过，完成支付后即可对频道节目进行编辑！")]),a("small",{staticClass:"fc-999"},[t._v("频道实际开通时间以您的支付时间为准。")]),a("div",{staticClass:"table-wrap"},[a("p",{staticClass:"mb-10px mt-30px"},[t._v("订单：")]),a("table",{staticClass:"table w-100"},[a("thead",[a("td",[a("div",{staticClass:"item",staticStyle:{"padding-left":"20px"}},[t._v(" 商品")])]),a("td",[a("div",{staticClass:"item"},[t._v(" 类型")])]),a("td",[a("div",{staticClass:"item"},[t._v(" 单价（元）")])]),a("td",[a("div",{staticClass:"item"},[t._v(" 开通时长")])]),a("td",[a("div",{staticClass:"item"},[t._v(" 折扣")])]),a("td",[a("div",{staticClass:"item"},[t._v(" 总价（元）")])])]),a("tr",[a("td",[a("div",{},[a("img",{staticClass:"logo",staticStyle:{width:"40px",height:"40px"},attrs:{src:t.channel_list[t.channel_active].logo_img}}),a("span",{staticClass:"ml-10px"},[t._v(t._s(t.channel_list[t.channel_active].channel_name))])])]),a("td",[t._v("\n                    "+t._s("虚拟直播频道开通服务")+"\n                  ")]),a("td",[t._v("\n                    ￥ "+t._s(1e3)+"\n                  ")]),a("td",[t._v("\n                    "+t._s(t.channel_list[t.channel_active].month_num)+"\n                  ")]),a("td",[t._v("\n                    无\n                  ")]),a("td",[t._v("\n                    "+t._s(1e3*t.channel_list[t.channel_active].month_num)+"\n                  ")])])]),a("div",{staticClass:"tfoot"},[a("button",{staticClass:"btn btn-primary mr-20px ml-20px",on:{click:function(e){return t.pay()}}},[t._v("立即支付")]),a("div",{},[a("span",[t._v("应付金额： "+t._s(1e3*t.channel_list[t.channel_active].month_num))])])])])]):t._e(),2==t.examine_status&&2==t.examine_is_pay?a("div",{staticClass:"d-flex container flex-column"},[a("div",{staticClass:"pt-10px d-flex flex-column py-20px"},[a("p",{staticClass:"mb-15px fz-18px"},[t._v("推流设置")]),a("div",{staticClass:"d-flex align-items-center justify-content-between"},[a("div",{staticClass:"d-flex align-items-center mr-20px",staticStyle:{width:"60%"}},[a("span",{staticStyle:{width:"150px"}},[t._v("直播流地址:")]),a("el-input",{attrs:{size:"small"},model:{value:t.rtmp_url,callback:function(e){t.rtmp_url=e},expression:"rtmp_url"}})],1),a("div",{staticClass:"d-flex align-items-center flex-1 mr-20px"},[a("span",{staticStyle:{width:"150px"}},[t._v("直播结束时间:")]),a("el-date-picker",{staticStyle:{width:"100%",margin:"0"},attrs:{size:"small",type:"datetime","picker-options":t.pickerOptions,placeholder:"请设置您的直播结束时间"},model:{value:t.rtmp_endtime,callback:function(e){t.rtmp_endtime=e},expression:"rtmp_endtime"}})],1),a("button",{staticClass:"btn btn-linght btn-primary",on:{click:function(e){return t.saveRtmp()}}},[t._v("保存")])])]),a("div",{staticClass:"d-flex"},[a("padLeft",{attrs:{channel_data:t.channel_list[t.channel_active]}}),a("padRight",{staticClass:"flex-1"})],1)]):t._e(),2==t.examine_status&&1==t.examine_is_pay?a("div",{staticClass:"d-flex container"},[a("p",{staticClass:"mt-40px ml-20px"},[t._v("支付失败")])]):t._e()])]),a("addChannelModal",{on:{submitForm:t.submitForm}}),t.channel_list.length>0?a("channelLivePayModal",{ref:"livePay",attrs:{channel_id:t.channel_list[t.channel_active].channel_id},on:{paySuccess:t.paySuccess,payError:t.payError}}):t._e(),a("liveShareModal",{attrs:{url:t.share_url}})],1)],1)])},n=[],s=(i("7836"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"addChannelModal"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"d-flex justify-content-between w-100"},[i("div",[t._v("\n            申请资料\n          ")]),i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})])]),i("div",{staticClass:"modal-body"},[i("table",{staticClass:"w-100",staticStyle:{"border-collapse":"separate","border-spacing":"0px 20px"}},[i("tr",[i("td",[t._v("频道名称：")]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.from.title,expression:"from.title"}],staticClass:"name-input",attrs:{type:"text"},domProps:{value:t.from.title},on:{input:function(e){e.target.composing||t.$set(t.from,"title",e.target.value)}}})])]),i("tr",[i("td",[t._v("频道logo：")]),i("td",[i("div",{staticClass:"d-flex align-items-center fz-14px fc-999"},[i("div",{staticClass:"img-box d-flex justify-content-center align-items-center"},[t.from.img?i("img",{attrs:{src:t.from.img}}):i("span",{staticClass:"text-center"},[t._v("上传频道logo")])]),i("upload",{ref:"upImage",staticClass:"btn btn-linght btn-sm px-10px border-radius-20px fc-c",attrs:{button_name:"上传"},on:{getFileUrl:t.getImageUrl}}),i("p",{staticClass:"mx-10px"},[t._v("频道logo底色为白色，形状为圆形")])],1)])]),i("tr",[i("td",[t._v("直播流地址：")]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.from.rtmp_url,expression:"from.rtmp_url"}],staticClass:"name-input",attrs:{type:"text"},domProps:{value:t.from.rtmp_url},on:{input:function(e){e.target.composing||t.$set(t.from,"rtmp_url",e.target.value)}}})])]),i("tr",[i("td",[t._v("直播结束时间：")]),i("td",[i("el-date-picker",{attrs:{type:"datetime","picker-options":t.pickerOptions,placeholder:"选择日期时间"},model:{value:t.from.rtmp_endtime,callback:function(e){t.$set(t.from,"rtmp_endtime",e)},expression:"from.rtmp_endtime"}})],1)]),i("tr",[i("td",[t._v("申请说明：")]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.from.des,expression:"from.des"}],staticStyle:{height:"158px",width:"100%",resize:"none"},attrs:{placeholder:"请输入文本",maxlength:"200"},domProps:{value:t.from.des},on:{input:function(e){e.target.composing||t.$set(t.from,"des",e.target.value)}}})])]),i("tr",[i("td",[t._v("申请时长：")]),i("td",[i("div",{staticClass:"d-flex align-items-center fz-14px"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.from.date,expression:"from.date"}],staticClass:"date-input",attrs:{type:"number"},domProps:{value:t.from.date},on:{input:function(e){e.target.composing||t.$set(t.from,"date",e.target.value)}}}),i("span",{staticClass:"mx-10px"},[t._v("个月")])])])])])]),i("div",{staticClass:"modal-footer"},[i("div",{staticClass:"d-flex justify-content-center w-100"},[i("button",{staticClass:"btn btn-primary mb-15px",on:{click:function(e){return t.submitForm()}}},[t._v("提交")])])])])])])}),o=[],r=i("9dac"),l={props:["imgModelSrc"],data:function(){return{from:{title:"",date:"",img:"",des:"",xd_url:"",rtmp_url:"",rtmp_endtime:new Date},pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}}}},components:{upload:r["a"]},methods:{close:function(){this.$store.commit("modalHidden","addChannelModal")},getImageUrl:function(t,e){var i=this,a=new FormData;a.append("logo_img",e),this.$post("/live/upload_img",a).then((function(t){"0000"==t.data.code?(i.from.img=t.data.data.net_url,i.from.xd_url=t.data.data.xd_url):i.$store.commit("alertMsg",t.data.msg)}))},submitForm:function(){var t=this,e=new Date(this.from.rtmp_endtime).getTime(),i={channel_name:this.from.title,logo_img:this.from.xd_url,remark:this.from.des,month_num:this.from.date,rtmp_url:this.from.rtmp_url,rtmp_endtime:e};this.$post("/live/apply",i).then((function(e){"0000"==e.data.code?t.$emit("submitForm"):t.$store.commit("alertMsg",e.data.msg),t.close()}))}},created:function(){},mounted:function(){}},c=l,d=(i("821c"),i("9ca4")),p=Object(d["a"])(c,s,o,!1,null,null,null),u=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"channelLivePayModal"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"d-flex justify-content-between w-100"},[t._m(0),i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})])]),t._m(1),i("div",{staticClass:"modal-footer"})])])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticStyle:{widht:"30px",height:"30px"},attrs:{src:i("8219d")}}),t._v("\n            支付宝\n          ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("div",[a("div",{attrs:{id:"qrcode"}}),a("p",{staticClass:"fz-12px text-center mt-10px"},[t._v("请使用支付宝扫描二维码支付")])]),a("img",{attrs:{src:i("222f")}})])])}],h=i("1f57"),v=i.n(h),g={props:["channel_id"],name:"livePayModal",data:function(){return{qr_code:"",out_trade_no:"",timer:null}},components:{upload:r["a"]},methods:{close:function(){clearInterval(this.timer),this.timer=null,this.$store.commit("modalHidden","channelLivePayModal")},pay:function(){var t=this,e=document.getElementById("qrcode");e.innerHTML="",this.$store.commit("modalShow","channelLivePayModal"),this.$post("/pay/pay-live-channel",{type:2,channel_id:this.channel_id}).then((function(e){"10000"==e.data.code?(t.qr_code=e.data.qr_code,t.out_trade_no=e.data.out_trade_no,t.qrCode(),t.getPayLiveStatus()):t.$store.commit("alertMsg",e.data.msg)}))},getPayLiveStatus:function(){var t=this;this.timer=setInterval((function(){t.$get("/pay/pay-live-channel-find",{params:{out_trade_no:t.out_trade_no}}).then((function(e){var i=e.data.data.status;1==i&&(clearInterval(t.timer),t.timer=null,t.$emit("paySuccess")),2==i&&(clearInterval(t.timer),t.timer=null,t.$emit("payError"))}))}),1e3)},qrCode:function(){new v.a("qrcode",{width:225,height:225,text:this.qr_code,colorDark:"#000",colorLight:"#fff"})}},created:function(){},mounted:function(){},destroyed:function(){clearInterval(this.timer),this.timer=null}},_=g,x=(i("47bd"),Object(d["a"])(_,m,f,!1,null,null,null)),y=x.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"live-pad-left"},[i("div",{staticClass:"title"},[t._v("\n    我的节目单 EPG\n  ")]),i("div",{staticClass:"date-box d-flex align-items-center justify-content-between"},[i("div",[i("i",{class:["icon",{red:1==t.play_status,green:0==t.play_status,gray:2==t.play_status}]}),0==t.play_status?i("span",[t._v("未播")]):t._e(),1==t.play_status?i("span",[t._v("正在播")]):t._e(),2==t.play_status?i("span",[t._v("已播")]):t._e()]),i("div",[i("i",{staticClass:"iconfont iconicon left-icon font-weight-bold fz-16px"}),i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",clearable:!1,placeholder:"选择日期"},on:{change:t.changeDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),i("i",{staticClass:"iconfont iconicon font-weight-bold fz-16px"})],1),t._m(0)]),i("programList",{ref:"programList",attrs:{date:t.date,channel_data:t.channel_data},on:{setStartDate:t.setStartDate,setProgramList:t.setProgramList}}),i("div",{staticClass:"live-preview"},[i("p",{staticClass:"fz-18px mb-10px pt-15px"},[t._v("直播预览")]),t.video_options.src||t.video_status_loading?t.video_options.src?i("newVideoPlay",{attrs:{video_options:t.video_options,crossOrigin:!1},on:{videoEnded:t.videoEnded}}):t._e():i("div",{staticClass:"no-video d-flex justify-content-center align-items-center"},[i("i",{staticClass:"iconfont iconbofang2 fz-50px fc-999 cp",on:{click:t.videoEnded}})]),i("ul",{staticClass:"progress mt-15px"},[t._l(t.program_list,(function(e,a){return i("li",{key:a,staticClass:"item fz-12px fc-white cp",style:e.styleObject,on:{click:function(i){t.selectLiveProgram(e,a),t.live_active_index=a}}},[t._v(t._s(a+1))])})),i("li",{staticClass:"time_count"},[t._v("\n        24H\n      ")])],2)],1)],1)},w=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("i",{staticClass:"el-input__icon el-icon-date"})])}],C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"live-program-list-box"},[i("ul",{staticClass:"list"},[t.list.length<1?i("li",{staticClass:"d-flex align-items-center fz-14px"},[i("div",{staticClass:"index"},[t._v("1")]),i("div",{staticClass:"date px-20px"},[t._v("06:00:00")]),i("div",{staticClass:"des"},[t._v("当前没有节目单")])]):t._l(t.list,(function(e,a){return i("li",{key:a,staticClass:"d-flex align-items-center fz-14px"},[i("div",{staticClass:"index"},[t._v(t._s(a+1))]),0==a&&t.change_date?i("el-time-picker",{attrs:{size:"mini",placeholder:"任意时间点"},on:{blur:t.changeStartDate},model:{value:t.el_time_vlaue,callback:function(e){t.el_time_vlaue=e},expression:"el_time_vlaue"}}):t._e(),a>0||!t.change_date?i("a",{staticClass:"date px-20px"},[t._v(t._s(e.broadcast_time))]):t._e(),t.change_names?i("input",{directives:[{name:"model",rawName:"v-model",value:e.broadcast_name,expression:"item.broadcast_name"}],staticClass:"input-des",attrs:{type:"text"},domProps:{value:e.broadcast_name},on:{input:function(i){i.target.composing||t.$set(e,"broadcast_name",i.target.value)}}}):i("a",{staticClass:"des"},[t._v(t._s(e.broadcast_name))]),i("a",{directives:[{name:"show",rawName:"v-show",value:t.delet_show,expression:"delet_show"}],staticClass:"fc-c ml-auto"},[i("i",{staticClass:"iconfont iconshanchu fz-12px ml-10px",staticStyle:{"vertical-align":"middle"},on:{click:function(i){return t.delet(e,a)}}})])],1)}))],2),i("p",{staticClass:"fz-12px my-15px fc-999"},[t._v("完成节目单设置，点击生效按钮才可以在直播广场中看到您的直播节目呦！")]),i("div",{staticClass:"d-flex justify-content-end fz-12px mt-20px mb-10px align-items-center"},[i("label",{staticClass:"fc-c mx-10px",attrs:{for:"checkbox"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.is_loop,expression:"is_loop"}],attrs:{id:"checkbox",type:"checkbox"},domProps:{checked:Array.isArray(t.is_loop)?t._i(t.is_loop,null)>-1:t.is_loop},on:{change:function(e){var i=t.is_loop,a=e.target,n=!!a.checked;if(Array.isArray(i)){var s=null,o=t._i(i,s);a.checked?o<0&&(t.is_loop=i.concat([s])):o>-1&&(t.is_loop=i.slice(0,o).concat(i.slice(o+1)))}else t.is_loop=n}}}),t._v("\n        是否轮播\n      ")]),i("a",{staticClass:"fc-c",on:{click:function(e){t.change_date=!t.change_date}}},[i("i",{staticClass:"iconfont iconshijian",staticStyle:{"vertical-align":"text-top"}}),t._v("\n        起始时间\n      ")]),i("a",{staticClass:"mx-10px fc-c",on:{click:function(e){t.change_names=!t.change_names}}},[i("i",{staticClass:"iconfont iconqianbi fz-12px",staticStyle:{"vertical-align":"unset"}}),t._v("\n        更名\n      ")]),i("a",{staticClass:"fc-c",on:{click:function(e){t.delet_show=!t.delet_show}}},[i("i",{staticClass:"iconfont iconshanchu fz-12px ml-10px",staticStyle:{"vertical-align":"middle"}}),t._v(" 删除\n      ")])])]),i("div",{staticClass:"d-flex my-15px"},[i("button",{staticClass:"btn btn-primary btn-linght ml-auto mr-10px btn-sm",staticStyle:{width:"60px"},attrs:{disabled:t.save_btn_disabled||!t.can_edit},on:{click:function(e){return t.save()}}},[t._v("保存")]),i("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{width:"60px"},attrs:{disabled:!t.can_edit},on:{click:function(e){return t.takeEffect()}}},[t._v("生效")])])])},k=[],S=(i("6d57"),i("ff21"),i("9a33"),i("81fd"),i("6f9c")),L={props:["date","channel_data"],data:function(){return{change_names:!1,change_date:!1,can_edit_date:new Date((new Date).setHours(6,0,0,0)),start_time:"",el_time_vlaue:"",delet_show:!1,save_btn_disabled:!1,list:[],can_edit:!0,is_loop:!1,rtmp_endtime:"",rtmp_url:"",pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}}}},components:{},computed:{authorizedObj:function(){return this.$store.state.authorizedObj}},watch:{authorizedObj:function(t){if(this.setStartDate(),this.can_edit){var e=t.uuid;e||(e=t.id);var i=this.list.some((function(t){var i=t.uuid;return i||(i=t.id),e==i}));i?this.$store.commit("alertMsg","您已添加过该视频"):(this.list.push(t),this.setList(this.list))}else this.$store.commit("alertMsg","最早可编辑时间为 "+this.can_edit_date)},list:function(){this.$emit("setProgramList",this.list)}},methods:{setList:function(t){var e=this;return function(t){t=t;for(var i=e.start_time,a=0;a<t.length;a++){var n=t[a];if(a>0&&n.duration_num){var s=t[a-1].timeStamp,o=1e3*t[a-1].duration_num;i=s+o}new Date(e.can_edit_date).getDate(),new Date(i).getDate();n.timeStamp=i,n.broadcast_name||(n.broadcast_name="".concat(n.title)),n.broadcast_time=Object(S["b"])(n.timeStamp),n.broadcast_date=Object(S["a"])(n.timeStamp);var r=n.broadcast_time.split(":"),l=3600*parseInt(r[0]),c=60*parseInt(r[1]),d=parseInt(r[2]),p=l+c+d;n.styleObject={left:p/86400*100+"%",width:n.duration_num/86400*100+"%",lineHeight:"28px"}}e.list=t}(t)},save:function(){var t=this,e=[];this.save_btn_disabled=!0,this.list.forEach((function(i){var a={channel_id:t.$route.query.channel_id,uuid:i.uuid,broadcast_name:i.broadcast_name,broadcast_date:i.broadcast_date,broadcast_time:i.broadcast_time,program_type:i.program_type,is_loop:t.is_loop};i.id&&(a.id=i.id),e.push(a)})),this.change_names=!1,this.$post("/live/add-program",e).then((function(e){"0000"==e.data.code?(e.data.data.status?t.$store.commit("alertMsg","保存成功"):t.$store.commit("alertMsg",e.data.data.msg),t.getProgramList()):t.$store.commit("alertMsg",e.data.msg),t.save_btn_disabled=!1})).then((function(t){}))},getProgramList:function(){var t=this,e={channel_id:this.$route.query.channel_id,type:"1,2,3",broadcast_date:this.date};this.setStartDate(),this.$get("/live/program-list",{params:e}).then((function(e){"0000"==e.data.code?(t.list=e.data.data.list,t.list.length>0&&t.setList(t.list),t.channel_data.rtmp_url&&(t.is_loop=!!e.data.data.is_loop,t.rtmp_url=t.channel_data.rtmp_url,t.rtmp_endtime=1e3*t.channel_data.rtmp_endtime)):t.$store.commit("alertMsg",e.data.msg)}))},delet:function(t,e){var i=this;if(!t.id)return this.list.splice(e,1),void this.setList(this.list);this.$post("/live/program-del",{channel_id:this.$route.query.channel_id,ids:t.id}).then((function(t){if("0000"==t.data.code){var e=t.data.data.status;e||i.$store.commit("alertMsg",t.data.data.msg)}else i.$store.commit("alertMsg",t.data.msg)}))},takeEffect:function(){var t=this,e="";0==this.list.length?this.$store.commit("alertMsg","请先添加节目单"):this.list.forEach((function(t){e+=t.id+","})),e?this.$post("/live/program-effect",{channel_id:this.$route.query.channel_id,ids:e}).then((function(e){"0000"==e.data.code?e.data.data.status?t.$store.commit("alertMsg","节目已生效可以在直播广场中查看"):t.$store.commit("alertMsg",e.data.data.msg):t.$store.commit("alertMsg",e.data.msg)})):this.$store.commit("alertMsg","请先保存")},changeStartDate:function(t){var e=new Date(this.el_time_vlaue).getHours(),i=new Date(this.el_time_vlaue).getMinutes(),a=new Date(this.el_time_vlaue).getSeconds(),n=new Date(this.start_time).setHours(e,i,a,0);this.start_time=n,this.setList(this.list),this.change_date=!1},setStartDate:function(){var t=864e5,e=new Date((new Date).getTime()+t);this.can_edit_date=Object(S["a"])(e),this.start_time=new Date(e).setHours(6,0,0,0);var i=new Date(this.date).setHours(6,0,0,0);if(i>new Date(e).getTime()&&(this.start_time=new Date(i).setHours(6,0,0,0)),this.list.length>0){var a=this.list[0].broadcast_date+" "+this.list[0].broadcast_time;this.start_time=new Date(a).getTime()}var n=(new Date).getTime(),s=432e5;this.can_edit=i-n>s}},created:function(){this.getProgramList()},mounted:function(){}},T=L,M=(i("0b9e"),Object(d["a"])(T,C,k,!1,null,"e2c74dd0",null)),$=M.exports,z={props:["channel_data"],data:function(){return{date:(new Date).setHours(6,0,0,0),play_status:0,video_options:{width:470,height:265,src:"",autoplay:!0},program_list:[],preview_list:[],total_duration:0,video_status_loading:!1,live_active_index:0}},components:{programList:$},computed:{},watch:{},methods:{livePreviwe:function(t){var e=this,i={channel_id:this.$route.query.channel_id,type:"1,2,3",broadcast_date:this.date};this.$get("/live/live-preview",{params:i}).then((function(t){"0000"==t.data.code?e.preview_list=t.data.data.list:e.$store.commit("alertMsg",t.data.msg)}))},setProgramList:function(t){this.program_list=[],this.program_list=t,this.livePreviwe()},selectLiveProgram:function(t,e){var i=this;this.video_status_loading=!1,this.video_options.src="",this.$nextTick((function(){e>i.preview_list.length-1||0==i.preview_list.length?i.$store.commit("alertMsg","请先保存"):i.preview_list.length>0&&(i.video_options.src=i.preview_list[e].video_url,i.video_status_loading=!0)}))},videoEnded:function(){var t=this;this.video_options.src="",this.$nextTick((function(){t.preview_list.length>0&&(t.video_options.src=t.preview_list[t.live_active_index].video_url)}))},changeDate:function(){this.$refs.programList.getProgramList()},setStartDate:function(t){this.date=t}},created:function(){this.date=Object(S["a"])(new Date)},mounted:function(){}},D=z,I=(i("674f"),Object(d["a"])(D,b,w,!1,null,null,null)),P=I.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-20px pt-23px"},[i("div",{staticClass:"d-flex",staticStyle:{"border-bottom":"1px solid #e8e8e8"}},[i("div",{staticClass:"fz-18px fc-10",staticStyle:{"padding-bottom":"16px"}},[t._v("添加节目")]),i("div",{staticClass:"ml-60px d-flex"},t._l(t.tabList,(function(e,a){return i("div",{key:a,class:["mr-40px fc-999 fz-14px cp",{active:t.activeIndex==a}],staticStyle:{"padding-bottom":"13px"},on:{click:function(i){t.selectType(e,a),t.activeIndex=a}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),0)]),0===t.activeIndex?i("div",{staticClass:"mt-24px"},[i("authorizedColumn")],1):1===t.activeIndex?i("div",{staticClass:"mt-24px"},[i("customColumn")],1):2===t.activeIndex?i("div",{staticClass:"mt-24px"},[i("buyVideo")],1):t._e()])},E=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"mt-27px d-flex justify-content-between"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"fz-12px nowrap mt-5px",staticStyle:{color:"#151515"}},[t._v("频道:")]),i("div",[t.channelShow?t._e():i("div",{staticClass:"d-flex flex-wrap "},t._l(t.channelListShowList,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.getData(e,a)}}},[i("div",{class:["fz-12px cp px-11px py-6px ml-30px mb-10px",{activeT:t.activeIndexS==a}],staticStyle:{border:"1px solid #C3C3C3","border-radius":"3px",color:"#202020"}},[t._v(t._s(e.name))])])})),0),t.channelShow?i("div",{staticClass:"d-flex flex-wrap"},t._l(t.channelList,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.getData(e,a)}}},[i("div",{class:["fz-12px cp px-11px py-6px ml-15px mb-10px",{activeT:t.activeIndexS==a}],staticStyle:{border:"1px solid #C3C3C3","border-radius":"3px",color:"#202020"}},[t._v(t._s(e.name))])])})),0):t._e()])]),t.channelListShowList.length>7?i("div",{staticClass:"cp nowrap fz-12px fc-c",on:{click:function(e){t.channelShow=!t.channelShow}}},[t._v(t._s(t.channelShow?"收起":"展开"))]):t._e()]),i("div",{staticClass:"mt-27px d-flex justify-content-between"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"fz-12px nowrap",staticStyle:{color:"#151515"}},[t._v("栏目:")]),i("div",[t.columnShow?t._e():i("div",{staticClass:"d-flex flex-wrap"},t._l(t.columnListShowList,(function(e,a){return i("div",{key:a,on:{click:function(i){t.activeIndex=a,t.getItemId(e.item_id)}}},[i("div",{class:["fc-999 fz-12px cp ml-30px mb-20px",{active:t.activeIndex==a}]},[t._v(t._s(e.name))])])})),0),t.columnShow?i("div",{staticClass:"d-flex flex-wrap"},t._l(t.columnList,(function(e,a){return i("div",{key:a,on:{click:function(i){t.activeIndex=a,t.getItemId(e.item_id)}}},[i("div",{class:["fc-999 fz-12px cp ml-30px mb-20px",{active:t.activeIndex==a}]},[t._v(t._s(e.name))])])})),0):t._e()])]),t.columnListShowList.length>12?i("div",{staticClass:"cp nowrap fz-12px fc-c",on:{click:function(e){t.columnShow=!t.columnShow}}},[t._v(t._s(t.columnShow?"收起":"展开"))]):t._e()]),i("div",{staticClass:"mt-10px d-flex align-items-center"},[i("div",{staticClass:"fz-12px",staticStyle:{color:"#151515"}},[t._v("时间:")]),t._l(t.timeList,(function(e,a){return i("div",{key:a,on:{click:function(i){t.activeIndexT=a,t.checktime(e)}}},[i("div",{class:["fc-999 fz-12px cp ml-30px",{active:t.activeIndexT==a}]},[t._v(t._s(e.name))])])})),i("div",{staticClass:"d-flex align-items-center ml-30px"},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",size:"small",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择起始日期"},on:{change:function(e){return t.getTime()}},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}}),i("span",{staticClass:"mx-10px fz-12px"},[t._v("至")]),i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",placeholder:"选择结束日期"},on:{change:function(e){return t.getTime()}},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})],1)],2),i("el-input",{staticClass:"mt-26px",staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"搜索视频名称","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getPlayList()}},model:{value:t.form.keywords,callback:function(e){t.$set(t.form,"keywords",e)},expression:"form.keywords"}}),i("div",{staticClass:"mt-24px"},[i("el-row",{attrs:{gutter:20}},t._l(t.list,(function(e,a){return i("el-col",{key:a,staticClass:"mb-20px",attrs:{span:8}},[i("div",{staticStyle:{height:"310px","box-shadow":"0px 2px 8px 0px rgba(0, 0, 0, 0.15)",position:"relative"},on:{mouseenter:function(t){e.iconShow=!0},mouseleave:function(t){e.iconShow=!1},click:function(e){return t.goDetalis()}}},[i("img",{staticClass:"w-100",staticStyle:{height:"132px"},attrs:{src:e.image}}),i("i",{directives:[{name:"show",rawName:"v-show",value:e.iconShow,expression:"item.iconShow"}],staticClass:"iconfont iconcut fz-10px fc-white cp p-3px",staticStyle:{position:"absolute",top:"5px",right:"5px",background:"rgba(197, 27, 25, 1)","border-radius":"50%"},on:{click:function(e){return e.stopPropagation(),t.cut()}}}),i("i",{directives:[{name:"show",rawName:"v-show",value:e.iconShow,expression:"item.iconShow"}],staticClass:"iconfont iconadd fz-10px fc-white cp p-3px",staticStyle:{position:"absolute",top:"5px",left:"5px",background:"rgba(197, 27, 25, 1)","border-radius":"3px"},on:{click:function(i){return i.stopPropagation(),t.add(e)}}}),i("div",{staticClass:"p-13px"},[i("div",{staticStyle:{"border-bottom":"1px solid #eaeaea"}},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"fz-14px fc-10 text-ellipsis"},[t._v(t._s(e.title))])]),i("div",{staticClass:"d-flex mt-10px pb-10px flex-wrap"},t._l(e.briefT,(function(e,a){return i("div",{key:a,staticClass:"mr-5px fz-12px fc-999 nowrap mb-5px"},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"fz-12px fc-999 mt-10px"},[t._v("《"+t._s(e.program_name)+"》")]),i("div",{staticClass:"fz-12px fc-999 mt-10px"},[t._v(t._s(e.create_time))]),i("div",{staticClass:"mt-10px d-flex"},[e.is_add_program?i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticStyle:{width:"16px",height:"16px","background-color":"rgba(197, 27, 25, 1)","border-radius":"50%","text-align":"center","line-height":"14px"}},[i("i",{staticClass:"iconfont iconqueding fz-10px fc-white"})]),i("div",{staticClass:"fz-12px fc-c ml-5px"},[t._v("已加入")])]):t._e(),e.is_cut?i("div",{staticClass:"d-flex align-items-center ml-13px"},[i("div",{staticStyle:{width:"16px",height:"16px","background-color":"rgba(197, 27, 25, 1)","border-radius":"50%","text-align":"center","line-height":"14px"}},[i("i",{staticClass:"iconfont iconqueding fz-10px fc-white"})]),i("div",{staticClass:"fz-12px fc-c ml-5px"},[t._v("已剪辑")])]):t._e()]),i("div",{staticClass:"d-flex mt-10px flex-wrap"},t._l(e.add_program_dateT,(function(e,a){return i("div",{key:a,staticClass:"fz-12px fc-666 nowrap mr-5px",staticStyle:{padding:"4px 8px",background:"#DBDBDB","border-radius":"30px"}},[t._v("\n                "+t._s(e)+"\n              ")])})),0)])])])})),1)],1),i("keep-alive",[t.form.total/t.form.limit>1?i("div",{staticClass:"d-flex justify-content-end mt-40px"},[i("el-pagination",{attrs:{background:"","current-page":t.form.page,"page-size":t.form.limit,layout:"prev, pager, next, jumper",total:t.form.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.form,"page",e)},"update:current-page":function(e){return t.$set(t.form,"page",e)}}})],1):t._e()])],1)},U=[],F={props:[],data:function(){return{columnList:[],columnListShowList:[],allColumnList:[],channelList:[],channelListShowList:[],columnShow:!1,columnText:"展开",channelShow:!1,channelText:"展开",columnHeight:56,timeList:[{id:1,name:"今天"},{id:2,name:"一周内"},{id:3,name:"一月内"},{id:4,name:"半年内"}],activeIndex:0,activeIndexT:null,activeIndexS:0,form:{item_id:"",copyright_owner_id:"",keywords:"",start_time:"",end_time:"",page:1,limit:12,total:""},list:[]}},computed:{},created:function(){this.getChannelCopyownerItem()},methods:{getChannelCopyownerItem:function(){var t=this;this.$get("/live/channel-copyowner-items").then((function(e){"0000"==e.data.code&&(t.allColumnList=e.data.data.itemInfo,t.channelList=e.data.data.copyInfo,t.channelList.forEach((function(e,i){i<7&&t.channelListShowList.push(e)})),t.getColumnList(t.channelList[0]))}))},getData:function(t,e){this.activeIndex=0,this.activeIndexS=e,this.getColumnList(t)},getColumnList:function(t){var e=this;this.columnListShowList=[],this.columnList=[],this.allColumnList.forEach((function(i,a){a<12&&t.copyright_owner_id==i.copyright_owner_id&&e.columnListShowList.push(i),t.copyright_owner_id==i.copyright_owner_id&&e.columnList.push(i)})),this.form.copyright_owner_id=t.copyright_owner_id,this.form.item_id=this.columnList[0].item_id,this.getPlayList()},getItemId:function(t){this.form.item_id=t,this.getPlayList()},getPlayList:function(){var t=this;this.$get("/live/play-list",{params:this.form}).then((function(e){"0000"==e.data.code&&(e.data.data.items.forEach((function(t,e){t.iconShow=!1,t.briefT=[],t.add_program_dateT=[],t.add_program_date.forEach((function(e,i){i<2&&t.add_program_dateT.push(e)})),t.brief.forEach((function(e,i){i<2&&t.briefT.push(e)}))})),t.list=e.data.data.items,t.form.total=e.data.data.page_info.total)}))},handleCurrentChange:function(t){this.form.page=t,this.getPlayList()},getYear:function(t){var e=new Date(t),i=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=e.getDate()<10?"0"+e.getDate()+" ":e.getDate();return i+a+n},checktime:function(t){var e=new Date,i=new Date;1==t.id||(2==t.id?i.setTime(i.getTime()-6048e5):3==t.id?i.setTime(i.getTime()-2592e6):4==t.id&&i.setTime(i.getTime()-158112e5)),this.form.start_time=this.getYear(i),this.form.end_time=this.getYear(e),this.getPlayList()},getTime:function(){this.form.start_time&&this.form.end_time&&this.getPlayList()},add:function(t){t.program_type=this.$route.query.program_type,this.$store.commit("setAuthorizedObj",t)},cut:function(){},goDetalis:function(){},getFileUrl:function(t,e){}},mounted:function(){},watch:{},components:{}},q=F,R=(i("dcd3"),Object(d["a"])(q,O,U,!1,null,"a09e5068",null)),B=R.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"border-radius-20px d-flex justify-content-center fz-14px fc-c cp",staticStyle:{height:"36px",width:"140px","line-height":"36px","text-align":"center",border:"1px solid #C51B19"},on:{click:t.getModel}},[i("i",{staticClass:"iconfont iconshangchuan mr-5px fz-20px"}),t._v("\n    上传视频\n  ")]),0!=t.list.length?i("div",{staticClass:"mt-27px d-flex"},[i("div",{staticClass:"fz-12px nowrap",staticStyle:{color:"#151515"}},[t._v("分类:")]),i("div",{staticClass:"d-flex flex-wrap"},t._l(t.typeList,(function(e,a){return i("div",{key:a,on:{click:function(i){t.activeIndex=a,t.getTypeData(e)}}},[i("div",{class:["fc-999 fz-12px cp ml-30px mb-20px",{active:t.activeIndex==a}]},[t._v(t._s(e.name))])])})),0)]):t._e(),0!=t.list.length?i("div",{staticClass:"mt-10px d-flex align-items-center"},[i("div",{staticClass:"fz-12px",staticStyle:{color:"#151515"}},[t._v("时间:")]),t._l(t.timeList,(function(e,a){return i("div",{key:a,on:{click:function(i){t.activeIndexT=a,t.checktime(e)}}},[i("div",{class:["fc-999 fz-12px cp ml-30px",{active:t.activeIndexT==a}]},[t._v(t._s(e.name))])])})),i("div",{staticClass:"d-flex align-items-center ml-30px"},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",size:"small",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择起始日期"},on:{change:function(e){return t.getTime()}},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}}),i("span",{staticClass:"mx-10px fz-12px"},[t._v("至")]),i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",placeholder:"选择结束日期"},on:{change:function(e){return t.getTime()}},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})],1)],2):t._e(),i("el-input",{directives:[{name:"show",rawName:"v-show",value:0!=t.list.length,expression:"list.length != 0"}],staticClass:"mt-26px",staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"搜索视频名称","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getPlayList()}},model:{value:t.form.keywords,callback:function(e){t.$set(t.form,"keywords",e)},expression:"form.keywords"}}),i("div",{staticClass:"mt-24px"},[i("el-row",{attrs:{gutter:20}},t._l(t.list,(function(e,a){return i("el-col",{key:a,staticClass:"mb-20px",attrs:{span:8}},[i("div",{staticStyle:{"box-shadow":"0px 2px 8px 0px rgba(0, 0, 0, 0.15)",position:"relative"},on:{mouseenter:function(t){e.iconShow=!0},mouseleave:function(t){e.iconShow=!1},click:function(e){return t.goDetalis()}}},[i("img",{staticClass:"w-100",staticStyle:{height:"132px"},attrs:{src:e.image}}),i("i",{directives:[{name:"show",rawName:"v-show",value:e.iconShow,expression:"item.iconShow"}],staticClass:"iconfont iconadd fz-10px fc-white cp p-3px",staticStyle:{position:"absolute",top:"5px",left:"5px",background:"rgba(197, 27, 25, 1)","border-radius":"3px"},on:{click:function(i){return i.stopPropagation(),t.add(e)}}}),i("div",{staticClass:"p-13px"},[i("div",{staticStyle:{"border-bottom":"1px solid #eaeaea"}},[i("div",{staticClass:"fz-12px fc-999  text-ellipsis"},[t._v("《"+t._s(e.title)+"》")]),i("div",{staticClass:"fz-12px fc-999 mt-10px pb-10px"},[t._v(t._s(e.create_time))])]),i("div",{staticClass:"mt-8px d-flex"},[e.is_add_program?i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticStyle:{width:"16px",height:"16px","background-color":"rgba(197, 27, 25, 1)","border-radius":"50%","text-align":"center","line-height":"14px"}},[i("i",{staticClass:"iconfont iconqueding fz-10px fc-white"})]),i("div",{staticClass:"fz-12px fc-c ml-5px"},[t._v("已加入")])]):t._e()]),i("div",{staticClass:"d-flex mt-10px"},t._l(e.add_program_dateT,(function(e,a){return i("div",{key:a,staticClass:"fz-12px fc-666 nowrap mr-5px",staticStyle:{padding:"4px 8px",background:"#DBDBDB","border-radius":"30px"}},[t._v("\n                "+t._s(e)+"\n              ")])})),0)])])])})),1)],1),0==t.list.length?i("div",{staticClass:"w-100 d-flex flex-column align-items-center"},[i("i",{staticClass:"iconfont iconduibuqi fc-999 fz-60px mt-100px"}),i("div",{staticClass:"fz-12px fc-999 mt-20px"},[t._v("您可在自创节目库中上传您自己制作的视频，并将其添加到节目单中，赶快点击按钮上传吧！")])]):t._e(),i("keep-alive",[t.form.total/t.form.limit>1?i("div",{staticClass:"d-flex justify-content-end mt-40px"},[i("el-pagination",{attrs:{background:"","current-page":t.form.page,"page-size":t.form.limit,layout:"prev, pager, next, jumper",total:t.form.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.form,"page",e)},"update:current-page":function(e){return t.$set(t.form,"page",e)}}})],1):t._e()]),i("customColumnModel")],1)},N=[],A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"customColumnModel"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header align-items-center"},[i("div",{staticClass:"d-flex justify-content-between w-100"},[i("h5",[t._v("上传视频")]),i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"d-flex align-items-center mt-29px"},[i("div",{staticClass:"fz-14px fc-10"},[t._v("视频名称：")]),i("el-input",{staticStyle:{width:"326px"},attrs:{placeholder:"请输入要开通的频道名称",size:"small"},model:{value:t.from.title,callback:function(e){t.$set(t.from,"title",e)},expression:"from.title"}})],1),i("div",{staticClass:"d-flex align-items-center mt-29px"},[i("div",{staticClass:"fz-14px fc-10"},[t._v("视频分类：")]),i("el-select",{attrs:{filterable:"",placeholder:"选择分类",size:"small"},on:{change:function(e){return t.getType()}},model:{value:t.from.type,callback:function(e){t.$set(t.from,"type",e)},expression:"from.type"}},t._l(t.options,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),i("div",{staticClass:"d-flex align-items-center mt-29px"},[i("div",{staticClass:"fz-14px fc-10"},[t._v("视频封面：")]),i("div",{staticClass:"border-radius-20px d-flex justify-content-center",staticStyle:{height:"26px",width:"78px","line-height":"26px","text-align":"center",border:"1px solid #C51B19"}},[i("upload",{ref:"upImage",attrs:{button_name:"上传封面"},on:{getFileUrl:t.getFileImage}})],1)]),i("div",{staticClass:"mt-20px d-flex justify-content-center align-items-center",staticStyle:{width:"620px",height:"315px",background:"rgba(245,245,245,1)","border-radius":"3px",border:"1px dashed rgba(185,185,185,1)"}},[this.from.image?i("img",{staticStyle:{width:"620px",height:"315px"},attrs:{src:this.from.image}}):i("div",{staticClass:"d-flex flex-column align-items-center"},[i("div",{staticClass:"fc-c5 fz-16px mt-15px"},[t._v("请上传视频封面\n            ")])])]),i("div",{staticClass:"d-flex align-items-center mt-29px"},[i("div",{staticClass:"fz-14px fc-10"},[t._v("视频内容：")]),i("div",{staticClass:"border-radius-20px d-flex justify-content-center",staticStyle:{height:"26px",width:"78px","line-height":"26px","text-align":"center",border:"1px solid #C51B19"}},[i("upload",{ref:"upVideo",attrs:{button_name:"上传视频",file_type:"audio/mp4, video/mp4"},on:{getFileUrl:t.getFileUrl}})],1)]),i("div",{staticClass:"mt-20px d-flex justify-content-center align-items-center",staticStyle:{width:"620px",height:"315px",background:"rgba(245,245,245,1)","border-radius":"3px",border:"1px dashed rgba(185,185,185,1)"}},[t.video_options.src?t.img_show?i("uploadProgress",{attrs:{complete:t.complete}}):i("div",[i("newVideoPlay",{attrs:{video_options:t.video_options}})],1):i("div",{staticClass:"d-flex flex-column align-items-center"},[i("i",{staticClass:"iconfont icondianyingpiao fc-c5 fz-40px"}),i("div",{staticClass:"fc-c5 fz-16px mt-15px"},[t._v("视频格式为mp4，大小不超过500M\n            ")])])],1),i("div",{staticClass:"w-100 d-flex justify-content-center mt-20px",on:{click:t.sure}},[i("div",{staticClass:"bg-c mt-5px border border-radius-20px d-flex justify-content-center fc-white fz-12px cp",staticStyle:{height:"30px",width:"100px","line-height":"30px","text-align":"center"}},[t._v("\n            完成\n          ")])])]),i("div",{staticClass:"modal-footer"})])])])},V=[],Y=(i("cc57"),i("b751")),J={data:function(){return{options:[],from:{title:"",type:"",file:"",duration:"",image_url:"",image:"",type_name:"ceshi"},complete:0,img_show:!1,video_options:{width:620,height:315,src:""}}},components:{upload:r["a"],uploadProgress:Y["a"]},methods:{getUpload:function(){var t=this;this.img_show=!0,document.getElementById("upload_flie").value=null,axios.defaults.timeout=6e5;var e=new FormData;e.append("upload_file",this.from.file),e.append("title",this.from.title),e.append("type",this.from.type),e.append("duration",this.from.duration),e.append("image_url",this.from.image_url),e.append("type_name",this.from.type_name),this.from.title?axios.post("/live/video_upload",e,{onUploadProgress:function(e){var i=e.loaded/e.total*100|0;t.complete=i}}).then((function(e){"0000"==e.data.code?100==t.complete&&(setTimeout((function(){t.img_show=!1}),1e3),t.close(),t.$parent.getPlayList()):"6001"==e.data.code&&(t.$message.error("上传视频失败"),t.close())}),(function(t){})):this.$message.error("请输入视频标题")},getType:function(){var t=this;this.options.forEach((function(e,i){e.id==t.from.type&&(t.from.type_name=e.name)}))},getVideoType:function(){var t=this;this.$get("/live/video_type",{params:this.form}).then((function(e){"0000"==e.data.code&&(t.options=e.data.data)}))},getFileImage:function(t,e){var i=this;this.from.image=t;var a=new FormData;a.append("logo_img",e),this.$post("/live/upload_img",a).then((function(t){"0000"==t.data.code&&(i.from.image_url=t.data.data.xd_url)}))},getFileUrl:function(t,e){this.from.file=e,this.video_options.src=t;var i=new Audio(t),a=this;i.addEventListener("loadedmetadata",(function(t){a.from.duration=parseInt(1e3*i.duration)}))},sure:function(){if(!(this.from.title&&this.from.type&&this.from.file&&this.from.duration&&this.from.image_url&&this.from.type_name))return this.clear(),void this.$store.commit("alertMsg","请填写所有条件");this.getUpload()},clear:function(){this.$refs.upVideo.$refs.inputer.value="",this.$refs.upImage.$refs.inputer.value=""},close:function(){for(var t in this.clear(),this.from)this.from[t]="";this.video_options.src="",this.img_show=!1,this.complete=0,this.$store.commit("modalHidden","customColumnModel")}},created:function(){this.getVideoType()},mounted:function(){}},G=J,K=(i("0f18"),Object(d["a"])(G,A,V,!1,null,null,null)),Q=K.exports,W={props:[],data:function(){return{typeList:[{name:"全部",id:""}],timeList:[{id:1,name:"今天"},{id:2,name:"一周内"},{id:3,name:"一月内"},{id:4,name:"半年内"}],activeIndex:0,form:{keywords:"",start_time:"",end_time:"",page:1,limit:12,type:""},activeIndexT:null,list:[]}},computed:{},created:function(){this.getPlayList()},methods:{getTypeData:function(t){this.form.type=t.id,this.getPlayList()},getPlayList:function(){var t=this;this.$get("/live/self-created-videos",{params:this.form}).then((function(e){"0000"==e.data.code&&(e.data.data.items.forEach((function(t,e){t.iconShow=!1,t.add_program_dateT=[],t.add_program_date.forEach((function(e,i){i<2&&t.add_program_dateT.push(e)}))})),t.list=e.data.data.items,1==t.typeList.length&&e.data.data.class_list.forEach((function(e,i){t.typeList.push(e)})),t.form.total=e.data.data.page_info.total)}))},goDetalis:function(){},handleCurrentChange:function(t){this.form.page=t,this.getPlayList()},getYear:function(t){var e=new Date(t),i=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=e.getDate()<10?"0"+e.getDate()+" ":e.getDate();return i+a+n},checktime:function(t){var e=new Date,i=new Date;1==t.id||(2==t.id?i.setTime(i.getTime()-6048e5):3==t.id?i.setTime(i.getTime()-2592e6):4==t.id&&i.setTime(i.getTime()-158112e5)),this.form.start_time=this.getYear(i),this.form.end_time=this.getYear(e),this.getPlayList()},getTime:function(){this.form.start_time&&this.form.end_time&&this.getPlayList()},getModel:function(){this.$store.commit("modalShow","customColumnModel")},add:function(t){t.program_type=this.$route.query.program_type,this.$store.commit("setAuthorizedObj",t)}},mounted:function(){},watch:{},components:{customColumnModel:Q}},X=W,Z=(i("af95"),Object(d["a"])(X,H,N,!1,null,"8197a29c",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"mt-27px d-flex"},[i("div",{staticClass:"fz-12px nowrap",staticStyle:{color:"#151515"}},[t._v("分类:")]),t.channelShow?i("div",{staticClass:"d-flex flex-wrap"},t._l(t.typeList,(function(e,a){return i("div",{key:a,on:{click:function(i){t.activeIndex=a,t.getTypeData(e)}}},[i("div",{class:["fc-999 fz-12px cp ml-30px mb-20px",{active:t.activeIndex==a}]},[t._v(t._s(e.name))])])})),0):t._e(),t.channelShow?t._e():i("div",{staticClass:"d-flex flex-wrap"},t._l(t.typeListShow,(function(e,a){return i("div",{key:a,on:{click:function(i){t.activeIndex=a,t.getTypeData(e)}}},[i("div",{class:["fc-999 fz-12px cp ml-30px mb-20px",{active:t.activeIndex==a}]},[t._v(t._s(e.name))])])})),0),t.typeListShow.length>9?i("div",{staticClass:"cp nowrap fz-12px fc-c",on:{click:function(e){t.channelShow=!t.channelShow}}},[t._v(t._s(t.channelShow?"收起":"展开"))]):t._e()]),i("div",{staticClass:"mt-10px d-flex align-items-center"},[i("div",{staticClass:"fz-12px",staticStyle:{color:"#151515"}},[t._v("时间:")]),t._l(t.timeList,(function(e,a){return i("div",{key:a,on:{click:function(i){t.activeIndexT=a,t.checktime(e)}}},[i("div",{class:["fc-999 fz-12px cp ml-30px",{active:t.activeIndexT==a}]},[t._v(t._s(e.name))])])})),i("div",{staticClass:"d-flex align-items-center ml-30px"},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",size:"small",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择起始日期"},on:{change:function(e){return t.getTime()}},model:{value:t.form.time_start,callback:function(e){t.$set(t.form,"time_start",e)},expression:"form.time_start"}}),i("span",{staticClass:"mx-10px fz-12px"},[t._v("至")]),i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",placeholder:"选择结束日期"},on:{change:function(e){return t.getTime()}},model:{value:t.form.time_end,callback:function(e){t.$set(t.form,"time_end",e)},expression:"form.time_end"}})],1)],2),i("el-input",{staticClass:"mt-26px",staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"搜索视频名称","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getPlayList()}},model:{value:t.form.keywords,callback:function(e){t.$set(t.form,"keywords",e)},expression:"form.keywords"}}),i("div",{staticClass:"mt-24px"},[i("el-row",{attrs:{gutter:20}},t._l(t.list,(function(e,a){return i("el-col",{key:a,staticClass:"mb-20px",attrs:{span:8}},[i("div",{staticStyle:{height:"248px","box-shadow":"0px 2px 8px 0px rgba(0, 0, 0, 0.15)",position:"relative"},on:{mouseenter:function(t){e.iconShow=!0},mouseleave:function(t){e.iconShow=!1},click:function(e){return t.goDetalis()}}},[i("img",{staticClass:"w-100",staticStyle:{height:"132px"},attrs:{src:e.photo}}),i("i",{directives:[{name:"show",rawName:"v-show",value:e.iconShow,expression:"item.iconShow"}],staticClass:"iconfont iconadd fz-10px fc-white cp p-3px",staticStyle:{position:"absolute",top:"5px",left:"5px",background:"rgba(197, 27, 25, 1)","border-radius":"3px"},on:{click:function(i){return i.stopPropagation(),t.add(e)}}}),i("div",{staticClass:"p-13px"},[i("div",{staticStyle:{"border-bottom":"1px solid #eaeaea"}},[i("div",{staticClass:"fz-12px fc-999 text-ellipsis"},[t._v(t._s(e.title))]),i("div",{staticClass:"fz-12px fc-999 mt-10px pb-10px"},[t._v(t._s(e.time))])]),i("div",{staticClass:"mt-8px d-flex"},[e.is_add_program?i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticStyle:{width:"16px",height:"16px","background-color":"rgba(197, 27, 25, 1)","border-radius":"50%","text-align":"center","line-height":"14px"}},[i("i",{staticClass:"iconfont iconqueding fz-10px fc-white"})]),i("div",{staticClass:"fz-12px fc-c ml-5px"},[t._v("已加入")])]):t._e()]),i("div",{staticClass:"d-flex mt-10px"},t._l(e.add_program_dateT,(function(e,a){return i("div",{key:a,staticClass:"fz-12px fc-666 nowrap mr-5px",staticStyle:{padding:"4px 8px",background:"#DBDBDB","border-radius":"30px"}},[t._v("\n                "+t._s(e)+"\n              ")])})),0)])])])})),1)],1),i("keep-alive",[t.form.total/t.form.limit>1?i("div",{staticClass:"d-flex justify-content-end mt-40px"},[i("el-pagination",{attrs:{background:"","current-page":t.form.page,"page-size":t.form.limit,layout:"prev, pager, next, jumper",total:t.form.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.form,"page",e)},"update:current-page":function(e){return t.$set(t.form,"page",e)}}})],1):t._e()])],1)},it=[],at={props:[],data:function(){return{channelShow:!1,typeList:[{name:"全部",id:""}],typeListShow:[{name:"全部",id:""}],timeList:[{id:1,name:"今天"},{id:2,name:"一周内"},{id:3,name:"一月内"},{id:4,name:"半年内"}],activeIndex:0,form:{keywords:"",time_start:"",time_end:"",page:1,limit:12,type:1,item_id:""},activeIndexT:null,list:[]}},computed:{},created:function(){this.getPlayList(),this.getItemList()},methods:{getTypeData:function(t){this.form.item_id=t.item_id,this.getPlayList()},getItemList:function(){var t=this;this.$get("/short-video-resource/item-list").then((function(e){"0000"==e.data.code&&1==t.typeList.length&&e.data.data.forEach((function(e,i){e.add_program_dateT=[],e.add_program_date.forEach((function(t,i){i<2&&e.add_program_dateT.push(t)})),i<10&&t.typeListShow.push(e),t.typeList.push(e)}))}))},getPlayList:function(){var t=this;this.$get("/short-video-resource/search",{params:this.form}).then((function(e){"0000"==e.data.code&&(e.data.data.list.forEach((function(t,e){t.iconShow=!1})),t.list=e.data.data.list,t.form.total=e.data.data.total)}))},goDetalis:function(){},handleCurrentChange:function(t){this.form.page=t,this.getPlayList()},getYear:function(t){var e=new Date(t),i=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=e.getDate()<10?"0"+e.getDate()+" ":e.getDate();return i+a+n},checktime:function(t){var e=new Date,i=new Date;1==t.id||(2==t.id?i.setTime(i.getTime()-6048e5):3==t.id?i.setTime(i.getTime()-2592e6):4==t.id&&i.setTime(i.getTime()-158112e5)),this.form.time_start=this.getYear(i),this.form.time_end=this.getYear(e),this.getPlayList()},getTime:function(){this.form.time_start&&this.form.time_end&&this.getPlayList()},add:function(t){t.program_type=this.$route.query.program_type,this.$store.commit("setAuthorizedObj",t)}},mounted:function(){},watch:{},components:{}},nt=at,st=(i("e854"),Object(d["a"])(nt,et,it,!1,null,"8d361134",null)),ot=st.exports,rt={props:[],data:function(){return{activeIndex:0,tabList:[{name:"授权栏目库"},{name:"自创栏目库"},{name:"已购视频库"}]}},components:{authorizedColumn:B,customColumn:tt,buyVideo:ot},computed:{},watch:{},methods:{selectType:function(t,e){this.$route.query.program_type=e+1}},created:function(){this.selectType("",this.activeIndex)},mounted:function(){}},lt=rt,ct=(i("6e59"),Object(d["a"])(lt,j,E,!1,null,"871a35ba",null)),dt=ct.exports,pt=i("5a2b"),ut={name:"live",props:[],data:function(){return{channel_active:0,channel_list:[],examine_status:"",examine_is_pay:"",status_loading:!0,share_url:"",rtmp_url:"",rtmp_endtime:"",pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}}}},components:{padLeft:P,padRight:dt,addChannelModal:u,channelLivePayModal:y,liveShareModal:pt["a"]},computed:{},watch:{},methods:{getLiveStatus:function(){var t=this;this.status_loading=!0,this.$post("/live/select_user").then((function(e){"0000"==e.data.code?(t.channel_list=e.data.data,e.data.data.length>0&&t.selectLive(t.channel_list[0],0)):t.$store.commit("alertMsg",e.data.msg),t.status_loading=!1}))},selectLive:function(t,e){var i=this;this.status_loading=!0,this.channel_active=e,this.examine_status=t.status,this.examine_is_pay=t.is_pay,this.$route.query.channel_id=t.channel_id,!t.rtmp_endtime>1&&(this.rtmp_endtime=1e3*t.rtmp_endtime),this.rtmp_url=t.rtmp_url,setTimeout((function(){i.status_loading=!1}))},addChannel:function(){this.$store.commit("modalShow","addChannelModal")},submitForm:function(){this.getLiveStatus()},pay:function(){this.$refs.livePay.pay()},paySuccess:function(){this.getLiveStatus()},payError:function(){this.$store.commit("alertMsg","支付失败")},deletChannel:function(){var t=this;this.$post("/live/delete_user",{user_id:this.channel_list[this.channel_active].user_id,channel_id:this.$route.query.channel_id}).then((function(e){0==e.data.code?(t.$store.commit("alertMsg","删除成功"),t.getLiveStatus()):t.$store.commit("alertMsg",e.data.msg)}))},share:function(){var t=this;this.share_url="",this.$nextTick((function(){t.share_url=window.location.href+"/share_view_live_channel?channel_id="+t.$route.query.channel_id,t.$store.commit("modalShow","liveShare")}))},saveRtmp:function(){var t=this,e=new Date(this.rtmp_endtime).getTime(),i="rtmp"==this.rtmp_url.substring(0,4).toLowerCase();if(i)if(e){var a={channel_id:this.channel_list[this.channel_active].channel_id,rtmp_url:this.rtmp_url,rtmp_endtime:e};this.$post("/live/channel-set",a).then((function(e){"0000"==e.data.code&&(e.data.data.status?t.$store.commit("alertMsg","保存成功"):t.$store.commit("alertMsg",e.data.data.msg))}))}else this.$store.commit("alertMsg","请选择时间");else this.$store.commit("alertMsg","请输入正确的 rtmp 直播流地址")}},created:function(){this.getLiveStatus()},mounted:function(){}},mt=ut,ft=(i("cbb0"),Object(d["a"])(mt,a,n,!1,null,"4345942e",null));e["default"]=ft.exports},de8a:function(t,e,i){(function(t,e){(function(t,i){"use strict";if(!t.setImmediate){var a,n=1,s={},o=!1,r=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?m():f()?h():t.MessageChannel?v():r&&"onreadystatechange"in r.createElement("script")?g():_(),l.setImmediate=c,l.clearImmediate=d}function c(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var o={callback:t,args:e};return s[n]=o,a(n),n++}function d(t){delete s[t]}function p(t){var e=t.callback,a=t.args;switch(a.length){case 0:e();break;case 1:e(a[0]);break;case 2:e(a[0],a[1]);break;case 3:e(a[0],a[1],a[2]);break;default:e.apply(i,a);break}}function u(t){if(o)setTimeout(u,0,t);else{var e=s[t];if(e){o=!0;try{p(e)}finally{d(t),o=!1}}}}function m(){a=function(t){e.nextTick((function(){u(t)}))}}function f(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function h(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"===typeof i.data&&0===i.data.indexOf(e)&&u(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),a=function(i){t.postMessage(e+i,"*")}}function v(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;u(e)},a=function(e){t.port2.postMessage(e)}}function g(){var t=r.documentElement;a=function(e){var i=r.createElement("script");i.onreadystatechange=function(){u(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function _(){a=function(t){setTimeout(u,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,i("9edd"),i("4c39"))},e854:function(t,e,i){"use strict";var a=i("ff2f"),n=i.n(a);n.a},f071:function(t,e,i){var a=i("ff9c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("4d5a79ee",a,!0,{sourceMap:!1,shadowMode:!1})},f0b0:function(t,e,i){var a=i("7e11");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("5525738d",a,!0,{sourceMap:!1,shadowMode:!1})},f90e:function(t,e){t.exports="https://cdn-web.weijian.video/static/img/live_logo.png"},ff2f:function(t,e,i){var a=i("01be");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("85cb").default;n("e5f95638",a,!0,{sourceMap:!1,shadowMode:!1})},ff9c:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,"#channelLivePayModal #qrcode{width:200px;height:200px}#channelLivePayModal #qrcode img{width:100%;height:100%;background-color:#fff;padding:6px}",""])}}]);