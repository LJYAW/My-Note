(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["videoCutV2"],{"0560":function(t,e,i){t.exports={Adts:i("0775"),h264:i("0818")}},"0652":function(t,e,i){var n=i("fa4e"),a=i("eda6"),s=function(t){var e,i,n=0;for(e=0;e<t.length;e++)i=t[e],n+=i.data.byteLength;return n},o=function(t,e,i,s){var o,r,c,l,d=0,u=0,p=0,h=0;if(e.length&&(o=a.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),d=Math.ceil(a.ONE_SECOND_IN_TS/(t.samplerate/1024)),i&&s&&(u=o-Math.max(i,s),p=Math.floor(u/d),h=p*d),!(p<1||h>a.ONE_SECOND_IN_TS/2))){for(r=n()[t.samplerate],r||(r=e[0].data),c=0;c<p;c++)l=e[0],e.splice(0,0,{data:r,dts:l.dts-d,pts:l.pts-d});t.baseMediaDecodeTime-=Math.floor(a.videoTsToAudioTs(h,t.samplerate))}},r=function(t,e,i){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},c=function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],n.push({size:i.data.byteLength,duration:1024});return n},l=function(t){var e,i,n=0,a=new Uint8Array(s(t));for(e=0;e<t.length;e++)i=t[e],a.set(i.data,n),n+=i.data.byteLength;return a};t.exports={prefixWithSilence:o,trimAdtsFramesByEarliestDts:r,generateSampleTable:c,concatenateFrameData:l}},"0775":function(t,e,i){"use strict";var n,a=i("5058"),s=i("eda6").ONE_SECOND_IN_TS,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];n=function(t){var e,i=0;n.prototype.init.call(this),this.push=function(n){var a,r,c,l,d,u,p=0;if(t||(i=0),"audio"===n.type){e?(l=e,e=new Uint8Array(l.byteLength+n.data.byteLength),e.set(l),e.set(n.data,l.byteLength)):e=n.data;while(p+5<e.length)if(255===e[p]&&240===(246&e[p+1])){if(r=2*(1&~e[p+1]),a=(3&e[p+3])<<11|e[p+4]<<3|(224&e[p+5])>>5,d=1024*(1+(3&e[p+6])),u=d*s/o[(60&e[p+2])>>>2],c=p+a,e.byteLength<c)return;if(this.trigger("data",{pts:n.pts+i*u,dts:n.dts+i*u,sampleCount:d,audioobjecttype:1+(e[p+2]>>>6&3),channelcount:(1&e[p+2])<<2|(192&e[p+3])>>>6,samplerate:o[(60&e[p+2])>>>2],samplingfrequencyindex:(60&e[p+2])>>>2,samplesize:16,data:e.subarray(p+7+r,c)}),i++,e.byteLength===c)return void(e=void 0);e=e.subarray(c)}else p++}},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}},n.prototype=new a,t.exports=n},"0818":function(t,e,i){"use strict";var n,a,s,o=i("5058"),r=i("2711");a=function(){var t,e,i=0;a.prototype.init.call(this),this.push=function(n){var a;e?(a=new Uint8Array(e.byteLength+n.data.byteLength),a.set(e),a.set(n.data,e.byteLength),e=a):e=n.data;for(var s=e.byteLength;i<s-3;i++)if(1===e[i+2]){t=i+5;break}while(t<s)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));do{t++}while(1!==e[t]&&t<s);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3;break}e=e.subarray(i),t-=i,i=0},this.reset=function(){e=null,i=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(i+3)),e=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},a.prototype=new o,s={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},n=function(){var t,e,i,o,c,l,d,u=new a;n.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,i=t.pts,o=t.dts,u.push(t))},u.on("data",(function(n){var a={trackId:e,pts:i,dts:o,data:n};switch(31&n[0]){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=c(n.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=c(n.subarray(1)),a.config=l(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp";break;default:break}t.trigger("data",a)})),u.on("done",(function(){t.trigger("done")})),u.on("partialdone",(function(){t.trigger("partialdone")})),u.on("reset",(function(){t.trigger("reset")})),u.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){u.flush()},this.partialFlush=function(){u.partialFlush()},this.reset=function(){u.reset()},this.endTimeline=function(){u.endTimeline()},d=function(t,e){var i,n,a=8,s=8;for(i=0;i<t;i++)0!==s&&(n=e.readExpGolomb(),s=(a+n+256)%256),a=0===s?a:s},c=function(t){var e,i,n=t.byteLength,a=[],s=1;while(s<n-2)0===t[s]&&0===t[s+1]&&3===t[s+2]?(a.push(s+2),s+=2):s++;if(0===a.length)return t;e=n-a.length,i=new Uint8Array(e);var o=0;for(s=0;s<e;o++,s++)o===a[0]&&(o++,a.shift()),i[s]=t[o];return i},l=function(t){var e,i,n,a,o,c,l,u,p,h,m,f,_,g,b=0,v=0,y=0,x=0,w=1;if(e=new r(t),i=e.readUnsignedByte(),a=e.readUnsignedByte(),n=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),s[i]&&(o=e.readUnsignedExpGolomb(),3===o&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(m=3!==o?8:12,g=0;g<m;g++)e.readBoolean()&&d(g<6?16:64,e);if(e.skipUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===c)e.readUnsignedExpGolomb();else if(1===c)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),g=0;g<l;g++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),p=e.readUnsignedExpGolomb(),h=e.readBits(1),0===h&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(b=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb(),x=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(_=e.readUnsignedByte(),_){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()];break}f&&(w=f[0]/f[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:a,width:Math.ceil((16*(u+1)-2*b-2*v)*w),height:(2-h)*(p+1)*16-2*y-2*x,sarRatio:f}}},n.prototype=new o,t.exports={H264Stream:n,NalByteStream:a}},"098c":function(t,e,i){var n=i("f013");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("30e5a888",n,!0,{sourceMap:!1,shadowMode:!1})},"0b53":function(t,e,i){"use strict";var n=i("e7ad"),a=i("e042"),s=i("149f"),o=i("e46b"),r=i("bf16"),c=i("f71f").KEY,l=i("238a"),d=i("6798"),u=i("399f"),p=i("ec45"),h=i("cb3d"),m=i("a08d"),f=i("4d34"),_=i("f091"),g=i("2346"),b=i("69b3"),v=i("fb68"),y=i("008a"),x=i("09b9"),w=i("94b3"),k=i("cc33"),S=i("e005"),T=i("9370"),C=i("dcb7"),M=i("2f77"),A=i("064e"),D=i("80a9"),I=C.f,L=A.f,O=T.f,$=n.Symbol,P=n.JSON,E=P&&P.stringify,U="prototype",z=h("_hidden"),B=h("toPrimitive"),N={}.propertyIsEnumerable,X=d("symbol-registry"),V=d("symbols"),F=d("op-symbols"),j=Object[U],R="function"==typeof $&&!!M.f,q=n.QObject,G=!q||!q[U]||!q[U].findChild,J=s&&l((function(){return 7!=S(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=I(j,e);n&&delete j[e],L(t,e,i),n&&t!==j&&L(j,e,n)}:L,W=function(t){var e=V[t]=S($[U]);return e._k=t,e},H=R&&"symbol"==typeof $.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof $},K=function(t,e,i){return t===j&&K(F,e,i),b(t),e=w(e,!0),b(i),a(V,e)?(i.enumerable?(a(t,z)&&t[z][e]&&(t[z][e]=!1),i=S(i,{enumerable:k(0,!1)})):(a(t,z)||L(t,z,k(1,{})),t[z][e]=!0),J(t,e,i)):L(t,e,i)},Y=function(t,e){b(t);var i,n=_(e=x(e)),a=0,s=n.length;while(s>a)K(t,i=n[a++],e[i]);return t},Z=function(t,e){return void 0===e?S(t):Y(S(t),e)},Q=function(t){var e=N.call(this,t=w(t,!0));return!(this===j&&a(V,t)&&!a(F,t))&&(!(e||!a(this,t)||!a(V,t)||a(this,z)&&this[z][t])||e)},tt=function(t,e){if(t=x(t),e=w(e,!0),t!==j||!a(V,e)||a(F,e)){var i=I(t,e);return!i||!a(V,e)||a(t,z)&&t[z][e]||(i.enumerable=!0),i}},et=function(t){var e,i=O(x(t)),n=[],s=0;while(i.length>s)a(V,e=i[s++])||e==z||e==c||n.push(e);return n},it=function(t){var e,i=t===j,n=O(i?F:x(t)),s=[],o=0;while(n.length>o)!a(V,e=n[o++])||i&&!a(j,e)||s.push(V[e]);return s};R||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(i){this===j&&e.call(F,i),a(this,z)&&a(this[z],t)&&(this[z][t]=!1),J(this,t,k(1,i))};return s&&G&&J(j,t,{configurable:!0,set:e}),W(t)},r($[U],"toString",(function(){return this._k})),C.f=tt,A.f=K,i("2ea2").f=T.f=et,i("4f18").f=Q,M.f=it,s&&!i("550e")&&r(j,"propertyIsEnumerable",Q,!0),m.f=function(t){return W(h(t))}),o(o.G+o.W+o.F*!R,{Symbol:$});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),at=0;nt.length>at;)h(nt[at++]);for(var st=D(h.store),ot=0;st.length>ot;)f(st[ot++]);o(o.S+o.F*!R,"Symbol",{for:function(t){return a(X,t+="")?X[t]:X[t]=$(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in X)if(X[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!R,"Object",{create:Z,defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:it});var rt=l((function(){M.f(1)}));o(o.S+o.F*rt,"Object",{getOwnPropertySymbols:function(t){return M.f(y(t))}}),P&&o(o.S+o.F*(!R||l((function(){var t=$();return"[null]"!=E([t])||"{}"!=E({a:t})||"{}"!=E(Object(t))}))),"JSON",{stringify:function(t){var e,i,n=[t],a=1;while(arguments.length>a)n.push(arguments[a++]);if(i=e=n[1],(v(e)||void 0!==t)&&!H(t))return g(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!H(e))return e}),n[1]=e,E.apply(P,n)}}),$[U][B]||i("86d4")($[U],B,$[U].valueOf),u($,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},"0f14":function(t,e,i){"use strict";var n=i("5428"),a=i.n(n);a.a},"1bb4":function(t,e,i){"use strict";var n=i("7138"),a=i.n(n);a.a},"1c1a":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".platform-list-small .content[data-v-72ebbc4b]{width:20px;height:20px;line-height:20px;text-align:center;cursor:pointer;border-radius:4px;position:relative}.platform-list-small .content .iconfont[data-v-72ebbc4b]{display:none}.platform-list-small .content .logo-wrap[data-v-72ebbc4b]{height:20px;width:20px}.platform-list-small .content.is_aciton[data-v-72ebbc4b]{background:#c51a1a}.platform-list-small .content.is_aciton .logo-wrap img[data-v-72ebbc4b]{opacity:.6;width:100%}.platform-list-small .content.is_aciton .logo-wrap .iconfont[data-v-72ebbc4b]{display:block;position:absolute;z-index:1;left:2px}",""])},"1d9b":function(t,e,i){"use strict";var n=i("ef65"),a=i.n(n);a.a},"26a1":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=/translate(X|\dd)?\(\s*(\w+\s*,)?\s*([^,]+)(\s*,[^)]+)?\s*\)/;function a(t){var e,i=/matrix\(.*,\s*(\w+)\s*\)/,a=t.style.transform;return a?(e=n.exec(a),null===e?(e=i.exec(a),e?e[1]:null):e[3]):null}},2711:function(t,e,i){"use strict";var n;n=function(t){var e=t.byteLength,i=0,n=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+n},this.loadWord=function(){var a=t.byteLength-e,s=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");s.set(t.subarray(a,a+o)),i=new DataView(s.buffer).getUint32(0),n=8*o,e-=o},this.skipBits=function(t){var a;n>t?(i<<=t,n-=t):(t-=n,a=Math.floor(t/8),t-=8*a,e-=a,this.loadWord(),i<<=t,n-=t)},this.readBits=function(t){var a=Math.min(n,t),s=i>>>32-a;return n-=a,n>0?i<<=a:e>0&&this.loadWord(),a=t-a,a>0?s<<a|this.readBits(a):s},this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t)if(0!==(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},"2ab2":function(t,e,i){"use strict";var n=i("ed85"),a=i.n(n);a.a},"2af4":function(t,e){var i=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];t.exports=i},"309f":function(t,e,i){i("4d34")("asyncIterator")},"349f":function(t,e,i){"use strict";var n=function(){var t=this;this.list=[],this.push=function(t){this.list.push({bytes:t.bytes,dts:t.dts,pts:t.pts,keyFrame:t.keyFrame,metaDataTag:t.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return t.list.length}})};t.exports=n},"3b9e":function(t,e,i){"use strict";i.r(e);var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex flex-column h-100"},[i("div",{staticClass:"cut-title d-flex justify-content-between align-items-center py-15px bg-gray-23 px-15px"},[i("div",{staticClass:"d-flex align-items-center"},[i("i",{staticClass:"iconfont iconflie fc-gray fz-26px"}),i("span",{staticClass:"fc-white ml-10px"},[t._v(t._s(t.video_details.title))])]),"AI_create"!=t.router_type?i("div",[1!=t.video_details.show_video_graphic||t.task_id||2==t.innovate_type?t._e():i("button",{staticClass:"btn btn-primary btn-sm border-radius-30px mr-10px",on:{click:function(e){return t.goToGraphics()}}},[t._v("\n        视频图文\n      ")]),t.status_loading?t._e():i("button",{staticClass:"btn btn-primary btn-sm border-radius-30px",on:{click:function(e){return t.goToViedoBuy()}}},[t._v("\n        剪辑\n      ")])]):i("div",[i("button",{staticClass:"btn btn-primary btn-sm border-radius-30px",on:{click:function(e){return t.add()}}},[t._v("\n        添加\n      ")])])]),t.status_loading?i("loading",{staticClass:"bg-dark",staticStyle:{height:"360px"}}):i("div",{staticClass:"video-wrap d-flex w-100 bg-dark",attrs:{id:"video-wrappe-my"}},[i("div",{staticClass:"video-preview"},[i("newVideoPlay",{attrs:{video_options:t.video_options,crossOrigin:"anonymous",start_time_s:t.start_time_s,second_time:t.second_time,pause_time:t.pause_time},on:{timeupdate:t.timeupdate,videoPause:t.videoPause}})],1),i("aiInfoV2",{ref:"aiInfoV2",attrs:{data:t.video_details.ai_info,MAX_TIME:t.MAX_TIME},on:{touchstart:t.touchstart,setVideAiInfo:t.setVideAiInfo}})],1),t.video_details.duration?i("cutPad",{ref:"cutPad",attrs:{MAX_TIME:t.MAX_TIME,video_options:t.video_options,video_duration:parseInt(t.video_details.duration)},on:{touchstart:t.touchstart}}):t._e()],1)},s=[],o=(i("47e7"),i("e712"),i("163d"),i("2b3d")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-1 d-flex flex-column"},[i("div",{staticClass:"time_tool_bar d-flex justify-content-between py-12px px-25px align-items-center"},[t.video_duration?i("div",{staticClass:"fz-16px ml-25px"},[i("a",{staticClass:"hover-text hove-c px-18px",attrs:{"data-msg":"定位开始帧 快捷键 F3，苹果系统快捷键 fn+F3"},on:{click:function(e){return t.positionStart()}}},[i("i",{staticClass:"iconfont iconrudian"})]),i("a",{staticClass:"hover-text hove-c pl-18px pr-40px border-right mr-18px",attrs:{"data-msg":"定位结束帧 快捷键 F4，苹果系统快捷键 fn+F4"},on:{click:function(e){return t.positionEnd()}}},[i("i",{staticClass:"iconfont iconrudian1"})]),i("a",{staticClass:"hover-text hove-c px-18px",attrs:{"data-msg":"添加视频片段"},on:{click:function(e){return t.addVideoClip()}}},[i("i",{staticClass:"iconfont icone_xingzhuangjianji fz-20px",staticStyle:{"font-weight":"600"}})]),i("a",{staticClass:"hover-text hove-c px-18px",attrs:{"data-msg":"删除视频片段"},on:{click:function(e){return t.remoteVideoClip()}}},[i("i",{staticClass:"iconfont iconshanchu"})])]):t._e(),i("div",[i("span",{staticClass:"py-3px px-30px fz-12px"},[t._v("\n        剪辑时长：\n        "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.input_total_ms,expression:"input_total_ms",modifiers:{number:!0}}],ref:"inputNumber",staticClass:"border-none bg-f5",staticStyle:{width:"40px"},attrs:{max:"900"},domProps:{value:t.input_total_ms},on:{focus:function(e){t.input_focus=!0},change:function(e){return t.changeInputMs()},input:function(e){e.target.composing||(t.input_total_ms=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("秒\n\n        "),i("a",{on:{click:function(e){return t.inputFocus()}}},[i("i",{staticClass:"iconfont iconqianbi"})])])]),i("gearBar",{attrs:{max:6},on:{getRange:t.getRange}})],1),i("div",{staticClass:"cut-pad-wrap d-flex flex-1"},[t._m(0),t.video_duration?i("timeLine",{ref:"timeLine",attrs:{MAX_TIME:t.MAX_TIME,video_duration:t.video_duration,range:t.range,cut_ready:t.cut_ready},on:{touchstart:t.touchstart,cutTotalMs:t.getCutTotalMs,cutReady:t.cutReady,startTimeS:function(e){return t.startTimeS(arguments)},previewVideo:t.previewVideo}}):t._e()],1),t.preview_video_show?i("previewVideoForm",{attrs:{video_options:t.video_options,video_offset_ms:t.videoStartTime},on:{previewVideoShow:t.previewVideoHide}}):t._e()],1)},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cut-side bg-white"},[i("ul",{staticClass:"py-10px px-5px text-center",staticStyle:{width:"48px"}},[i("li",{staticClass:"mt-5px"},[i("i",{staticClass:"iconfont iconstaff fz-22px ml-15px"})]),i("li",{staticClass:"my-90px"},[i("i",{staticClass:"iconfont iconmovie fz-20px ml-15px"})])])])}],l=i("13c1"),d=(i("06a2"),i("ec25"),i("027e")),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"timeLineContent",staticClass:"time-line-content",on:{mousemove:function(e){return t.getOffsetX(e)}}},[i("div",{staticClass:"mb-25px bg-gray-eb d-flex time-line-wrap",style:"height:45px;width:"+t.time_line_width+"px",on:{click:function(e){return t.touchstart(e)}}},[t._l(t.time_scals_block,(function(e,n){return i("span",{key:n+"-ms",staticClass:"times-ms",style:{left:t.time_block_width*n*5+"px"},domProps:{innerHTML:t._s(t.$options.filters.msDecorate(t.$options.filters.msToSecond(t.base_block_times*n*5)))}})})),t._l(t.time_scals,(function(e,n){return i("div",{key:n,staticClass:"time-block d-flex align-items-end",style:{width:t.time_block_width+"px",left:t.time_block_width*n+"px"}},[i("span",{class:["d-block",{blod:n%5===0}]})])})),i("div",{directives:[{name:"show",rawName:"v-show",value:t.offsetX>0,expression:"offsetX > 0"}],staticClass:"times-info-box",style:"transform: translateX("+t.offsetX+"px)",attrs:{res:"timesInfoBox"},domProps:{innerHTML:t._s(t.$options.filters.msDecorate(t.$options.filters.msToSecond(t.time_box_num)))}})],2),i("div",{style:"width:"+t.time_line_width+"px"},[i("div",{staticClass:"bg-gray mb-5px w-100",staticStyle:{height:"24px"}},[i("video-clip-line",{ref:"videoClipLine",attrs:{onePX_ms:t.onePX_ms,startOffsetX:t.startOffsetX,MAXWIDTH:t.touch_width_copy_max}})],1),i("div",{},[i("div",{ref:"videoCutMap",staticClass:"video-cut-wrap bg-gray mb-5px",on:{click:function(e){return t.cutReady()}}},[i("div",{ref:"cutMapSelect",class:["video-cut-map",{"op-1":t.cut_ready_copy}],style:"width:"+t.cut_touch_width+"px;transform: translateX("+t.touch_x+"px);"},[i("span",{staticClass:"cut-touch touch-left",on:{mousedown:function(e){return t.touchVideoImg(e,"left")}}}),i("span",{staticClass:"cut-touch touch-right",on:{mousedown:function(e){return t.touchVideoImg(e,"right")}}}),i("div",{staticClass:"cut-hover",on:{mousedown:function(e){return t.touchVideoImg(e,"x")}}}),i("div",{staticClass:"preview-vidoe cp d-flex justify-content-center align-items-center",on:{click:function(e){return e.stopPropagation(),t.previewVideo()}}},[i("i",{staticClass:"iconfont iconbofang- fc-c fz-20px"}),i("span",{staticClass:"hove-c ml-5px fz-12px"},[t._v("预览")])])]),i("div",{staticClass:"video-cut-img-box",style:"width:"+t.touch_width_copy_max+"px;background-image: url("+t.ocr_all_img+");background-size: auto 67px;"})])]),i("div",{staticClass:"bg-gray mb-5px w-100",staticStyle:{height:"24px"},on:{click:function(e){return t.touchstart(e)}}}),i("div",{staticClass:"bg-gray mb-5px w-100",staticStyle:{height:"24px"},on:{click:function(e){return t.touchstart(e)}}}),i("div",{staticClass:"bg-gray mb-5px w-100",staticStyle:{height:"24px"},on:{click:function(e){return t.touchstart(e)}}})]),i("div",{staticClass:"time-line-x",style:"transition:all;transform: translateX("+t.startOffsetX+"px);",on:{mousedown:function(e){return t.touchTimeLineX()}}})])},p=[],h=(i("e204"),i("c5fb")),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["video-clip d-flex",{"pointer-none":t.is_pending}]},t._l(t.clip_list,(function(e,n){return i("div",{key:n,staticClass:"video-clip-box"},[i("selectionBox",{class:{"is-action":t.clip_index==n},attrs:{cutBoxWidth:e.width,cutBoxX:e.translateX,MAXWIDTH:t.MAXWIDTH,cp_key:n,disabled:t.is_pending},on:{getCpKey:t.getCpKey,domDetailsChange:t.domDetailsChange}},[[i("div",{staticClass:"right-sign"}),i("div",{staticClass:"left-sign"}),i("div",{staticClass:"title-content text-ellipsis"},[t._v("\n          "+t._s(e.title)+"\n        ")])]],2)],1)})),0)},f=[],_=(i("8cb7"),i("5fbc"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cutBox",staticClass:"cut-box",style:"width:"+t.cutBoxWidth+"px; transform: translateX("+t.cutBoxX+"px);",attrs:{id:t.id}},[i("span",{staticClass:"left-touch",on:{mousedown:function(e){return t.touchChangeSize("left")}}}),i("div",{staticClass:"cut-container",on:{mousedown:function(e){return t.translation(e)}}}),i("span",{staticClass:"right-touch",on:{mousedown:function(e){return t.touchChangeSize("right")}}}),t._t("default")],2)}),g=[],b=(i("ed63"),i("8cf2"),i("873b")),v=i("26a1"),y={props:{cutBoxWidth:{type:Number,default:0},cutBoxX:{type:Number,default:0},cp_key:{type:Number,default:0},MAXWIDTH:{type:Number,default:0},disabled:{type:Boolean,default:!1}},data:function(){return{id:"cut-box",domDetails:{}}},components:{},computed:{},watch:{},methods:{translation:function(){this.disabled||(this.$emit("getCpKey",this.cp_key),Object(b["c"])(this.id,null,this.MAXWIDTH,this.DomDetails))},touchChangeSize:function(t){this.disabled||(this.$emit("getCpKey",this.cp_key),Object(b["b"])(t,this.id,this.MAXWIDTH,this.DomDetails))},DomDetails:function(){var t=this.$refs.cutBox;if(t&&t.className.includes("is-action")){var e=t.offsetWidth,i=parseInt(Object(v["a"])(t));this.domDetails={width:e,translateX:i},this.$emit("domDetailsChange",this.domDetails)}}},created:function(){this.id=this.id+this._uid},mounted:function(){}},x=y,w=(i("4aeb"),i("9ca4")),k=Object(w["a"])(x,_,g,!1,null,null,null),S=k.exports,T=i("b794"),C={props:{onePX_ms:{type:Number,default:0},startOffsetX:{type:Number,default:0},MAXWIDTH:{type:Number,default:0}},data:function(){return{clip_list:[],clip_index:null,clip_default_ms:6e4}},components:{selectionBox:S},computed:{defaultMs:function(){return 1e3*this.$store.state.video_clip_default_ms},updata_num:function(){return this.$store.state.updata_unmebr},state_clip_index:function(){return this.$store.state.clip_index},is_pending:function(){return this.$store.state.video_clip_cut_pending}},watch:{onePX_ms:function(){var t=this;Array.isArray(this.clip_list)&&this.clip_list.map((function(e){e.width=t.clip_default_ms/t.onePX_ms}))},clip_list:{handler:function(t,e){this.$store.commit("setClipList",t)},deep:!0},state_clip_index:function(t,e){this.clip_index=t},updata_num:function(t){this.clip_list=JSON.parse(sessionStorage.getItem("video_clip_list"))}},methods:{getVideoClip:function(){var t=JSON.parse(sessionStorage.getItem("video_clip_list"));this.clip_list=t||[],this.$store.commit("setClipList",this.clip_list)},addVideoClip:function(t){t.getVideoClip();var e=t.defaultMs/t.onePX_ms,i=t.startOffsetX,n=Math.floor(i*t.onePX_ms),a=Math.floor((i+e)*t.onePX_ms),s=T["a"](t.$store.state.video_id);t.$store.commit("addVideoClip",n),setTimeout((function(){try{var o=t.$store.state.clip_ai_info;if(t.clip_list.length>=15)return void t.$store.commit("alertMsg","最多添加 15 条");t.clip_list.push({seconds:a-n,width:e,translateX:i,startTime:n,endTime:a,platform_list:[],tag_list:[],is_selection:!0,title:o.title,content:o.content,poster_url:s,pub_status:0,short_video_uuid:""}),t.$store.commit("setClipList",t.clip_list),t.$store.commit("changeClipIndex",t.clip_list.length-1)}catch(r){t.$store.commit("alertMsg","无法添加新的标记")}}))},remoteVideoClip:function(t){null!==t.clip_index&&t.clip_list.splice(t.clip_index,1),t.getCpKey(null)},getCpKey:function(t){t=t;this.clip_index,this.clip_index=t,this.$store.commit("changeClipIndex",this.clip_index)},domDetailsChange:function(t){var e=Math.floor(t.translateX*this.onePX_ms),i=Math.floor((t.translateX+t.width)*this.onePX_ms),n=t;n.startTime=e,n.endTime=i,n.seconds=i-e;var a=this.clip_list[this.clip_index];n.seconds!=a.seconds&&(n.pub_status=0),parseInt(this.clip_index)>=0&&Object.assign(this.clip_list[this.clip_index],n)}},created:function(){this.getVideoClip()},mounted:function(){},destroyed:function(){this.$store.commit("setClipList",[])}},M=C,A=(i("1bb4"),Object(w["a"])(M,m,f,!1,null,null,null)),D=A.exports,I={name:"timeLine",props:["video_duration","range","cut_ready","MAX_TIME"],data:function(){return{cut_ready_copy:!0,base_times:"210000",base_block_times:6e3,total_ms:0,onePX_ms:0,min_ms:24e4,time_scals:0,time_scals_block:0,times_block_ms:0,body_width:null,time_box_num:null,time_box_num_copy:null,time_line_width:0,cut_touch_width:0,cut_block_width:0,touch_x:0,touch_x_copy:0,touch_width_copy:0,touch_width_copy_max:0,video_cut_map:[],time_block_width:0,cut_start_time:0,cut_end_time:6e4,cut_total_ms:6e4,offsetX:0,offsetX_copy:0,startOffsetX:0,offsetx_temp:[],ocr_all_img:""}},components:{videoClipLine:D},computed:{cut_max_ms:function(){return this.MAX_TIME>0?1e3*this.MAX_TIME:9e5},ai_tiems_block:function(){return this.$store.state.ai_tiems_block},video_info:function(){return this.$store.state.video_info.startOffsetX},cut_block_is_ready:function(){return this.$store.state.video_info.cut_block_is_ready},curTime:function(){return this.$store.state.curTime},start_time_s:function(){if(this.$route.query.start_time)return Number(this.$route.query.start_time)}},watch:{video_info:function(){this.startOffsetX=Math.floor(this.video_info/this.onePX_ms)},ai_tiems_block:{handler:function(t,e){var i=1e3*this.ai_tiems_block.start_time,n=1e3*this.ai_tiems_block.end_time;this.cut_total_ms=n-i,this.cut_touch_width=this.cut_total_ms/this.onePX_ms,this.touch_x=i/this.onePX_ms,this.startOffsetX=this.touch_x},deep:!0},cut_ready:function(){this.cut_ready_copy=this.cut_ready,this.getMsBlock(this)},offsetX:function(){this.time_box_num=Math.floor(this.onePX_ms*this.offsetX)},touch_x:function(){this.getMsBlock(this)},range:function(){this.min_ms=Object(h["a"])(this.range).body_width_total_ms,this.base_block_times=Object(h["a"])(this.range).base_block_times,this.setTimeLineWidth(),this.startOffsetX=this.time_box_num_copy/this.onePX_ms},curTime:function(t){this.startOffsetX=1e3*t/this.onePX_ms}},methods:{timeLineScrollLeft:function(){var t=this;this.$refs.timeLineContent.scrollLeft;this.$nextTick((function(){var e=Math.abs(t.startOffsetX-t.body_width/2);t.startOffsetX<t.body_width-100&&(e=0),t.$refs.timeLineContent.scrollLeft=e,t.getMsBlock(t)}))},checkoutMaxTime:function(){this.cut_total_ms>this.cut_max_ms&&(this.cut_total_ms=this.cut_max_ms)},previewVideo:function(){this.$emit("previewVideo")},setAiinfoTimeBlock:function(t){this.cut_total_ms=1e3*(t.end_time-t.start_time),this.cut_touch_width=this.cut_total_ms/this.onePX_ms},getOffsetX:function(t){var e=JSON.parse(JSON.stringify(t.clientX));this.offsetX=parseInt(e)+parseInt(this.$refs.timeLineContent.scrollLeft)-48+window.pageXOffset},touchstart:function(t){this.$event,t.stopPropagation(),self.cut_start_time=0,self.cut_end_time=6e4,t.cancelBubble=!0,t.returnValue=!1,this.time_box_num_copy=this.time_box_num,this.startOffsetX=Math.floor(this.time_box_num_copy/this.onePX_ms),this.$emit("touchstart",this.time_box_num),this.getMsBlock(this)},cancelClipIndex:function(){var t=this.$store.state.clip_index;this.$store.state.clio_list;!parseInt(t)>=0&&this.$store.commit("changeClipIndex",null)},touchVideoImg:function(t,e){var i=this;i.touch_width_copy=JSON.parse(JSON.stringify(i.cut_touch_width)),i.offsetX_copy=JSON.parse(JSON.stringify(i.offsetX)),i.touch_x_copy=JSON.parse(JSON.stringify(i.touch_x));var n=i.touch_width_copy_max-i.touch_x;this.video_duration>this.cut_max_ms&&(n=this.cut_max_ms/this.onePX_ms),i.offsetx_temp=[],document.onmousemove=function(t){"right"==e?i.cutTouchRight(i,n):"left"==e?i.cutTouchLeft(i,n):i.cutTouchX(i,n)},document.onmouseup=function(){i.touch_x_copy=JSON.parse(JSON.stringify(i.touch_x)),i.touch_width_copy=JSON.parse(JSON.stringify(i.cut_touch_width)),i.offsetX_copy=JSON.parse(JSON.stringify(i.offsetX)),i.offsetx_temp=[],i.getMsBlock(i),document.onmousemove=null}},cutTouchLeft:function(t,e){var i=JSON.parse(JSON.stringify(t.touch_x));if(t.cut_touch_width>=15){t.touch_x=t.offsetX;var n=t.touch_width_copy+(i-t.touch_x);t.cut_touch_width=Math.ceil(n)}t.cut_touch_width>e&&(t.cut_touch_width=e)},cutTouchRight:function(t,e){var i=t.touch_width_copy+(t.offsetX-t.offsetX_copy);this.touch_x+i>this.touch_width_copy_max||(t.cut_touch_width=Math.ceil(i),t.cut_touch_width<18&&(t.cut_touch_width=18),t.cut_touch_width>e&&(t.cut_touch_width=e))},cutTouchX:function(t){t.touch_x=t.touch_x_copy+(t.offsetX-t.offsetX_copy),t.touch_x=Math.min(Math.max(0,t.touch_x),t.touch_width_copy_max-t.cut_touch_width),Math.abs(t.startOffsetX-t.touch_x)<=10&&(t.touch_x=t.startOffsetX),t.touch_x<=10&&(t.touch_x=0)},setBackgroundImg:function(){if(this.time_line_width>8e3)document.querySelectorAll(".video-cut-img-box")[0]},touchWidthMax:function(){var t=this,e=t.touch_width_copy_max-t.touch_x;this.video_duration>this.cut_max_ms&&(e=this.cut_max_ms/this.onePX_ms),t.cut_touch_width>e&&(t.cut_touch_width=e)},getMsBlock:function(t){var e=t.$refs.cutMapSelect;if(t.cut_start_time=0,t.cut_end_time=6e4,e){t.touch_width_copy=JSON.parse(JSON.stringify(t.cut_touch_width));t.$refs.timeLineContent.scrollLeft,this.touch_x;var i=Math.ceil(this.touch_x*t.onePX_ms),n=(this.touch_width_copy,Math.floor((this.touch_x+this.touch_width_copy)*t.onePX_ms));t.cut_end_time=n,t.cut_start_time=i,t.cut_total_ms=Math.ceil(t.cut_end_time-t.cut_start_time),t.$emit("cutTotalMs",t.cut_total_ms),t.$emit("startTimeS",i,n)}},setTimeLineWidth:function(){this.body_width=document.body.clientWidth-48,this.min_ms=JSON.parse(JSON.stringify(this.min_ms)),this.onePX_ms=this.min_ms/this.body_width,this.video_duration>this.min_ms?this.total_ms=this.min_ms+(this.video_duration-this.min_ms)+12e4:this.total_ms=parseInt(this.min_ms),this.time_scals=Math.floor(this.total_ms/this.base_block_times),this.time_scals_block=Math.floor(this.time_scals/5),this.time_line_width=Math.floor(this.total_ms/this.onePX_ms),this.time_block_width=this.time_line_width/(this.total_ms/this.base_block_times),this.cut_touch_width=this.video_duration/this.onePX_ms,this.touch_width_copy_max=JSON.parse(JSON.stringify(this.cut_touch_width)),this.video_duration>6e4?this.cut_touch_width=this.cut_total_ms/this.onePX_ms:this.cut_touch_width=this.touch_width_copy_max},setStartTimeS:function(){var t=this,e=this.$refs.timeLineContent.scrollLeft;if(this.start_time_s){var i=1e3*this.start_time_s/this.onePX_ms;this.startOffsetX=i,this.touch_x=i;e=i-this.body_width/2;this.$nextTick((function(){t.$refs.timeLineContent.scrollLeft=e,t.getMsBlock(t)}))}},videoPause:function(t){this.startOffsetX=Math.floor(1e3*t/this.onePX_ms)},inputChanseMs:function(t){var e=1e3*t;e>this.video_duration&&(e=this.video_duration),this.cut_touch_width=e/this.onePX_ms;this.$refs.cutMapSelect;this.touch_x+this.cut_touch_width>this.touch_width_copy_max&&(this.touch_x=this.touch_width_copy_max-this.cut_touch_width),this.getMsBlock(this)},touchTimeLineX:function(){},cutReady:function(){this.cut_ready_copy=!0,this.$emit("cutReady",this.cut_ready_copy),this.cancelClipIndex()},cutVideo:function(){},getVideoCutMap:function(){var t={width:this.cut_touch_width};this.video_cut_map.push(t)},setOcrIma:function(){var t=JSON.parse(sessionStorage.getItem("video_details")),e=i("607c");this.ocr_all_img=t.ocr_all_img||e},positionStart:function(t){t.startOffsetX=Math.floor(t.startOffsetX),t.startOffsetX+t.cut_touch_width>t.touch_width_copy_max?t.touch_x=t.touch_width_copy_max-t.cut_touch_width:t.touch_x=t.startOffsetX,t.$nextTick((function(){t.$refs.timeLineContent.scrollLeft=t.touch_x-t.body_width/2}))},positionEnd:function(t){t.startOffsetX<t.touch_x+1||(t.cut_touch_width=Math.floor(t.startOffsetX)-t.touch_x,t.touchWidthMax(),t.getMsBlock(t))},keyUp:function(){var t=this;document.onkeydown=function(e){var i=e||window.event||arguments.callee.caller.arguments[0];function n(){var e=t.$store.state.video_id,i=document.getElementById(e);i.pause(),t.getMsBlock(t),t.time_box_num=Math.floor(t.onePX_ms*(t.cut_touch_width+t.touch_x)),t.$emit("touchstart",t.time_box_num)}i&&114==i.keyCode&&(i.preventDefault(),t.positionStart(t)),i&&115==i.keyCode&&(i.preventDefault(),t.positionEnd(t)),i&&39==i.keyCode&&(i.preventDefault(),t.cut_touch_width=t.cut_touch_width+1,n()),i&&37==i.keyCode&&(i.preventDefault(),t.cut_touch_width=t.cut_touch_width-1,n())}}},created:function(){this.checkoutMaxTime()},mounted:function(){this.setTimeLineWidth(),this.setStartTimeS(),this.setOcrIma(),this.setBackgroundImg(),this.getMsBlock(this),this.keyUp()}},L=I,O=(i("1d9b"),Object(w["a"])(L,u,p,!1,null,null,null)),$=O.exports,P=i("b27f"),E={name:"videoPad",props:["video_duration","video_options","MAX_TIME"],data:function(){return{offsetX:"",range:4,cut_ready:!1,cut_total_ms:6e4,input_total_ms:60,input_total_ms_temp:60,input_focus:!1,start_time_s:"",preview_video_show:!1,videoStartTime:{start_ms:0,end_ms:6e4}}},components:{timeLine:$,gearBar:d["a"],previewVideoForm:o["a"]},computed:{},watch:{input_total_ms:function(){this.checkoutTotalMs()}},methods:(n={checkoutTotalMs:function(){var t=Math.ceil(this.video_duration/1e3);t>this.MAX_TIME&&(t=this.MAX_TIME),this.input_total_ms>t&&(this.$store.commit("alertMsg","最大秒数不能超过 ".concat(t," 秒")),this.input_total_ms=t)},startTimeS:function(t){this.videoStartTime={start_ms:t[0],end_ms:t[1]}},previewVideoHide:function(){this.preview_video_show=!1},previewVideo:function(){var t=this,e=Array.from(document.querySelectorAll("video"))[0].id;this.player=this.$videojs(e),this.player.pause(),this.preview_video_show=!0,Object(P["setTimeout"])((function(){t.$store.commit("modalShow","previewVideoModel")}),0)},cutVideo:function(){this.$refs.timeLine.cutVideo()},getRange:function(t){this.range=t},touchstart:function(t){this.$emit("touchstart",t)}},Object(l["a"])(n,"cutVideo",(function(){this.cut_ready=!this.cut_ready})),Object(l["a"])(n,"cutReady",(function(t){this.cut_ready=t})),Object(l["a"])(n,"getCutTotalMs",(function(t){this.cut_total_ms=t,this.input_total_ms=Math.ceil(t/1e3)})),Object(l["a"])(n,"changeInputMs",(function(){this.input_focus=!1,this.$refs.timeLine.inputChanseMs(parseFloat(this.input_total_ms))})),Object(l["a"])(n,"positionStart",(function(){this.$refs.timeLine.$options.methods.positionStart(this.$refs.timeLine)})),Object(l["a"])(n,"positionEnd",(function(){this.$refs.timeLine.$options.methods.positionEnd(this.$refs.timeLine)})),Object(l["a"])(n,"inputFocus",(function(){this.$refs.inputNumber.focus()})),Object(l["a"])(n,"addVideoClip",(function(){this.$refs.timeLine.$refs.videoClipLine.addVideoClip(this.$refs.timeLine.$refs.videoClipLine)})),Object(l["a"])(n,"remoteVideoClip",(function(){this.$refs.timeLine.$refs.videoClipLine.remoteVideoClip(this.$refs.timeLine.$refs.videoClipLine)})),n),created:function(){},mounted:function(){this.checkoutTotalMs()}},U=E,z=(i("2ab2"),Object(w["a"])(U,r,c,!1,null,null,null)),B=z.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-1"},[i("div",{class:["d-flex flex-column ai-wrap-v2",{open:t.is_open}]},[i("div",{staticClass:"ai-title px-8px py-10px d-flex justify-content-between px-13px "},[i("ul",{staticClass:"mini-nav"},t._l(t.tab_nav,(function(e,n){return i("li",{key:n,on:{click:function(e){t.tab_index=n}}},[i("a",{class:{action:t.tab_index==n}},[t._v(t._s(e))])])})),0),i("div",{staticClass:"input-wrap"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"pl-10px pr-20px fc-white",attrs:{type:"text",placeholder:"视频内搜索"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("i",{staticClass:"iconfont iconsearch fc-white"})])]),!t.data&&t.tab_index<4?i("div",{staticClass:"d-flex justify-content-center align-items-center h-100 mt-40px"},[i("div",{staticClass:"bg_ai_info",staticStyle:{width:"200px",height:"200px"}}),t._m(0)]):i("div",{ref:"aiPad",class:["ai-pad bg-gray-54",{open:t.is_open}]},[this.tab_index<2?i("div",{staticClass:"ai-time-line",style:"top:"+this.ai_time_top+"px"}):t._e(),0==t.tab_index?i("div",{staticClass:"d-flex flex-1 flex-column ai-content"},[i("ul",{staticClass:"bg-gray-54 p-10px border-right border-left border-color-text ai-box-v2",attrs:{id:"ocrFather"}},[t._l(t.ocr_list_copy,(function(e,n){return i("li",{key:n+"ocr",ref:"ocrListDom",refInFor:!0,staticClass:"d-flex align-items-center ocr_box",class:["text-left px-5px py-3px mb-5px cp fz-12px w-100",t.text_focus_index==n+"ocr"?"bg-blue fc-white":"",{max_time_ling:e.max_time_ling},{start_item:"down"==e.start_time}],staticStyle:{"line-height":"1.5"},attrs:{"data-timeline":1e3*e.timestamp},on:{click:function(i){i.stopPropagation(),t.goToSecond(n+"ocr",e.timestamp,n),t.getTimesBlock(n,e,"ocr")}}},[t.text_focus_index==n+"ocr"||"down"==e.start_time?i("div",{staticClass:"mr-5px"},["start"==e.start_time?i("i",{staticClass:"iconfont icontuding",on:{click:function(i){return i.stopPropagation(),t.setTimeBlock(n,"up",e)}}}):t._e(),2!=t.set_tiems_num||"down"!=e.start_time||t.editing_now?t._e():i("a",{staticClass:"fc-white mr-6px",on:{click:function(e){return t.downLoadBlob()}}},[t._v("下载")]),t.editing_now?i("span",{staticClass:"fc-white mr-6px"},[t._v("正在下载...")]):t._e(),"down"==e.start_time?i("i",{staticClass:"iconfont icondingzhu mr-5px",on:{click:function(i){return i.stopPropagation(),t.setTimeBlock(n,"down",e)}}}):t._e()]):t._e(),i("span",{staticClass:"bg-black mr-10px px-3px text-center",staticStyle:{"min-width":"70px"}},[t._v(t._s(t._f("msToSecond")(1e3*e.timestamp)))]),i("span",{domProps:{innerHTML:t._s(e.word)}})])})),2==t.set_tiems_num?i("div",{staticClass:"tiems-block border bc-blue mx-18px",style:"height:"+this.tiems_block_height+"px;position: absolute;top: "+t.strDomOffsetTop+"px;right:0;width:"+t.endDomWidth+"px"},[i("a",{staticClass:"copy-txt fc-white hove-c",on:{click:function(e){return t.copyTxt("ocr")}}},[t._v("复制文本")])]):t._e()],2)]):t._e(),1==t.tab_index?i("div",{staticClass:"d-flex flex-1 flex-column ai-content"},[i("ul",{staticClass:"bg-gray-54 p-10px border-right border-left border-color-text ai-box-v2"},[t._l(t.asr_list_copy,(function(e,n){return i("li",{key:n+"asr",ref:"asrListDom",refInFor:!0,staticClass:"d-flex align-items-center ocr_box",class:["text-left px-5px py-3px mb-5px cp fz-12px w-100",t.text_focus_index==n+"asr"?"bg-blue fc-white":"",{max_time_ling:e.max_time_ling},{start_item:"down"==e.start_time}],staticStyle:{"line-height":"1.5"},on:{click:function(i){i.stopPropagation(),t.goToSecond(n+"asr",e.timestamp,n),t.getTimesBlock(n,e,"asr")}}},[t.text_focus_index==n+"asr"||"down"==e.start_time?i("div",{staticClass:"mr-5px"},["start"==e.start_time?i("i",{staticClass:"iconfont icontuding",on:{click:function(i){return i.stopPropagation(),t.setAsrTimeBlock(n,"up",e)}}}):t._e(),2!=t.set_tiems_num_asr||"down"!=e.start_time||t.editing_now?t._e():i("a",{staticClass:"fc-white mr-6px",on:{click:function(e){return t.downLoadBlob()}}},[t._v("下载")]),t.editing_now?i("span",{staticClass:"fc-white mr-6px"},[t._v("正在下载...")]):t._e(),"down"==e.start_time?i("i",{staticClass:"iconfont icondingzhu mr-5px",on:{click:function(i){return i.stopPropagation(),t.setAsrTimeBlock(n,"down",e)}}}):t._e()]):t._e(),i("span",{staticClass:"bg-black mr-10px px-3px text-center",staticStyle:{"min-width":"70px"}},[t._v(t._s(t._f("msToSecond")(1e3*e.timestamp)))]),i("span",{domProps:{innerHTML:t._s(e.word)}})])})),2==t.set_tiems_num_asr?i("div",{staticClass:"tiems-block border bc-blue mx-18px",style:"height:"+this.tiems_block_height_asr+"px;position: absolute;top: "+t.strDomOffsetTop_asr+"px;right:0;width:"+t.endDomWidth_asr+"px"},[i("a",{staticClass:"copy-txt fc-white hove-c",on:{click:function(e){return t.copyTxt("asr")}}},[t._v("复制文本")])]):t._e()],2)]):t._e(),2==t.tab_index?i("div",{staticClass:"d-flex flex-1 flex-column ai-content"},[i("div",{staticClass:"d-flex flex-wrap bg-gray-54 p-18px ai-box-v2",attrs:{id:"wordListFatherDom"}},t._l(t.word_list_copy,(function(e,n){return i("div",{key:n+"word",ref:"wordListDom",refInFor:!0,staticClass:"d-flex flex-wrap"},[i("div",{staticClass:"bg-black px-12px py-4px border-radius-20px mb-10px mr-8px cp fz-12px",on:{click:function(i){return t.wordToSecond(n,e.timestamps)}}},[t._v("\n              "+t._s(e.word)+"\n              "),i("span",{staticClass:"fc-white"},[t._v("\n                "+t._s(e.timestamps.length)+"\n              ")])])])})),0)]):t._e(),3==t.tab_index?i("div",{staticClass:"d-flex flex-1 flex-column ai-content"},[i("div",{staticClass:"bg-gray-54 py-18px px-25px flex-1 ai-box-v2",attrs:{id:"personFatherDom"}},t._l(t.person_list_copy,(function(e,n){return i("div",{key:n+"img",ref:"personListDom",refInFor:!0,staticClass:"d-flex mb-20px cp",on:{click:function(i){return t.goToSecond(n+"img",e.second)}}},[i("div",{staticClass:"text-left",staticStyle:{width:"80px","line-height":"40px"}},[i("span",{class:["text-left",t.text_focus_index==n+"img"?"bg-blue fc-white":""],domProps:{innerHTML:t._s(e.name)}})]),i("img",{attrs:{src:e.faceUrl,width:"70",height:"70"}})])})),0)]):t._e(),4==t.tab_index?i("div",{staticClass:"d-flex flex-1 flex-column ai-content"},[i("div",{staticClass:"d-flex flex-wrap bg-gray-54 ai-box-v2"},[i("video-clip",{ref:"videoClipList",attrs:{ai_data:t.data,doctor_id:t.doctor_id}})],1)]):t._e(),5==t.tab_index?i("div",{staticClass:"d-flex flex-1 flex-column ai-content"},[i("div",{staticClass:"d-flex flex-wrap bg-gray-54 ai-box-v2"},[i("videoMark",{ref:"videoMark",attrs:{ai_data:t.data},on:{haveChosen:t.haveChosen}})],1)]):t._e()]),i("div",{staticClass:"open-pad d-flex justify-content-between align-items-center bg-gray-35 fz-12px px-20px"},[t.data?i("div",{on:{click:function(e){t.is_open=!t.is_open}}},[t.is_open?i("i",{staticClass:"iconfont iconicon fc-white d-inline-block",staticStyle:{transform:"rotate(-90deg)"}}):i("i",{staticClass:"iconfont iconicon fc-white d-inline-block",staticStyle:{transform:"rotate(90deg)"}}),i("a",{staticClass:"fc-white"},[t.is_open?i("span",[t._v("收起")]):i("span",[t._v("展开")])])]):t._e(),4==t.tab_index?i("ul",{staticClass:"d-flex justify-content-center align-self-center"},[i("li",[i("a",{staticClass:"fc-white mx-5px",staticStyle:{"line-height":"1.6"},on:{click:function(e){return t.selectAll()}}},[t._v("全选")])]),t.can_medical_video_upload?i("li",[i("a",{staticClass:"btn btn-primary btn-mm mx-5px btn-black",on:{click:function(e){return t.getCutMedical()}}},[parseInt(t.doctor_id)>=0?i("span",[t._v("已选择医师")]):i("span",[t._v("选择医师")])])]):t._e(),i("li",[i("a",{staticClass:"btn btn-primary btn-mm mx-5px btn-black",on:{click:function(e){return t.submitAll()}}},[t.can_publish?i("span",[t._v("一键发布")]):i("span",[t._v("一键提交审核")])])])]):t._e(),5==t.tab_index?i("ul",{staticClass:"d-flex justify-content-center align-self-center"},[i("li",[i("a",{staticClass:"btn btn-primary btn-mm mx-5px btn-black",on:{click:function(e){return t.videoMarkAll()}}},[t.can_publish?i("span",[t._v("一键标记")]):t._e()])])]):t._e()])]),4==t.tab_index&&t.can_medical_video_upload?i("cutMedicalModel",{on:{getDoctorId:t.getDoctorId}}):t._e()],1)},X=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc-glodenl fz-20px"},[i("p",{staticClass:"mb-8px"},[t._v("尚未完成人工智能处理")]),i("p",[i("b",[t._v("TVM")]),t._v("AI-SYSTEM")])])}],V=(i("309f"),i("0b53"),i("2b45"),i("79dd"),i("e697"),i("cc57"),i("6d57"),i("ff21"),i("5cb4"),i("f548"),i("c904"),i("c0c3"),i("4f4e"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video_clip_list"},[i("div",{staticClass:"d-flex p-15px",staticStyle:{"border-bottom":"1px solid #000"}},[i("span",{staticClass:"mr-10px"},[t._v("视频标引时长：")]),i("ul",{staticClass:"d-flex"},t._l(t.default_ms_list,(function(e,n){return i("li",{key:n,staticClass:"mr-20px"},[i("label",{staticClass:"d-flex align-items-center"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.default_ms,expression:"default_ms"}],staticClass:"mr-10px",attrs:{type:"radio",name:"ms",label:n},domProps:{value:e,checked:t._q(t.default_ms,e)},on:{change:[function(i){t.default_ms=e},function(e){return t.setVideoClipDefaultMs()}]}}),t._v("\n          "+t._s(e))])])})),0)]),i("div",{staticClass:"clip-list-wrap"},t._l(t.clip_list,(function(e,n){return i("div",{key:n,class:["d-flex p-15px clip-list-content",{"is-action":t.action_index==n}],on:{click:function(e){return e.target!==e.currentTarget?null:t.open(n)}}},[e.pub_status&&8!==e.pub_status?i("div",{staticClass:"progress"},[i("span",[t._v(t._s(t.setClipStatus(e.pub_status)))]),6==e.pub_status?i("button",{staticClass:"btn btn-primary btn-mm border-radius-30px mb-10px btn-black",on:{click:function(i){return t.download(e.download_url)}}},[t._v("\n          下载\n        ")]):t._e()]):t._e(),i("div",{staticClass:"img-box"},[i("img",{staticClass:"d-block",attrs:{crossOrigin:"anonymous",src:e.poster_url,width:"70",hidden:"40",alt:""}}),t.action_index==n?i("div",{staticClass:"d-flex flex-column"},[i("button",{staticClass:"btn btn-primary btn-mm border-radius-30px mt-10px btn-black",on:{click:function(e){return e.stopPropagation(),t.canvasImgSrc()}}},[t._v("\n            截取封图\n          ")]),i("upload",{staticClass:"btn btn-primary btn-mm border-radius-30px mt-10px btn-black",attrs:{button_name:"上传封面"},on:{getImgToBase64:t.getImgToBase64}})],1):t._e()]),i("div",{staticClass:"d-flex flex-1 ml-10px",staticStyle:{width:"0px"}},[t.action_index==n?i("table",{staticClass:"w-100 clip-table"},[i("tr",[i("td",[t._v("标题：")]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],staticClass:"input-style",attrs:{maxlength:"30",type:"text"},domProps:{value:e.title},on:{input:function(i){i.target.composing||t.$set(e,"title",i.target.value)}}})])]),i("tr",[i("td",[t._v("简介：")]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],staticClass:"input-style",attrs:{maxlength:"1000",name:""},domProps:{value:e.content},on:{input:function(i){i.target.composing||t.$set(e,"content",i.target.value)}}})])]),i("tr",[i("td",[t._v("标签：")]),i("td",[i("div",{staticClass:"pb-10px"},[i("tagList",{attrs:{tag_list:e.tag_list},on:{getTagList:t.getTagList}})],1)])]),i("tr",[i("td",[t._v("平台：")]),i("td",[i("platformList",{attrs:{already_id_list:e.platform_list},on:{getPlatformListId:t.getPlatformListId}})],1)])]):i("div",{on:{click:function(e){return t.open(n)}}},[i("table",{staticClass:"clip-table"},[i("tr",[i("td",[t._v("标题：")]),i("td",[i("p",{staticClass:"mb-10px"},[t._v(t._s(e.title))])])]),i("tr",[i("td",[t._v("\n                简介：\n              ")]),i("td",[i("p",{staticClass:"word-break-all ling-height-bold"},[t._v("\n                  "+t._s(e.content)+"\n                ")])])])])]),i("div",{staticClass:"ml-auto"},[i("a",{staticClass:"delete-btn",on:{click:function(e){return t.deletCilpList(n)}}},[t._v("x")]),t.action_index!==n?i("div",{staticClass:"d-flex"},[i("button",{staticClass:"btn btn-primary btn-mm border-radius-30px mx-10px btn-black",on:{click:function(e){return e.target!==e.currentTarget?null:t.open(n)}}},[t._v("\n              编辑\n            ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.is_selection,expression:"item.is_selection"}],staticClass:"input-checkout mr-10px",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.is_selection)?t._i(e.is_selection,null)>-1:e.is_selection},on:{change:function(i){var n=e.is_selection,a=i.target,s=!!a.checked;if(Array.isArray(n)){var o=null,r=t._i(n,o);a.checked?r<0&&t.$set(e,"is_selection",n.concat([o])):r>-1&&t.$set(e,"is_selection",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e,"is_selection",s)}}})]):i("div",{staticClass:"d-flex flex-column mr-10px"},[i("button",{staticClass:"btn btn-primary btn-mm border-radius-30px btn-black",on:{click:function(e){return t.submitAll(n,"is_single")}}},[t.can_publish?i("span",[t._v("发布")]):i("span",[t._v("提交审核")])]),i("button",{staticClass:"btn btn-primary btn-mm border-radius-30px btn-black mt-10px",on:{click:function(e){return t.submitAll(n,"is_download")}}},[t._v("\n              下载\n            ")]),i("div",{staticClass:"checkout"})]),8==e.pub_status?i("div",{staticClass:"mx-10px mt-10px",staticStyle:{width:"max-content"}},[t._v("\n            下载完成\n          ")]):t._e()])])])})),0),this.submit_arr?i("videoClipModel",{attrs:{model_btn_name:t.model_btn_name,submit_arr:this.submit_arr,clip_list:this.clip_list},on:{submitAll:function(e){return t.submit()},closeModel:function(e){return t.closeModel()}}}):t._e()],1)}),F=[],j=i("cc4b"),R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"platform-list-small d-flex"},t._l(t.platform_list,(function(e,n){return i("div",{key:n,class:["content mr-20px hover-text",{is_aciton:e.is_action}],attrs:{"data-msg":"("+e.mark+") "+e.account_name},on:{click:function(e){return t.selectBox(n)}}},[i("div",{staticClass:"logo-wrap "},[i("i",{staticClass:"iconfont iconqueding"}),i("img",{staticClass:"ob-contain",attrs:{src:e.small_logo,alt:""}})])])})),0)},q=[],G={props:{already_id_list:{type:Array,default:function(){return[]}}},data:function(){return{platform_list:[]}},components:{},computed:{},watch:{platform_list:function(t){var e=[];this.platform_list.forEach((function(t){t.is_action&&e.push(t.third_account_info_id)})),this.$emit("getPlatformListId",e)}},methods:{getPlatformList:function(){var t=this;this.$get("user/bound-platform-list").then((function(e){if("0000"==e.data.code){var i=e.data.data;t.platform_list=JSON.parse(JSON.stringify(i)),t.platform_list.forEach((function(t){t.is_action=!1})),1==t.platform_list.length&&(t.platform_list[0].is_action=!0),t.setList()}}))},setList:function(){var t=this;this.platform_list.forEach((function(e){t.already_id_list.forEach((function(t){e.third_account_info_id==t&&(e.is_action=!0)}))}))},selectBox:function(t){this.platform_list[t].is_action=!this.platform_list[t].is_action,this.$set(this.platform_list,t,this.platform_list[t])}},created:function(){this.getPlatformList()},mounted:function(){}},J=G,W=(i("cec3"),Object(w["a"])(J,R,q,!1,null,"72ebbc4b",null)),H=W.exports,K=i("9dac"),Y=(i("7b04"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"VideoClipModel"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content "},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"pl-10px"},[t._v("发布确认页面")]),i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})]),i("div",{staticClass:"modal-body"},[[i("el-table",{attrs:{data:t.video_details}},[i("el-table-column",{attrs:{label:"视频",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("div",{staticClass:"d-flex align-items-center justify-content-center imgDiv"},[i("img",{attrs:{src:t.row.image,alt:""}})])]}}])}),i("el-table-column",{attrs:{label:"标题",width:"300px",prop:"title"}}),i("el-table-column",{attrs:{label:"剪辑片段"}},[t._v("\n              "+t._s(t.submit_arr.length)+"\n            ")]),i("el-table-column",{attrs:{label:"总时长"}},[t._v("\n              "+t._s(t.total_duration)+"\n            ")])],1)],i("div",{staticClass:"d-flex align-items-center justify-content-between fz-14px mt-20px"},[i("p",[t._v("账户剩余时长："+t._s(t.user_account)+" 秒")]),i("p",[i("span",[t._v("扣除时长：")]),i("span",{staticClass:"fc-c fz-24px"},[t._v(t._s(t.total_duration))]),i("span",{staticClass:"fc-c fz-18"},[t._v("秒")])])]),i("div",{staticClass:"d-flex w-100 justify-content-center align-items-center pt-40px"},[i("a",{staticClass:"fc-c fz-14px btn btn-c py-18px px-25px btnR",on:{click:function(e){return t.submitAll()}}},[t._v("\n            "+t._s(t.model_btn_name)+"\n          ")])])],2),i("div",{staticClass:"modal-footer"})])])])}),Z=[],Q={props:["submit_arr","clip_list","model_btn_name"],data:function(){return{}},components:{},computed:{video_details:function(){var t=[],e=JSON.parse(sessionStorage.getItem("video_details"));return t.push(e),t},total_duration:function(){var t=0;return this.submit_arr.forEach((function(e,i){8!=e.pub_status&&(t+=e.seconds)})),Math.floor(t/1e3)},user_account:function(){return JSON.parse(localStorage.getItem("user_account"))}},watch:{},methods:{close:function(){this.$store.commit("modalHidden","VideoClipModel"),this.$emit("closeModel")},submitAll:function(){this.$get("/user/main-account-seconds").then((function(t){localStorage.setItem("user_account",t.data.data.seconds)})),this.$emit("submitAll"),this.close()}},created:function(){},mounted:function(){}},tt=Q,et=(i("4846"),Object(w["a"])(tt,Y,Z,!1,null,"6450c42e",null)),it=et.exports,nt=(i("49a5"),{props:["ai_data","doctor_id"],data:function(){return{default_ms_list:[30,60,120,300],default_ms:60,clip_list:this.$store.state.clip_list,action_index:null,CONTUNT:3,clip_now_index:0,submit_arr:[],timer:null,download_index:null,can_publish:JSON.parse(localStorage.getItem("user_data")).can_publish,model_btn_name:"支付并发布视频",is_pending:!1,is_download_index:!1}},components:{tagList:j["a"],platformList:H,videoClipModel:it,upload:K["a"]},computed:{state_clip_index:function(){return this.$store.state.clip_index},curTime:function(){return this.$store.state.curTime}},watch:{is_pending:function(t){this.$store.commit("videoClipCutPending",t)},"$store.state.clip_list":function(){this.clip_list=this.$store.state.clip_list},state_clip_index:function(t,e){this.action_index=t},clip_list:{handler:function(t,e){this.$store.commit("setClipList",this.clip_list)},deep:!0}},methods:{modalShow:function(t){"is_download"==t?this.model_btn_name="支付并下载视频":this.can_publish?this.model_btn_name="支付并发布视频":this.model_btn_name="支付并提交审核",this.$store.commit("modalShow","VideoClipModel")},setVideoClipDefaultMs:function(){this.$store.commit("setVideoClipDefaultMs",this.default_ms)},open:function(t){this.action_index==t?this.action_index=null:this.action_index=t,this.$store.commit("changeClipIndex",this.action_index)},deletCilpList:function(t){this.clip_list.splice(t,1),this.$store.commit("changeClipIndex",this.action_index)},getPlatformListId:function(t){this.clip_list[this.action_index].platform_list=t},getTagList:function(t){this.clip_list[this.action_index].tag_list=t},getImgToBase64:function(t){this.clip_list[this.action_index].poster_url=t},canvasImgSrc:function(){var t=T["a"](this.$store.state.video_id);t||alert("截取封面失败请手动上传!"),this.clip_list[this.action_index].poster_url=t},selectAll:function(){this.clip_list.forEach((function(t,e){t.is_selection=!0}))},closeModel:function(){parseInt(this.is_download_index)>=0&&(this.submit_arr=[])},verifyArr:function(t){for(var e="",i=0;i<t.length;i++){var n=t[i];n.title.length<5?e="视频标题不能少于 5 个字":n.content.length<1?e="请输入视频简介,字数不能小于1个字":n.content.length>200?e="请输入视频简介,字数不能大于200个字":n.tag_list.length<1?e="请输入视频标签":n.platform_list.length<1&&(e="请选择发布平台");var a=JSON.parse(localStorage.getItem("user_data")).can_medical_video_upload;if(a&&n.content.length<100&&(e="请输入视频简介,字数不能小于100个字"),e){this.$store.commit("alertMsg",e),this.$store.commit("changeClipIndex",n.submit_index);break}}return e},submitAll:function(t,e){var i=this;if(!this.is_pending)if(this.submit_arr=[],this.is_download_index=!1,isNaN(t)){this.clip_list.forEach((function(t,e){t.pub_status>=0&&6!=t.pub_status&&t.is_selection&&(t.submit_index=e,i.submit_arr.push(t))}));var n=this.verifyArr(this.submit_arr);!n&&this.submit_arr.length>0&&this.modalShow(e)}else{this.clip_list[t].is_selection=!0;var a=this.clip_list[t];a.submit_index=t;var s=[];if(s.push(a),"is_single"==e)n=this.verifyArr(s);if(this.submit_arr.push(a),"is_download"==e){if(this.is_download_index=t,this.clip_list[t].download_url)return void this.$actions.openWin(this.clip_list[t].download_url);this.modalShow(e)}n||this.modalShow(e)}},submit:function(){var t=this;if(this.submit_arr.length>0){this.is_pending=!0,this.submit_arr.forEach((function(e,i){t.clip_list[e.submit_index].pub_status||(t.clip_list[e.submit_index].pub_status=1)}));var e=this.submit_arr[0],i=this.submit_arr[0].submit_index;8==this.submit_arr[0].pub_status?this.shortVideo(e,i):this.cutVideoList(e,i)}else this.is_pending=!1},cutVideoList:function(t,e){var i=this,n={duration:t.seconds,end_ms:t.endTime,start_ms:t.startTime,uuid:this.$route.query.uuid};this.$post("short-video/request-cut",n).then((function(n){"0000"==n.data.code?(i.clip_list[e].pub_status=2,i.clip_list[e].short_video_uuid=n.data.data.short_video_uuid,i.getStatus(t,e),i.timer||(i.timer=setInterval((function(){i.getStatus(t,e)}),1e3))):(i.submit_arr.shift(),i.clip_list[e].pub_status=4,i.submit())}))},getStatus:function(t,e){var i=this;this.$get("/short-video/status",{params:{uuid:t.short_video_uuid}}).then((function(n){if("0000"==n.data.code){var a=n.data.data.done;0!==a&&(clearInterval(i.timer),i.timer=null),1==a&&(parseInt(i.is_download_index)>=0?(i.clip_list[e].pub_status=8,i.is_pending=!1,i.$actions.openWin(n.data.data.url)):(i.clip_list[e].pub_status=5,i.shortVideo(t,e)),i.clip_list[e].download_url=n.data.data.url),-1==a&&(i.clip_list[e].pub_status=4,i.$store.commit("alertMsg","剪辑失败，所扣秒数已退回"),parseInt(i.is_download_index)>=0&&(i.is_pending=!1),i.submit_arr.shift(),i.submit())}else i.submit_arr.shift(),clearInterval(i.timer),i.timer=null}))},shortVideo:function(t,e){var i=this,n=new FormData;n.append("title",t.title),n.append("intro",t.content),n.append("short_video_id",t.short_video_uuid),this.doctor_id&&n.append("doctor_id",this.doctor_id),t.tag_list.forEach((function(t){n.append("tags[]",t)})),t.platform_list.forEach((function(t){n.append("third_account_info_ids[]",t)}));var a=T["b"](t.poster_url);n.append("photo",a),this.$post("short-video/short-video",n).then((function(t){"0000"==t.data.code?i.clip_list[e].pub_status=6:(i.clip_list[e].pub_status=7,i.$store.commit("alertMsg",t.data.msg)),i.submit_arr.shift(),i.submit()}))},setClipStatus:function(t){var e="";switch(t){case 1:e="等待中...";break;case 2:e="正在剪辑中...";break;case 3:e="剪辑成功";break;case 4:e="剪辑失败，所扣秒数已退回";break;case 5:e=this.can_publish?"剪辑成功，正在发布中":"剪辑成功，正在提交中";break;case 6:e=this.can_publish?"发布成功":"提交成功";break;case 7:e="发布失败";break;case 8:e="下载完成";break;default:e=""}return e},download:function(t){t&&this.$actions.openWin(t)}},created:function(){this.clip_list=JSON.parse(sessionStorage.getItem("video_clip_list"))},mounted:function(){var t=this;window.onbeforeunload=function(){t.clip_list.forEach((function(t){t.pub_status=0}))}}}),at=nt,st=(i("b574"),Object(w["a"])(at,V,F,!1,null,null,null)),ot=st.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video_clip_list"},[i("div",{staticClass:"clip-list-wrap"},t._l(t.mark_list,(function(e,n){return i("div",{key:n,class:["d-flex p-15px clip-list-content","is-action"]},[i("div",{staticClass:"img-box"},[i("img",{staticClass:"d-block",attrs:{crossOrigin:"anonymous",src:e.photo,width:"70",hidden:"40",alt:""}}),e.action_index?i("div",{staticClass:"d-flex flex-column"}):t._e()]),i("div",{staticClass:"d-flex flex-1 ml-10px",staticStyle:{width:"0px"}},[e.action_index?i("table",{staticClass:"w-100 clip-table"},[i("tr",[i("td",[t._v("标题：")]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.video_title,expression:"item.video_title"}],staticClass:"input-style",attrs:{maxlength:"30",type:"text"},domProps:{value:e.video_title},on:{input:function(i){i.target.composing||t.$set(e,"video_title",i.target.value)}}})])]),i("tr",[i("td",[t._v("词条名：")]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.entry_name,expression:"item.entry_name"}],staticClass:"input-style",attrs:{maxlength:"30",type:"text"},domProps:{value:e.entry_name},on:{input:function(i){i.target.composing||t.$set(e,"entry_name",i.target.value)}}})])]),i("tr",[i("td",[t._v("一级目录：")]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.first_dir_name,expression:"item.first_dir_name"}],staticClass:"input-style",attrs:{maxlength:"30",type:"text"},domProps:{value:e.first_dir_name},on:{input:function(i){i.target.composing||t.$set(e,"first_dir_name",i.target.value)}}})])]),i("tr",[i("td",[t._v("二级目录：")]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.second_dir_name,expression:"item.second_dir_name"}],staticClass:"input-style",attrs:{maxlength:"30",type:"text"},domProps:{value:e.second_dir_name},on:{input:function(i){i.target.composing||t.$set(e,"second_dir_name",i.target.value)}}})])])]):t._e()])])})),0)])},ct=[],lt=(i("420d"),{props:["ai_data"],data:function(){return{mark_list:[],action_index:null,CONTUNT:3,clip_now_index:0,submit_arr:[],timer:null,doctor_id:null,download_index:null,can_publish:JSON.parse(localStorage.getItem("user_data")).can_publish,model_btn_name:"支付并发布视频",is_pending:!1,is_download_index:!1}},components:{upload:K["a"]},computed:{},watch:{"$store.state.clip_list":function(){this.mark_list=this.$store.state.clip_list},state_clip_index:function(t,e){this.action_index=t}},methods:{setMarkList:function(){var t=this,e=this.$store.state.clip_list;e.forEach((function(e){t.mark_list.push({entry_name:"",photo:e.poster_url,end_time:e.endTime,start_time:e.startTime,first_dir_name:"",second_dir_name:"",video_title:e.title,action_index:!0})}))},verifyArr:function(t){for(var e=!1,i=0;i<t.length;i++){var n=t[i];for(var a in n)if("second_dir_name"!=a&&!String(n[a])){this.$store.commit("alertMsg","请填写完整表单"),e=!0;break}}return e},submitAll:function(){var t=this,e=new FormData,i=JSON.parse(JSON.stringify(this.mark_list));e.append("uuid",this.$route.query.uuid),e.append("task_id",this.$route.query.task_id),parseInt(this.doctor_id)>=0&&e.append("doctor_id",this.doctor_id),delete i.action_index,this.verifyArr(i)||(i.forEach((function(t){for(var i in t)if("photo"==i){var n=T["b"](t["photo"]);e.append(i,n)}else e.append(i,t[i])})),this.$post("/play_entry/add_play_entry",e).then((function(e){"0000"==e.data.code?t.$store.commit("alertMsg","标记成功"):t.$store.commit("alertMsg",e.data.msg)})))}},created:function(){this.setMarkList()},mounted:function(){}}),dt=lt,ut=(i("0f14"),Object(w["a"])(dt,rt,ct,!1,null,null,null)),pt=ut.exports,ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"cutMedicalModel"}},[i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",[t._v("选择医师")]),i("i",{staticClass:"iconfont iconclose cp hove-c",on:{click:function(e){return t.close()}}})]),i("div",{staticClass:"modal-body"},[i("div",[i("div",{staticClass:"d-flex mt-20px"},[i("div",{staticClass:"fz-14px nowrap pt-10px"},[t._v("医生姓名：")]),i("div",[i("el-input",{staticStyle:{width:"240px"},attrs:{size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getdoctorlist(2)}},model:{value:t.doctorListFrom.name,callback:function(e){t.$set(t.doctorListFrom,"name",e)},expression:"doctorListFrom.name"}}),i("span",{staticClass:"iconfont iconsearch fc-999",staticStyle:{position:"absolute","margin-left":"-25px","margin-top":"7px"},on:{click:function(e){return t.getdoctorlist(2)}}}),t.addIsDoctor?t._e():i("div",{staticClass:"mt-10px"},[i("div",{staticClass:"px-10px",staticStyle:{width:"665px",height:"160px",background:"rgba(245,245,245,1)","border-radius":"3px",overflow:"auto"}},t._l(t.doctorList,(function(e,n){return i("div",{key:n,staticClass:"d-flex align-items-center p-10px",staticStyle:{"border-bottom":"1px solid rgba(229,229,229,1)"}},[i("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%"},attrs:{src:e.head_portrait}}),i("div",{staticClass:"ml-20px text-ellipsis",staticStyle:{width:"130px"}},[t._v("\n                      "+t._s(e.name))]),i("div",{staticClass:"text-ellipsis",staticStyle:{width:"300px"}},[t._v("\n                      "+t._s(e.legal_name))]),i("div",{staticClass:"text-ellipsis",staticStyle:{width:"200px"}},[t._v("\n                      "+t._s(e.organization_level))]),i("div",{staticClass:"bc-blue border border-radius-20px d-flex justify-content-center fz-12px cp fc-blue",staticStyle:{height:"25px",width:"60px","line-height":"25px","text-align":"center"},on:{click:function(i){return t.addDockor(e)}}},[t._v("\n                      选择\n                    ")])])})),0),i("div",{staticClass:"d-flex justify-content-center align-items-center fz-12px",staticStyle:{width:"665px",height:"25px",background:"rgba(216,216,216,1)"}})]),t.addIsDoctor?i("div",{staticClass:"mt-10px"},[i("div",{staticClass:"px-10px pb-20px",staticStyle:{width:"665px",height:"160px",background:"rgba(245,245,245,1)","border-radius":"3px",overflow:"auto"}},[i("div",{staticClass:"d-flex justify-content-between mt-20px"},[i("div",{staticClass:"d-flex align-items-center"},[i("span",{staticClass:"fz-12px"},[t._v("头像：")]),i("div",{staticClass:"d-flex align-items-center justify-content-center ml-25px",staticStyle:{width:"40px",height:"40px",background:"rgba(220,220,220,1)","border-radius":"50%"}},[t.addDoctorUrl?i("img",{staticStyle:{width:"100%",height:"100%","border-radius":"50%"},attrs:{src:t.addDoctorUrl}}):i("span",{staticClass:"iconfont iconzhanghao fz-20px fc-white"})]),i("div",{staticClass:"bc-blue border border-radius-20px ml-20px m-10px d-flex justify-content-center fz-12px",staticStyle:{height:"20px",width:"47px","line-height":"20px","text-align":"center"}},[i("upload",{attrs:{button_name:"上传"},on:{getFileUrl:t.getAddDoctorImageUrl}})],1)]),i("div",[i("span",{staticClass:"fz-12px"},[t._v("医生姓名：")]),i("el-input",{staticStyle:{width:"220px"},attrs:{size:"mini"},model:{value:t.addDoctor.name,callback:function(e){t.$set(t.addDoctor,"name",e)},expression:"addDoctor.name"}})],1)]),i("div",{staticClass:"d-flex justify-content-between mt-20px"},[i("div",[i("span",{staticClass:"fz-12px"},[t._v("医生科室：")]),i("el-input",{staticStyle:{width:"220px"},attrs:{size:"mini"},model:{value:t.addDoctor.department,callback:function(e){t.$set(t.addDoctor,"department",e)},expression:"addDoctor.department"}})],1),i("div",[i("span",{staticClass:"fz-12px"},[t._v("医生级别：")]),i("el-input",{staticStyle:{width:"220px"},attrs:{size:"mini"},model:{value:t.addDoctor.job_title,callback:function(e){t.$set(t.addDoctor,"job_title",e)},expression:"addDoctor.job_title"}})],1)]),i("div",{staticClass:"d-flex justify-content-between mt-20px"},[i("div",[i("span",{staticClass:"fz-12px"},[t._v("所在医院：")]),i("el-input",{staticStyle:{width:"220px"},attrs:{size:"mini"},model:{value:t.addDoctor.legal_name,callback:function(e){t.$set(t.addDoctor,"legal_name",e)},expression:"addDoctor.legal_name"}})],1),i("div",[i("span",{staticClass:"fz-12px"},[t._v("医院级别：")]),i("el-input",{staticStyle:{width:"220px"},attrs:{size:"mini"},model:{value:t.addDoctor.organization_level,callback:function(e){t.$set(t.addDoctor,"organization_level",e)},expression:"addDoctor.organization_level"}})],1)])]),i("div",{staticClass:"d-flex justify-content-between align-items-center fz-12px px-10px",staticStyle:{width:"665px",height:"25px",background:"rgba(216,216,216,1)"}},[i("span",{staticClass:"cp",staticStyle:{color:"#666666"},on:{click:function(e){t.addIsDoctor=!1}}},[t._v("返回")]),i("span",{staticClass:"fc-blue cp",on:{click:t.addDoctorHttp}},[t._v("选择并添加")])])]):t._e()],1)]),i("div",[i("div",{staticClass:"mt-20px d-flex align-items-center"},[i("span",{staticClass:"fz-14px"},[t._v("医生头像：")]),i("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{width:"50px",height:"50px",background:"rgba(220,220,220,1)","border-radius":"50%"}},[t.doctorData.head_portrait?i("img",{staticStyle:{width:"100%",height:"100%","border-radius":"50%"},attrs:{src:t.doctorData.head_portrait}}):i("span",{staticClass:"iconfont iconzhanghao fz-30px fc-white"})])]),i("div",{staticClass:"d-flex justify-content-between mt-20px"},[i("div",[i("span",{staticClass:"fz-14px"},[t._v("医生科室：")]),i("el-input",{staticStyle:{width:"240px"},attrs:{disabled:"",size:"small"},model:{value:t.doctorData.department,callback:function(e){t.$set(t.doctorData,"department",e)},expression:"doctorData.department"}})],1),i("div",[i("span",{staticClass:"fz-14px"},[t._v("医生级别：")]),i("el-input",{staticStyle:{width:"240px"},attrs:{disabled:"",size:"small"},model:{value:t.doctorData.job_title,callback:function(e){t.$set(t.doctorData,"job_title",e)},expression:"doctorData.job_title"}})],1)]),i("div",{staticClass:"d-flex justify-content-between mt-20px"},[i("div",[i("span",{staticClass:"fz-14px"},[t._v("所在医院：")]),i("el-input",{staticStyle:{width:"240px"},attrs:{disabled:"",size:"small"},model:{value:t.doctorData.legal_name,callback:function(e){t.$set(t.doctorData,"legal_name",e)},expression:"doctorData.legal_name"}})],1),i("div",[i("span",{staticClass:"fz-14px"},[t._v("医院级别：")]),i("el-input",{staticStyle:{width:"240px"},attrs:{disabled:"",size:"small"},model:{value:t.doctorData.organization_level,callback:function(e){t.$set(t.doctorData,"organization_level",e)},expression:"doctorData.organization_level"}})],1)])]),i("div",{staticClass:"w-100 d-flex justify-content-center my-20px",on:{click:t.createMedicalVideo}},[i("div",{staticClass:"bg-blue mt-5px bc-blue border border-radius-20px d-flex justify-content-center fc-white fz-12px cp",staticStyle:{height:"30px",width:"100px","line-height":"30px","text-align":"center"}},[t._v("\n              确定\n            ")])])])]),i("div",{staticClass:"modal-footer"})])])])},mt=[],ft=(i("e10e"),{data:function(){return{doctor_id:"",addIsDoctor:!1,addDoctorUrl:"",doctorListFrom:{page:1,name:"",limit:1e7},addDoctor:{name:"",legal_name:"",department:"",organization_level:"",job_title:"",head_portrait:null},doctorData:{head_portrait:"",department:"",job_title:"",legal_name:"",organization_level:""},doctorList:[]}},components:{upload:K["a"]},methods:{createMedicalVideo:function(){this.$emit("getDoctorId",this.doctor_id),this.close()},getdoctorlist:function(t){var e=this;this.doctorListFrom.limit=1==t?50:1e7,this.$get("/medicalvideo/getdoctorlist",{params:this.doctorListFrom}).then((function(t){"0000"==t.data.code&&(e.doctorList=t.data.data.list)}))},getAddDoctorImageUrl:function(t,e){document.getElementById("upload_flie").value=null,this.addDoctor.head_portrait=e,this.addDoctorUrl=t},addDockor:function(t){this.doctor_id=t.id,this.doctorData.head_portrait=t.head_portrait,this.doctorData.department=t.department,this.doctorData.job_title=t.job_title,this.doctorData.legal_name=t.legal_name,this.doctorData.organization_level=t.organization_level},addDoctorHttp:function(){var t=this;for(var e in this.addDoctor)if(!this.addDoctor[e])return void this.$message({showClose:!0,message:"新建医师所有条件必填！",type:"error"});var i=new FormData;Object.keys(this.addDoctor).forEach((function(e){""!==t.addDoctor[e]&&null!==t.addDoctor[e]&&void 0!==t.addDoctor[e]&&i.append(e,t.addDoctor[e])})),this.$post("/medicalvideo/editdoctor",i).then((function(e){"0000"==e.data.code?(t.doctor_id=e.data.data.id,t.getdoctorlist(),t.addIsDoctor=!1,t.doctorData.head_portrait=t.addDoctorUrl,t.doctorData.department=t.addDoctor.department,t.doctorData.job_title=t.addDoctor.job_title,t.doctorData.legal_name=t.addDoctor.legal_name,t.doctorData.organization_level=t.addDoctor.organization_level):e.data.msg&&t.$store.commit("alertMsg",e.data.msg)}),(function(t){}))},close:function(){this.$store.commit("modalHidden","cutMedicalModel")}},created:function(){},mounted:function(){this.getdoctorlist(1)}}),_t=ft,gt=(i("9350"),Object(w["a"])(_t,ht,mt,!1,null,null,null)),bt=gt.exports;function vt(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=yt(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){r=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw s}}}}function yt(t,e){if(t){if("string"===typeof t)return xt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?xt(t,e):void 0}}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var wt={props:["data"],data:function(){return{tab_nav:["字幕文本","声音文本","标签","人物","视频片段"],tab_index:0,editing_now:!1,timer:null,second_time:0,text_focus_index:!1,keyword:this.$route.query.keyword||"",ocr_list:[],asr_list:[],person_list:[],word_list:[],ocr_list_copy:[],asr_list_copy:[],person_list_copy:[],word_list_copy:[],set_tiems_block:{start_time:"",end_time:""},tiems_block_arr:[],index_temp:[],set_tiems_num:0,set_tiems_num_asr:0,tiems_block_height:"",tiems_block_height_asr:"",strDomOffsetTop:"",strDomOffsetTop_asr:"",endDomOffsetTop:"",endDomWidth:"",endDomWidth_asr:"",max_time_index:"",word_time_num:0,word_index:0,video_info:{cut_block_is_ready:!1},doctor_id:null,MAX_TIME:900,is_open:!1,tiems_block_asr:[],ai_time_top:0,ai_time_index:0,is_scroll_now:!1,scroll_timer:null,can_publish:JSON.parse(localStorage.getItem("user_data")).can_publish,can_medical_video_upload:JSON.parse(localStorage.getItem("user_data")).can_medical_video_upload}},components:{videoClip:ot,videoMark:pt,cutMedicalModel:bt},computed:{clip_start_time:function(){return this.$store.state.clip_start_time},start_time:function(){if(this.$route.query.start_time)return Number(this.$route.query.start_time)},uuid:function(){return this.$route.query.uuid},curTime:function(){return this.$store.state.curTime},ListDom:function(){if(0==this.tab_index)var t=this.$refs.ocrListDom,e=this.ocr_list;if(1==this.tab_index)t=this.$refs.asrListDom,e=this.asr_list;return{dom:t,data:e}}},watch:{keyword:function(){this.search()},curTime:function(t){!this.is_scroll_now&&this.tab_index<2&&this.aiTimeLine(t,this.ListDom.data,this.ListDom.dom)},tab_index:function(t){t>1&&this.data&&(this.$refs.aiPad.scrollTop=0)},clip_start_time:function(t){this.tab_index=4,this.setClipAiInfo(t)}},methods:{getDoctorId:function(t){this.doctor_id=t},getCutMedical:function(){this.$store.commit("modalShow","cutMedicalModel")},videoMarkAll:function(){this.$refs.videoMark.submitAll()},setStartTimeBlock:function(){var t=this;if(this.start_time){var e=this,i=this.ocr_list_copy.findIndex((function(t){return t.timestamp==e.start_time}));return this.text_focus_index=i+"ocr",this.getTimesBlock(i),void this.$nextTick((function(){if(i>-1){var e=document.querySelectorAll(".ai-pad")[0],n=t.$refs.ocrListDom[i],a=n.getBoundingClientRect().top,s=e.scrollTop;e.scrollTop=s+(a-225)}else e.scrollTop=0}))}},touchstart:function(t){this.$emit("touchstart",t)},setAiTimeIndex:function(t,e){if(Array.isArray(e)){var i=e.findIndex((function(e){return t<1e3*e.timestamp}));i>1&&(this.ai_time_index=i-1)}},getTimesBlock:function(t,e,i){this.set_tiems_num<2&&"ocr"==i&&this.$set(this.ocr_list_copy[t],"start_time","start"),this.set_tiems_num_asr<2&&"asr"==i&&this.$set(this.asr_list_copy[t],"start_time","start")},setTimeBlock:function(t,e,i){var n=this,a=this;a.set_tiems_num<2&&(this.$set(this.ocr_list_copy[t],"start_time","down"),"up"==e&&this.tiems_block_arr.push(t)),Object(P["setTimeout"])((function(){var t=document.querySelectorAll(".start_item");if(a.tiems_block_arr.length>2&&a.tiems_block_arr.splice(0,1),a.tiems_block_arr.sort((function(t,e){return t-e})),a.set_tiems_num=t.length,"up"==e&&n.tiems_block_arr.length<2){var i=a.ocr_list_copy[a.tiems_block_arr[0]].timestamp;n.max_time_index=a.ocr_list_copy.findIndex((function(t){return t.timestamp-i>n.MAX_TIME})),n.max_time_index>-1&&a.$set(a.ocr_list_copy[n.max_time_index-1],"max_time_ling",!0)}if("down"==e&&(n.max_time_index>-1&&a.$set(a.ocr_list_copy[n.max_time_index-1],"max_time_ling",!1),2==a.tiems_block_arr.length?(a.$set(a.ocr_list_copy[a.tiems_block_arr[1]],"start_time","start"),a.$set(a.ocr_list_copy[a.tiems_block_arr[0]],"start_time",null),a.tiems_block_arr=[]):(a.$set(a.ocr_list_copy[a.tiems_block_arr[0]],"start_time","start"),a.tiems_block_arr=[])),2==a.set_tiems_num){var s=t[0],o=t[1],r=o.offsetHeight;a.endDomWidth=o.offsetWidth,a.strDomOffsetTop=s.offsetTop,a.endDomOffsetTop=o.offsetTop,a.tiems_block_height=a.endDomOffsetTop-a.strDomOffsetTop+r-5,s.classList.add("border-none"),o.classList.add("border-none"),a.$set(a.ocr_list_copy[a.tiems_block_arr[0]],"start_time",null),a.$set(a.ocr_list_copy[a.tiems_block_arr[1]],"start_time","down"),a.set_tiems_block.start_time=a.ocr_list_copy[a.tiems_block_arr[0]].timestamp,a.set_tiems_block.end_time=a.ocr_list_copy[a.tiems_block_arr[1]].timestamp,a.$store.commit("setAiinfoTimeBlock",a.set_tiems_block)}}),0)},setAsrTimeBlock:function(t,e,i){var n=this,a=this;a.set_tiems_num_asr<2&&(this.$set(this.asr_list_copy[t],"start_time","down"),"up"==e&&this.tiems_block_asr.push(t)),Object(P["setTimeout"])((function(){var t=document.querySelectorAll(".start_item");if(a.tiems_block_asr.length>2&&a.tiems_block_asr.splice(0,1),a.tiems_block_asr.sort((function(t,e){return t-e})),a.set_tiems_num_asr=t.length,"up"==e&&n.tiems_block_asr.length<2){var i=a.asr_list_copy[a.tiems_block_asr[0]].timestamp;n.max_time_index=a.asr_list_copy.findIndex((function(t){return t.timestamp-i>n.MAX_TIME})),n.max_time_index>-1&&a.$set(a.asr_list_copy[n.max_time_index-1],"max_time_ling",!0)}if("down"==e&&(n.max_time_index>-1&&a.$set(a.asr_list_copy[n.max_time_index-1],"max_time_ling",!1),2==a.tiems_block_asr.length?(a.$set(a.asr_list_copy[a.tiems_block_asr[1]],"start_time","start"),a.$set(a.asr_list_copy[a.tiems_block_asr[0]],"start_time",null),a.tiems_block_asr=[]):(a.$set(a.asr_list_copy[a.tiems_block_asr[0]],"start_time","start"),a.tiems_block_asr=[])),2==a.set_tiems_num_asr){var s=t[0],o=t[1],r=o.offsetHeight;a.endDomWidth_asr=o.offsetWidth,a.strDomOffsetTop_asr=s.offsetTop,a.endDomOffsetTop=o.offsetTop,a.tiems_block_height_asr=a.endDomOffsetTop-a.strDomOffsetTop_asr+r-5,s.classList.add("border-none"),o.classList.add("border-none"),a.$set(a.asr_list_copy[a.tiems_block_asr[0]],"start_time",null),a.$set(a.asr_list_copy[a.tiems_block_asr[1]],"start_time","down"),a.set_tiems_block.start_time=a.asr_list_copy[a.tiems_block_asr[0]].timestamp,a.set_tiems_block.end_time=a.asr_list_copy[a.tiems_block_asr[1]].timestamp,a.$store.commit("setAiinfoTimeBlock",a.set_tiems_block)}}),0)},goToSecond:function(t,e,i){this.text_focus_index=t;e*=1e3;this.video_info={startOffsetX:e,cut_block_is_ready:!1},2==this.tiems_block_arr.length&&(this.video_info.cut_block_is_ready=!0),this.$store.commit("setVideoInfo",this.video_info),this.touchstart(e),this.ai_time_index=i},wordToSecond:function(t,e){t!==this.word_index&&(this.word_time_num=0),this.word_index=t,this.word_time_num>e.length-1&&(this.word_time_num=0);var i=1e3*e[this.word_time_num];this.video_info.startOffsetX=i,2==this.tiems_block_arr.length&&(this.video_info.cut_block_is_ready=!0),this.$store.commit("setVideoInfo",this.video_info),this.touchstart(i),this.$store.commit("setVideoInfo",this.video_info),this.word_time_num++},getAiinfoList:function(){this.data&&(this.data.ocr.length>0&&(this.ocr_list=this.data.ocr),this.asr_list=this.data.asr,this.person_list=this.data.person,this.word_list=this.data.word,this.word_list_copy=JSON.parse(JSON.stringify(this.word_list)),this.ocr_list_copy=JSON.parse(JSON.stringify(this.ocr_list)),this.asr_list_copy=JSON.parse(JSON.stringify(this.asr_list)),this.person_list_copy=JSON.parse(JSON.stringify(this.person_list))),this.$store.commit("setVideAiInfo",this.data)},keyLight:function(t,e){var i=t.replace(e,(function(t){return t.replace(t,'<span style="color: #C51A1A">'+t+"</span>")}));return i},setWrodlist:function(){var t,e=this,i=vt(this.word_list_copy);try{for(i.s();!(t=i.n()).done;){var n=t.value,a=n.words;a.forEach((function(t,i){if(t.indexOf(e.keyword)>-1){var n=e.keyLight(t,e.keyword);e.$set(a,i,n)}}))}}catch(d){i.e(d)}finally{i.f()}var s=this.word_list_copy.findIndex((function(t){var i=t.words.join("");return i.indexOf(e.keyword)>-1})),o=document.getElementById("wordListFatherDom"),r=o.scrollTop;if(s>-1){var c=this.$refs.wordListDom[s],l=c.getBoundingClientRect().top;r=o.scrollTop;o.scrollTop=r+(l-215)}else o.scrollTop=0},setDomScrollTop:function(t,e){var i=t.getBoundingClientRect().top,n=document.getElementById(e),a=n.scrollTop;n.scrollTop=a+(i-215)},keyLightAiList:function(t){var e,i=t,n=vt(i);try{for(n.s();!(e=n.n()).done;){var a=e.value,s=a.word;if(s.indexOf(this.keyword)>-1){var o=this.keyLight(s,this.keyword);Object.assign(a,{word:o})}}}catch(r){n.e(r)}finally{n.f()}return i},setOcrList:function(){var t=this;if(this.keyword){this.ocr_list_copy=this.keyLightAiList(this.ocr_list_copy),this.asr_list_copy=this.keyLightAiList(this.asr_list_copy);var e=this.ocr_list_copy.findIndex((function(e){return e.word.indexOf(t.keyword)>-1})),i=this.asr_list_copy.findIndex((function(e){return e.word.indexOf(t.keyword)>-1})),n=document.querySelectorAll(".ai-pad")[0];if(e>-1&&0==this.tab_index){var a=this.$refs.ocrListDom[e],s=a.getBoundingClientRect().top,o=n.scrollTop;n.scrollTop=o+(s-225)}else n.scrollTop=0;if(i>-1&&1==this.tab_index){var r=this.$refs.asrListDom[i];s=r.getBoundingClientRect().top,o=n.scrollTop;n.scrollTop=o+(s-225)}else n.scrollTop=0}},setPersonList:function(){var t,e=this,i=vt(this.person_list_copy);try{for(i.s();!(t=i.n()).done;){var n=t.value,a=n.person.name,s=this.keyLight(a,this.keyword);Object.assign(n.person,{name:s})}}catch(u){i.e(u)}finally{i.f()}var o=this.person_list_copy.findIndex((function(t){return t.person.name.indexOf(e.keyword)>-1})),r=document.getElementById("personFatherDom"),c=r.scrollTop;if(o>-1){var l=this.$refs.personListDom[o],d=l.getBoundingClientRect().top;r.scrollTop=c+(d-215)}else r.scrollTop=0},search:function(){this.tab_index>1||(this.ocr_list_copy=JSON.parse(JSON.stringify(this.ocr_list)),this.asr_list_copy=JSON.parse(JSON.stringify(this.asr_list)),this.set_tiems_num=0,this.set_tiems_num_asr=0,this.setOcrList())},downLoadBlob:function(){var t=this,e={uuid:this.uuid,start_ms:1e3*this.set_tiems_block.start_time,end_ms:1e3*this.set_tiems_block.end_time,duration:this.set_tiems_block.end_time-this.set_tiems_block.start_time};this.set_tiems_block.end_time<=this.set_tiems_block.start_time?this.$store.commit("alertMsg","结束时间必须大于开始时间"):this.$post("/yiliao/request-download-task",e).then((function(e){var i=e.data.data.task_id,n=t;t.$store.commit("alertMsg","正在剪辑，请稍等"),t.editing_now=!0,t.timer=setInterval((function(){n.queryDownLoadStatus(i)}),2e3)}))},queryDownLoadStatus:function(t){var e=this;this.$get("/yiliao/download-task-status",{params:{task_id:t}}).then((function(t){"0000"==t.data.code?1==t.data.data.done&&(e.$actions.openWin(t.data.data.url),e.$store.commit("alertMsg","正在下载，请稍等"),clearInterval(e.timer),e.editing_now=!1,e.timer=null):e.$store.commit("alertMsg","剪辑失败，请重试")}))},copyTxt:function(t){if("ocr"==t)var e=this.tiems_block_arr[0],i=this.tiems_block_arr[1],n=this.ocr_list;if("asr"==t)e=this.tiems_block_asr[0],i=this.tiems_block_asr[1],n=this.asr_list;for(var a="",s=e;s<i+1;s++){var o=n[s].word;a+=o+="\n"}this.$copyText(a),this.$store.commit("alertMsg","已经复制到 剪切板")},aiTimeLine:function(t,e,i){var n=this;t=Math.floor(1e3*t),i=i,e=e;this.setAiTimeIndex(t,e);var a=1e3*parseInt(e[this.ai_time_index].timestamp),s=i[this.ai_time_index].offsetTop;t==a&&(this.ai_time_top=s+i[this.ai_time_index].clientHeight/2),t>a&&(this.ai_time_top=s+i[this.ai_time_index].clientHeight/2,this.$nextTick((function(){n.$refs.aiPad.scrollTop=s-100})))},selectAll:function(){this.$refs.videoClipList.selectAll()},setClipAiInfo:function(t){if(this.data){var e=this.ocr_list.find((function(e){return t<=1e3*e.timestamp})),i=this.asr_list.find((function(e){return t<=1e3*e.timestamp})),n={title:e.word,content:i.word};this.$store.commit("setClipAi",n)}},scrollFunc:function(){var t=this;this.is_scroll_now=!0,this.scroll_timer=Object(P["setTimeout"])((function(){t.is_scroll_now=!1}),4e3)},submitAll:function(){this.$refs.videoClipList.submitAll()},checkTask:function(){var t=this,e=this.$route.query.task_id;if(!this.data)return this.tab_nav.splice(1,3),void(this.tab_index=4);this.$nextTick((function(){var e=document.querySelectorAll(".ai-title")[0].querySelectorAll(".mini-nav")[0];(!t.data.asr||t.data.asr.length<1)&&(t.tab_nav.splice(1,1,""),e.querySelectorAll("li")[1].style.display="none",t.tab_index=4),(!t.data.ocr||t.data.ocr.length<1)&&(t.tab_nav.splice(0,1,""),e.querySelectorAll("li")[0].style.display="none",t.tab_index=4),(!t.data.person||t.data.person.length<1)&&(t.tab_nav.splice(3,1,""),e.querySelectorAll("li")[3].style.display="none",t.tab_index=4),(!t.data.word||t.data.word.length<1)&&(t.tab_nav.splice(2,1,""),e.querySelectorAll("li")[2].style.display="none",t.tab_index=4)})),e&&this.$get("play_entry/check_task",{params:{task_id:e}}).then((function(e){"0000"==e.data.code&&t.tab_nav.push("视频打点")}))}},created:function(){this.checkTask()},mounted:function(){this.search(),this.getAiinfoList(),this.setStartTimeBlock(),window.onmousewheel=document.onmousewheel=this.scrollFunc}},kt=wt,St=(i("77a0"),Object(w["a"])(kt,N,X,!1,null,"d054f982",null)),Tt=St.exports,Ct=i("5da2"),Mt=i.n(Ct),At=(i("6266"),i("96c8"),{props:[],name:"video_cut",data:function(){return{second_time:0,text_focus_index:!1,ocr_list:[],person_list:[],word_list:[],ocr_list_copy:[],person_list_copy:[],word_list_copy:[],status_loading:!0,video_details:{},video_options:{},videoStartTime:{},preview_show:!1,pause_time:0,innovate_type:JSON.parse(localStorage.getItem("userData")).innovate_type}},components:{cutPad:B,aiInfoV2:Tt,previewVideoForm:o["a"]},computed:{MAX_TIME:function(){var t=parseInt(this.$route.query.stringTime)/1e3;return t>0?t:900},clip_list:function(){return this.$store.state.clip_list},start_time_s:function(){if(this.$route.query.start_time)return Number(this.$route.query.start_time)},mzid:function(){return this.$route.query.mzid},uuid:function(){return this.$route.query.uuid},router_type:function(){return this.$route.query.type},task_id:function(){return this.$route.query.task_id},clip_index:function(){return this.$store.state.clip_index}},watch:{clip_index:function(){this.previewVideo(this.clip_list[this.clip_index])},clip_list:{handler:function(t,e){this.previewVideo(this.clip_list[this.clip_index])},deep:!0}},methods:{add:function(){var t=this.$route.query,e=this.$refs.cutPad.$children[1],i=parseInt(e.cut_start_time),n=parseInt(e.cut_end_time),a={resource_uuid:t.uuid,video_url:this.video_details.video_url,resource_start_ms:i,resource_end_ms:n,index:t.index,video_details:{title:this.video_details.title,poster:this.video_details.image,type:"cut"}};this.$store.commit("setAiCreateVideo",a),window.close()},touchstart:function(t){this.second_time=t,this.$refs.cutPad.$children[1].timeLineScrollLeft(),this.$refs.aiInfoV2.setAiTimeIndex(this.second_time)},setVideAiInfo:function(){},timeupdate:function(t){},goToGraphics:function(){var t=this,e=t.$router.resolve({path:"/video_graphics",query:{uuid:this.$route.query.uuid}});window.open(e.href,"_blank")},goToViedoBuy:function(){var t=this,e=this.$refs.cutPad.$children[1],i=parseInt(e.cut_start_time),n=parseInt(e.cut_end_time);if(n-i>1e3*this.MAX_TIME)this.$store.commit("alertMsg","最长时间不能超过 15 分钟");else if(n-i<1)this.$store.commit("alertMsg","剪辑时长不能低于1秒");else{var a={start_ms:i,end_ms:n,title:"string",source_video_uuid:this.$route.query.uuid};if(sessionStorage.removeItem("videoStartTime"),sessionStorage.removeItem("video_details"),sessionStorage.setItem("videoStartTime",JSON.stringify(a)),sessionStorage.setItem("video_details",JSON.stringify(this.video_details)),this.task_id){var s={start_ms:i,end_ms:n,task_id:this.task_id,uuid:this.uuid,duration:n-i};this.gotoVideoCut(s)}else{var o=t.$router.resolve({path:"/video_release",query:{uuid:this.$route.query.uuid}});window.open(o.href,"_blank")}}},gotoVideoCut:function(t){var e=this;this.$post("/task/request-cut",t).then((function(t){if("0000"==t.data.code){var i=e.$router.resolve({path:"/video_release/short_details",query:{short_uuid:t.data.data.short_video_uuid,is_live:!0,task_id:e.task_id}});window.open(i.href,"_blank")}}))},queryVideoDeteils:function(){var t=this;this.status_loading=!0;var e="/video/source-video-info",i={};i=this.task_id?{uuid:this.uuid,task_id:this.task_id}:{uuid:this.uuid},this.mzid&&(i={mzid:this.mzid},e="/custom-short-video/mz-video-info"),this.$get(e,{params:i}).then((function(e){if("0000"==e.data.code){t.video_details=JSON.parse(JSON.stringify(e.data.data)),t.video_options.src=t.video_details.video_url,t.video_options.poster=t.video_details.image,t.video_options.duration=t.video_details.duration,t.video_options.height="360px",t.video_options.width="640px",t.$store.commit("setVideAiInfo",t.video_details.ai_info);var i=JSON.parse(JSON.stringify(t.video_details));delete i.ai_info,sessionStorage.setItem("video_details",JSON.stringify(i)),t.status_loading=!1}else t.$store.commit("alertMsg",e.data.msg)}))},videoPause:function(t){this.$refs.cutPad.$refs.timeLine.videoPause(t)},previewVideo:function(t){t&&(this.touchstart(t.startTime),this.pause_time=t.endTime)},getTs:function(){var t,e,i=document.querySelector.bind(document);function n(t){}var a=new XMLHttpRequest;function s(t){var e=new Uint8Array(t),i=!1,n="video",a=[],s=0,r=null,c=new Mt.a.mp4.Transmuxer({remux:!1});c.on("data",(function(t){t.type===n&&(a.push(t),s+=t.data.byteLength,r=t.initSegment)})),c.on("done",(function(){var t=0,e=new Uint8Array(r.byteLength+s);e.set(r,t),t+=r.byteLength;for(var c=0,l=t;c<a.length;c++)e.set(a[c].data,l),l+=a[c].byteLength;a=[],s=0,Mt.a.mp4.tools.inspect(e),o(i,n,e)})),c.push(e),c.flush()}function o(a,s,o){var r;t=document.createElement("video"),t.controls=!0,e=new MediaSource,t.src=URL.createObjectURL(e),i("#video-wrappe-my").appendChild(t);var c=["avc1.64001f","mp4a.40.5"];e.addEventListener("sourceopen",(function(){e.duration=0,a?r=e.addSourceBuffer('video/mp4;codecs="avc1.64001f,mp4a.40.5"'):"video"===s?r=e.addSourceBuffer('video/mp4;codecs="'+c[0]+'"'):"audio"===s&&(r=e.addSourceBuffer('audio/mp4;codecs="'+(c[1]||c[0])+'"')),r.addEventListener("updatestart",n),r.addEventListener("updateend",n),r.addEventListener("error",n),t.addEventListener("error",n),r.appendBuffer(o)}))}a.open("GET","http://weijian-api-qadrm.mtq.tvm.cn/storage/mnt/dev/video/live_cut_long_video/2019-11-21/960e6b8fb9e0f5d7f9f8339e213423c4112.ts"),a.responseType="arraybuffer",a.send(),a.onreadystatechange=function(){4==a.readyState&&200==a.status&&s(a.response)}},keyUp:function(){var t=this;document.onkeyup=function(e){var i=t.$store.state.video_id,n=document.getElementById(i);32===e.keyCode&&(window.event.preventDefault(),window.event.cancelBubble=!0,n.paused?n.play():n.pause())}}},created:function(){this.previewVideo()},mounted:function(){this.queryVideoDeteils(),this.keyUp()}}),Dt=At,It=(i("e2b7"),Object(w["a"])(Dt,a,s,!1,null,null,null));e["default"]=It.exports},"3c33":function(t,e,i){"use strict";var n,a,s,o,r,c,l,d,u,p,h,m,f,_,g,b,v,y,x,w,k,S,T,C,M,A,D,I,L,O,$,P,E,U,z,B,N=Math.pow(2,32)-1;(function(){var t;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(t in T)T.hasOwnProperty(t)&&(T[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),M=new Uint8Array([0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),L={video:D,audio:I},P=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),$=new Uint8Array([0,0,0,0,0,0,0,0]),E=new Uint8Array([0,0,0,0,0,0,0,0]),U=E,z=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=E,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),n=function(t){var e,i,n,a=[],s=0;for(e=1;e<arguments.length;e++)a.push(arguments[e]);e=a.length;while(e--)s+=a[e].byteLength;for(i=new Uint8Array(s+8),n=new DataView(i.buffer,i.byteOffset,i.byteLength),n.setUint32(0,i.byteLength),i.set(t,4),e=0,s=8;e<a.length;e++)i.set(a[e],s),s+=a[e].byteLength;return i},a=function(){return n(T.dinf,n(T.dref,P))},s=function(t){return n(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},o=function(){return n(T.ftyp,C,M,C,A)},b=function(t){return n(T.hdlr,L[t])},r=function(t){return n(T.mdat,t)},g=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),n(T.mdhd,e)},_=function(t){return n(T.mdia,g(t),b(t.type),l(t))},c=function(t){return n(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},l=function(t){return n(T.minf,"video"===t.type?n(T.vmhd,O):n(T.smhd,$),a(),y(t))},d=function(t,e){var i=[],a=e.length;while(a--)i[a]=w(e[a]);return n.apply(null,[T.moof,c(t)].concat(i))},u=function(t){var e=t.length,i=[];while(e--)i[e]=m(t[e]);return n.apply(null,[T.moov,h(4294967295)].concat(i).concat(p(t)))},p=function(t){var e=t.length,i=[];while(e--)i[e]=k(t[e]);return n.apply(null,[T.mvex].concat(i))},h=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(T.mvhd,e)},v=function(t){var e,i,a=t.samples||[],s=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)e=a[i].flags,s[i+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return n(T.sdtp,s)},y=function(t){return n(T.stbl,x(t),n(T.stts,B),n(T.stsc,U),n(T.stsz,z),n(T.stco,E))},function(){var t,e;x=function(i){return n(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?t(i):e(i))},t=function(t){var e,i,a=t.sps||[],s=t.pps||[],o=[],r=[];for(e=0;e<a.length;e++)o.push((65280&a[e].byteLength)>>>8),o.push(255&a[e].byteLength),o=o.concat(Array.prototype.slice.call(a[e]));for(e=0;e<s.length;e++)r.push((65280&s[e].byteLength)>>>8),r.push(255&s[e].byteLength),r=r.concat(Array.prototype.slice.call(s[e]));if(i=[T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(T.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([a.length],o,[s.length],r))),n(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var c=t.sarRatio[0],l=t.sarRatio[1];i.push(n(T.pasp,new Uint8Array([(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return n.apply(null,i)},e=function(t){return n(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),s(t))}}(),f=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return n(T.tkhd,e)},w=function(t){var e,i,a,s,o,r,c;return e=n(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),r=Math.floor(t.baseMediaDecodeTime/(N+1)),c=Math.floor(t.baseMediaDecodeTime%(N+1)),i=n(T.tfdt,new Uint8Array([1,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,c>>>24&255,c>>>16&255,c>>>8&255,255&c])),o=92,"audio"===t.type?(a=S(t,o),n(T.traf,e,i,a)):(s=v(t),a=S(t,s.length+o),n(T.traf,e,i,a,s))},m=function(t){return t.duration=t.duration||4294967295,n(T.trak,f(t),_(t))},k=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),n(T.trex,e)},function(){var t,e,i;i=function(t,e){var i=0,n=0,a=0,s=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(a=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,i|n|a|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e=function(t,e){var a,s,o,r,c,l;for(r=t.samples||[],e+=20+16*r.length,o=i(r,e),s=new Uint8Array(o.length+16*r.length),s.set(o),a=o.length,l=0;l<r.length;l++)c=r[l],s[a++]=(4278190080&c.duration)>>>24,s[a++]=(16711680&c.duration)>>>16,s[a++]=(65280&c.duration)>>>8,s[a++]=255&c.duration,s[a++]=(4278190080&c.size)>>>24,s[a++]=(16711680&c.size)>>>16,s[a++]=(65280&c.size)>>>8,s[a++]=255&c.size,s[a++]=c.flags.isLeading<<2|c.flags.dependsOn,s[a++]=c.flags.isDependedOn<<6|c.flags.hasRedundancy<<4|c.flags.paddingValue<<1|c.flags.isNonSyncSample,s[a++]=61440&c.flags.degradationPriority,s[a++]=15&c.flags.degradationPriority,s[a++]=(4278190080&c.compositionTimeOffset)>>>24,s[a++]=(16711680&c.compositionTimeOffset)>>>16,s[a++]=(65280&c.compositionTimeOffset)>>>8,s[a++]=255&c.compositionTimeOffset;return n(T.trun,s)},t=function(t,e){var a,s,o,r,c,l;for(r=t.samples||[],e+=20+8*r.length,o=i(r,e),a=new Uint8Array(o.length+8*r.length),a.set(o),s=o.length,l=0;l<r.length;l++)c=r[l],a[s++]=(4278190080&c.duration)>>>24,a[s++]=(16711680&c.duration)>>>16,a[s++]=(65280&c.duration)>>>8,a[s++]=255&c.duration,a[s++]=(4278190080&c.size)>>>24,a[s++]=(16711680&c.size)>>>16,a[s++]=(65280&c.size)>>>8,a[s++]=255&c.size;return n(T.trun,a)},S=function(i,n){return"audio"===i.type?t(i,n):e(i,n)}}(),t.exports={ftyp:o,mdat:r,moof:d,moov:u,initSegment:function(t){var e,i=o(),n=u(t);return e=new Uint8Array(i.byteLength+n.byteLength),e.set(i),e.set(n,i.byteLength),e}}},"420d":function(t,e,i){t.exports=i("8046").Observable},"42de":function(t,e,i){"use strict";var n;n=function(t,e){var i,a=0,s=16384,o=function(t,e){var i,n=t.position+e;n<t.bytes.byteLength||(i=new Uint8Array(2*n),i.set(t.bytes.subarray(0,t.position),0),t.bytes=i,t.view=new DataView(t.bytes.buffer))},r=n.widthBytes||new Uint8Array("width".length),c=n.heightBytes||new Uint8Array("height".length),l=n.videocodecidBytes||new Uint8Array("videocodecid".length);if(!n.widthBytes){for(i=0;i<"width".length;i++)r[i]="width".charCodeAt(i);for(i=0;i<"height".length;i++)c[i]="height".charCodeAt(i);for(i=0;i<"videocodecid".length;i++)l[i]="videocodecid".charCodeAt(i);n.widthBytes=r,n.heightBytes=c,n.videocodecidBytes=l}switch(this.keyFrame=!1,t){case n.VIDEO_TAG:this.length=16,s*=6;break;case n.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case n.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(s),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=e,this.pts=0,this.dts=0,this.writeBytes=function(t,e,i){var n,a=e||0;i=i||t.byteLength,n=a+i,o(this,i),this.bytes.set(t.subarray(a,n),this.position),this.position+=i,this.length=Math.max(this.length,this.position)},this.writeByte=function(t){o(this,1),this.bytes[this.position]=t,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(t){o(this,2),this.view.setUint16(this.position,t),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(t){return this.bytes[this.length-t]},this.nalUnitSize=function(){return 0===a?0:this.length-(a+4)},this.startNalUnit=function(){if(a>0)throw new Error("Attempted to create new NAL wihout closing the old one");a=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(t){var e,i;this.length===a+4?this.length-=4:a>0&&(e=a+4,i=this.length-e,this.position=a,this.view.setUint32(this.position,i),this.position=this.length,t&&t.push(this.bytes.subarray(e,e+i))),a=0},this.writeMetaDataDouble=function(t,e){var i;if(o(this,2+t.length+9),this.view.setUint16(this.position,t.length),this.position+=2,"width"===t)this.bytes.set(r,this.position),this.position+=5;else if("height"===t)this.bytes.set(c,this.position),this.position+=6;else if("videocodecid"===t)this.bytes.set(l,this.position),this.position+=12;else for(i=0;i<t.length;i++)this.bytes[this.position]=t.charCodeAt(i),this.position++;this.position++,this.view.setFloat64(this.position,e),this.position+=8,this.length=Math.max(this.length,this.position),++a},this.writeMetaDataBoolean=function(t,e){var i;for(o(this,2),this.view.setUint16(this.position,t.length),this.position+=2,i=0;i<t.length;i++)o(this,1),this.bytes[this.position]=t.charCodeAt(i),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,e?1:0),this.position++,this.length=Math.max(this.length,this.position),++a},this.finalize=function(){var t,i;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||e?16:32),this.bytes[12]=e?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=e?0:1;break;case n.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,a),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position;break}return i=this.length-11,this.bytes[1]=(16711680&i)>>>16,this.bytes[2]=(65280&i)>>>8,this.bytes[3]=(255&i)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=n.frameTime(this.bytes),this}},n.AUDIO_TAG=8,n.VIDEO_TAG=9,n.METADATA_TAG=18,n.isAudioFrame=function(t){return n.AUDIO_TAG===t[0]},n.isVideoFrame=function(t){return n.VIDEO_TAG===t[0]},n.isMetaData=function(t){return n.METADATA_TAG===t[0]},n.isKeyFrame=function(t){return n.isVideoFrame(t)?23===t[11]:!!n.isAudioFrame(t)||!!n.isMetaData(t)},n.frameTime=function(t){var e=t[4]<<16;return e|=t[5]<<8,e|=t[6]<<0,e|=t[7]<<24,e},t.exports=n},"447f":function(t,e,i){"use strict";var n,a,s,o=i("5058"),r=i("34f0"),c=i("87bd"),l=i("200d").TimestampRolloverStream,d=188,u=71;n=function(){var t=new Uint8Array(d),e=0;n.prototype.init.call(this),this.push=function(i){var n,a=0,s=d;e?(n=new Uint8Array(i.byteLength+e),n.set(t.subarray(0,e)),n.set(i,e),e=0):n=i;while(s<n.byteLength)n[a]!==u||n[s]!==u?(a++,s++):(this.trigger("data",n.subarray(a,s)),a+=d,s+=d);a<n.byteLength&&(t.set(n.subarray(a),0),e=n.byteLength-a)},this.flush=function(){e===d&&t[0]===u&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}},n.prototype=new o,a=function(){var t,e,i,n;a.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,n){var a=0;n.payloadUnitStartIndicator&&(a+=t[a]+1),"pat"===n.type?e(t.subarray(a),n):i(t.subarray(a),n)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],n.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=n.pmtPid},i=function(t,e){var i,a,s,o;if(1&t[5]){n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=(15&t[1])<<8|t[2],a=3+i-4,s=(15&t[10])<<8|t[11],o=12+s;while(o<a){var r=t[o],l=(31&t[o+1])<<8|t[o+2];r===c.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=l:r===c.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=l:r===c.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][l]=r),o+=5+((15&t[o+3])<<8|t[o+4])}e.programMapTable=n.programMapTable}},this.push=function(e){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&e[1]),i.pid=31&e[1],i.pid<<=8,i.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===i.pid)i.type="pat",t(e.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid){i.type="pmt",t(e.subarray(n),i),this.trigger("data",i);while(this.packetsWaitingForPmt.length)this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,i]):this.processPes_(e,n,i)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=c.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=c.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}},a.prototype=new o,a.STREAM_TYPES={h264:27,adts:15},s=function(){var t,e=this,i={data:[],size:0},n={data:[],size:0},a={data:[],size:0},o=function(t,e){var i;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!==(4&t[6]),i=t[7],192&i&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&i&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},r=function(t,i,n){var a,s=new Uint8Array(t.size),r={type:i},c=0,l=0,d=!1;if(t.data.length&&!(t.size<9)){for(r.trackId=t.data[0].pid,c=0;c<t.data.length;c++)a=t.data[c],s.set(a.data,l),l+=a.data.byteLength;o(s,r),d="video"===i||r.packetLength<=t.size,(n||d)&&(t.size=0,t.data.length=0),d&&e.trigger("data",r)}};s.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var t,e;switch(s.streamType){case c.H264_STREAM_TYPE:t=i,e="video";break;case c.ADTS_STREAM_TYPE:t=n,e="audio";break;case c.METADATA_STREAM_TYPE:t=a,e="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&r(t,e,!0),t.data.push(s),t.size+=s.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};t=s.programMapTable,null!==t.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",i)}})[s.type]()},this.reset=function(){i.size=0,i.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){r(i,"video"),r(n,"audio"),r(a,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},s.prototype=new o;var p={PAT_PID:0,MP2T_PACKET_LENGTH:d,TransportPacketStream:n,TransportParseStream:a,ElementaryStream:s,TimestampRolloverStream:l,CaptionStream:r.CaptionStream,Cea608Stream:r.Cea608Stream,MetadataStream:i("c5ef")};for(var h in c)c.hasOwnProperty(h)&&(p[h]=c[h]);t.exports=p},4846:function(t,e,i){"use strict";var n=i("a672"),a=i.n(n);a.a},"4aeb":function(t,e,i){"use strict";var n=i("f4fe"),a=i.n(n);a.a},"4d34":function(t,e,i){var n=i("e7ad"),a=i("7ddc"),s=i("550e"),o=i("a08d"),r=i("064e").f;t.exports=function(t){var e=a.Symbol||(a.Symbol=s?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:o.f(t)})}},"4fd0":function(t,e,i){"use strict";var n=i("42de"),a=function(t,e,i){var a,s,o,r=new Uint8Array(9),c=new DataView(r.buffer);return t=t||0,e=void 0===e||e,i=void 0===i||i,c.setUint8(0,70),c.setUint8(1,76),c.setUint8(2,86),c.setUint8(3,1),c.setUint8(4,(e?4:0)|(i?1:0)),c.setUint32(5,r.byteLength),t<=0?(s=new Uint8Array(r.byteLength+4),s.set(r),s.set([0,0,0,0],r.byteLength),s):(a=new n(n.METADATA_TAG),a.pts=a.dts=0,a.writeMetaDataDouble("duration",t),o=a.finalize().length,s=new Uint8Array(r.byteLength+o),s.set(r),s.set(c.byteLength,o),s)};t.exports=a},5428:function(t,e,i){var n=i("921e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("107e4b8f",n,!0,{sourceMap:!1,shadowMode:!1})},"543e":function(t,e,i){t.exports=i("447f")},5482:function(t,e,i){var n=i("cd03");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("2b296430",n,!0,{sourceMap:!1,shadowMode:!1})},"5da2":function(t,e,i){"use strict";var n={codecs:i("0560"),mp4:i("8a71"),flv:i("94a2"),mp2t:i("543e"),partial:i("9db0")};n.mp4.tools=i("7aaa"),n.flv.tools=i("6e68"),n.mp2t.tools=i("4cdd"),t.exports=n},"5f20":function(t,e,i){"use strict";var n=i("5058"),a=i("3c33"),s=i("d33a"),o=i("ca76"),r=i("2af4"),c=function(t,e){var i,n,l,d=0,u=[],p=[],h=null,m=null,f=!0;e=e||{},c.prototype.init.call(this),this.push=function(e){s.collectDtsInfo(t,e),"undefined"===typeof t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],r.forEach((function(e){t[e]=i[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,t.pps=[e.data]),u.push(e)},this.processNals_=function(i){var n;u=p.concat(u);while(u.length){if("access_unit_delimiter_rbsp"===u[0].nalUnitType)break;u.shift()}if(0!==u.length){var r=o.groupNalsIntoFrames(u);if(r.length)if(p=r[r.length-1],i&&(r.pop(),r.duration-=p.duration,r.nalCount-=p.length,r.byteLength-=p.byteLength),r.length){if(this.trigger("timelineStartInfo",t.timelineStartInfo),f){if(l=o.groupFramesIntoGops(r),!l[0][0].keyFrame){if(l=o.extendFirstKeyFrame(l),!l[0][0].keyFrame)return u=[].concat.apply([],r).concat(p),void(p=[]);r=[].concat.apply([],l),r.duration=l.duration}f=!1}for(null===h&&(h=r[0].pts,m=h),m+=r.duration,this.trigger("timingInfo",{start:h,end:m}),n=0;n<r.length;n++){var c=r[n];t.samples=o.generateSampleTableForFrame(c);var _=a.mdat(o.concatenateNalDataForFrame(c));s.clearDtsInfo(t),s.collectDtsInfo(t,c),t.baseMediaDecodeTime=s.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps);var g=a.moof(d,[t]);d++,t.initSegment=a.initSegment([t]);var b=new Uint8Array(g.byteLength+_.byteLength);b.set(g),b.set(_,g.byteLength),this.trigger("data",{track:t,boxes:b,sequence:d,videoFrameDts:c.dts,videoFramePts:c.pts})}u=[]}else u=[]}},this.resetTimingAndConfig_=function(){i=void 0,n=void 0,h=null,m=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),p=[],u=[],f=!0,this.trigger("reset")}};c.prototype=new n,t.exports=c},"607c":function(t,e){t.exports="https://cdn-web.weijian.video/static/img/cut_line_time.png"},6266:function(t,e,i){(function(t){function i(t,e){for(var i=0,n=t.length-1;n>=0;n--){var a=t[n];"."===a?t.splice(n,1):".."===a?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,i=0,n=-1,a=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!a){i=e+1;break}}else-1===n&&(a=!1,n=e+1);return-1===n?"":t.slice(i,n)}function a(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}e.resolve=function(){for(var e="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var o=s>=0?arguments[s]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,n="/"===o.charAt(0))}return e=i(a(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===s(t,-1);return t=i(a(t.split("/"),(function(t){return!!t})),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(a(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,i){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var i=t.length-1;i>=0;i--)if(""!==t[i])break;return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var a=n(t.split("/")),s=n(i.split("/")),o=Math.min(a.length,s.length),r=o,c=0;c<o;c++)if(a[c]!==s[c]){r=c;break}var l=[];for(c=r;c<a.length;c++)l.push("..");return l=l.concat(s.slice(r)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,n=-1,a=!0,s=t.length-1;s>=1;--s)if(e=t.charCodeAt(s),47===e){if(!a){n=s;break}}else a=!1;return-1===n?i?"/":".":i&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var i=n(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,i=0,n=-1,a=!0,s=0,o=t.length-1;o>=0;--o){var r=t.charCodeAt(o);if(47!==r)-1===n&&(a=!1,n=o+1),46===r?-1===e?e=o:1!==s&&(s=1):-1!==e&&(s=-1);else if(!a){i=o+1;break}}return-1===e||-1===n||0===s||1===s&&e===n-1&&e===i+1?"":t.slice(e,n)};var s="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i("4c39"))},"6e68":function(t,e,i){"use strict";var n={8:"audio",9:"video",18:"metadata"},a=function(t){return"0x"+("00"+t.toString(16)).slice(-2).toUpperCase()},s=function(t){var e,i=[];while(t.byteLength>0)e=0,i.push(a(t[e++])),t=t.subarray(e);return i.join(" ")},o=function(t,e){var i=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"],n=t[1]&parseInt("01111111",2)<<16|t[2]<<8|t[3];return e=e||{},e.avcPacketType=i[t[0]],e.CompositionTime=t[1]&parseInt("10000000",2)?-n:n,1===t[0]?e.nalUnitTypeRaw=s(t.subarray(4,100)):e.data=s(t.subarray(4)),e},r=function(t,e){var i=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"],n=t[0]&parseInt("00001111",2);return e=e||{},e.frameType=i[(t[0]&parseInt("11110000",2))>>>4],e.codecID=n,7===n?o(t.subarray(1),e):e},c=function(t,e){var i=["AAC Sequence Header","AAC Raw"];return e=e||{},e.aacPacketType=i[t[0]],e.data=s(t.subarray(1)),e},l=function(t,e){var i=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"],n=["5.5-kHz","11-kHz","22-kHz","44-kHz"],a=(t[0]&parseInt("11110000",2))>>>4;return e=e||{},e.soundFormat=i[a],e.soundRate=n[(t[0]&parseInt("00001100",2))>>>2],e.soundSize=(t[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",e.soundType=t[0]&parseInt("00000001",2)?"Stereo":"Mono",10===a?c(t.subarray(1),e):e},d=function(t){return{tagType:n[t[0]],dataSize:t[1]<<16|t[2]<<8|t[3],timestamp:t[7]<<24|t[4]<<16|t[5]<<8|t[6],streamID:t[8]<<16|t[9]<<8|t[10]}},u=function(t){var e=d(t);switch(t[0]){case 8:l(t.subarray(11),e);break;case 9:r(t.subarray(11),e);break;case 18:}return e},p=function(t){var e,i,n=9,a=[];n+=4;while(n<t.byteLength)e=t[n+1]<<16,e|=t[n+2]<<8,e|=t[n+3],e+=11,i=t.subarray(n,n+e),a.push(u(i)),n+=e+4;return a},h=function(t){return JSON.stringify(t,null,2)};t.exports={inspectTag:u,inspect:p,textify:h}},7138:function(t,e,i){var n=i("e80b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("55cdb148",n,!0,{sourceMap:!1,shadowMode:!1})},"754c":function(t,e,i){var n=i("1c1a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("e25fcc56",n,!0,{sourceMap:!1,shadowMode:!1})},7554:function(t,e,i){"use strict";var n,a=i("5058"),s=i("bb0b");n=function(){var t=new Uint8Array,e=0;n.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(i){var n,a,o,r,c=0,l=0;t.length?(r=t.length,t=new Uint8Array(i.byteLength+r),t.set(t.subarray(0,r)),t.set(i,r)):t=i;while(t.length-l>=3)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(255!==(255&t[l])||240!==(240&t[l+1]))l++;else{if(t.length-l<7)break;if(c=s.parseAdtsSize(t,l),l+c>t.length)break;o={type:"audio",data:t.subarray(l,l+c),pts:e,dts:e},this.trigger("data",o),l+=c}else{if(t.length-l<10)break;if(c=s.parseId3TagSize(t,l),l+c>t.length)break;a={type:"timed-metadata",data:t.subarray(l,l+c)},this.trigger("data",a),l+=c}n=t.length-l,t=n>0?t.subarray(l):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}},n.prototype=new a,t.exports=n},"77a0":function(t,e,i){"use strict";var n=i("e513"),a=i.n(n);a.a},"796a":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,"#cutMedicalModel .modal-wrap{max-width:807px}#cutMedicalModel .modal-wrap .modal-body{padding:0 20px}",""])},8046:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var o=function(){return"function"===typeof Symbol},r=function(t){return o()&&Boolean(Symbol[t])},c=function(t){return r(t)?Symbol[t]:"@@"+t};o()&&!r("observable")&&(Symbol.observable=Symbol("observable"));var l=c("iterator"),d=c("observable"),u=c("species");function p(t,e){var i=t[e];if(null!=i){if("function"!==typeof i)throw new TypeError(i+" is not a function");return i}}function h(t){var e=t.constructor;return void 0!==e&&(e=e[u],null===e&&(e=void 0)),void 0!==e?e:S}function m(t){return t instanceof S}function f(t){f.log?f.log(t):setTimeout((function(){throw t}))}function _(t){Promise.resolve().then((function(){try{t()}catch(e){f(e)}}))}function g(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"===typeof e)e();else{var i=p(e,"unsubscribe");i&&i.call(e)}}catch(n){f(n)}}function b(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function v(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var i=0;i<e.length;++i)if(y(t,e[i].type,e[i].value),"closed"===t._state)break}}function y(t,e,i){t._state="running";var n=t._observer;try{var a=p(n,e);switch(e){case"next":a&&a.call(n,i);break;case"error":if(b(t),!a)throw i;a.call(n,i);break;case"complete":b(t),a&&a.call(n);break}}catch(s){f(s)}"closed"===t._state?g(t):"running"===t._state&&(t._state="ready")}function x(t,e,i){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:i}],void _((function(){return v(t)}))):void y(t,e,i);t._queue.push({type:e,value:i})}}var w=function(){function t(e,i){n(this,t),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var a=new k(this);try{this._cleanup=i.call(void 0,a)}catch(s){a.error(s)}"initializing"===this._state&&(this._state="ready")}return s(t,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(b(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),t}(),k=function(){function t(e){n(this,t),this._subscription=e}return s(t,[{key:"next",value:function(t){x(this._subscription,"next",t)}},{key:"error",value:function(t){x(this._subscription,"error",t)}},{key:"complete",value:function(){x(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),S=function(){function t(e){if(n(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}return s(t,[{key:"subscribe",value:function(t){return"object"===typeof t&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new w(t,this._subscriber)}},{key:"forEach",value:function(t){var e=this;return new Promise((function(i,n){if("function"===typeof t)var a=e.subscribe({next:function(e){try{t(e,s)}catch(i){n(i),a.unsubscribe()}},error:n,complete:i});else n(new TypeError(t+" is not a function"));function s(){a.unsubscribe(),i()}}))}},{key:"map",value:function(t){var e=this;if("function"!==typeof t)throw new TypeError(t+" is not a function");var i=h(this);return new i((function(i){return e.subscribe({next:function(e){try{e=t(e)}catch(n){return i.error(n)}i.next(e)},error:function(t){i.error(t)},complete:function(){i.complete()}})}))}},{key:"filter",value:function(t){var e=this;if("function"!==typeof t)throw new TypeError(t+" is not a function");var i=h(this);return new i((function(i){return e.subscribe({next:function(e){try{if(!t(e))return}catch(n){return i.error(n)}i.next(e)},error:function(t){i.error(t)},complete:function(){i.complete()}})}))}},{key:"reduce",value:function(t){var e=this;if("function"!==typeof t)throw new TypeError(t+" is not a function");var i=h(this),n=arguments.length>1,a=!1,s=arguments[1],o=s;return new i((function(i){return e.subscribe({next:function(e){var s=!a;if(a=!0,!s||n)try{o=t(o,e)}catch(r){return i.error(r)}else o=e},error:function(t){i.error(t)},complete:function(){if(!a&&!n)return i.error(new TypeError("Cannot reduce an empty sequence"));i.next(o),i.complete()}})}))}},{key:"concat",value:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var a=h(this);return new a((function(e){var n,s=0;function o(t){n=t.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){s===i.length?(n=void 0,e.complete()):o(a.from(i[s++]))}})}return o(t),function(){n&&(n.unsubscribe(),n=void 0)}}))}},{key:"flatMap",value:function(t){var e=this;if("function"!==typeof t)throw new TypeError(t+" is not a function");var i=h(this);return new i((function(n){var a=[],s=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(r){return n.error(r)}var s=i.from(e).subscribe({next:function(t){n.next(t)},error:function(t){n.error(t)},complete:function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o()}});a.push(s)},error:function(t){n.error(t)},complete:function(){o()}});function o(){s.closed&&0===a.length&&n.complete()}return function(){a.forEach((function(t){return t.unsubscribe()})),s.unsubscribe()}}))}},{key:d,value:function(){return this}}],[{key:"from",value:function(e){var i="function"===typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var n=p(e,d);if(n){var a=n.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return m(a)&&a.constructor===i?a:new i((function(t){return a.subscribe(t)}))}if(r("iterator")&&(n=p(e,l),n))return new i((function(t){_((function(){if(!t.closed){var i=!0,a=!1,s=void 0;try{for(var o,r=n.call(e)[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var c=o.value;if(t.next(c),t.closed)return}}catch(l){a=!0,s=l}finally{try{i||null==r.return||r.return()}finally{if(a)throw s}}t.complete()}}))}));if(Array.isArray(e))return new i((function(t){_((function(){if(!t.closed){for(var i=0;i<e.length;++i)if(t.next(e[i]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var a="function"===typeof this?this:t;return new a((function(t){_((function(){if(!t.closed){for(var e=0;e<i.length;++e)if(t.next(i[e]),t.closed)return;t.complete()}}))}))}},{key:u,get:function(){return this}}]),t}();e.Observable=S,o()&&Object.defineProperty(S,Symbol("extensions"),{value:{symbol:d,hostReportError:f},configurable:!0})},"819f":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,"[data-v-6450c42e] .el-table--enable-row-hover .el-table__body tr:hover>td{background-color:#fff}#VideoClipModel .modal-wrap[data-v-6450c42e]{max-width:807px}#VideoClipModel .modal-wrap .modal-body[data-v-6450c42e]{padding:0 30px}#VideoClipModel .modal-wrap .modal-body .imgDiv[data-v-6450c42e]{width:170px;height:110px;border:1px solid #f0f0f0}#VideoClipModel .modal-wrap .modal-body .imgDiv img[data-v-6450c42e]{height:100%;object-fit:cover;border:none}#VideoClipModel .modal-wrap .modal-body .btnR[data-v-6450c42e]{line-height:0;border-radius:50px}",""])},"853b":function(t,e,i){var n=i("796a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("57dcdce7",n,!0,{sourceMap:!1,shadowMode:!1})},"873b":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return o}));var n=i("26a1"),a=function(t){var e=0,i=0;return t=t||window.event,t.pageX?(e=t.pageX,i=t.pageY):(e=t.clientX+document.body.scrollLeft-document.body.clientLeft,i=t.clientY+document.body.scrollTop-document.body.clientTop),{x:e,y:i}},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,a=arguments.length>3?arguments[3]:void 0,s=document.getElementById(t);s.onmousedown=function(t){var a=t||window.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;var o=parseInt(n["a"](s));o||(o=0);var r=a.clientX-o;if("xy"==e)var l=a.clientY-s.offsetTop;document.onmousemove=function(t){var e=t||window.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;var n=e.clientX-r;n=c(n,i),s.style.transform="translateX("+n+"px)",s.style.top=e.clientY-l+"px"}},document.onmouseup=function(t){var e=t||window.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,document.onmousemove=null,a&&"function"===typeof a&&a()}},o=function(t,e,i,s){var o=document.getElementById(e);o.onmousedown=function(e){var s=e||window.event;s.stopPropagation?s.stopPropagation():s.cancelBubble=!0;var r=parseInt(n["a"](o)),l=a(s).x,d=r,u=o.offsetWidth;document.onmousemove=function(e){var n=e||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;var s=u;if("right"==t){var r=s+=a(n).x-l;r=c(r,i)}if("left"==t){var p=d+(a(n).x-l);p=c(p,i),o.style.transform="translateX("+p+"px)";r=s+=d-p}o.style.width=r+"px"}},document.onmouseup=function(t){var e=t||window.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,document.onmousemove=null,s&&"function"===typeof s&&s()}},r=2,c=function(t,e){var i=Math.min(Math.max(0,t),e);return i<r&&(i=0),e-i<r&&(i=e),i}},"8a71":function(t,e,i){t.exports={generator:i("3c33"),probe:i("ca46"),Transmuxer:i("98b2").Transmuxer,AudioSegmentStream:i("98b2").AudioSegmentStream,VideoSegmentStream:i("98b2").VideoSegmentStream,CaptionParser:i("e6c0")}},"8b73":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".cut-title .icon{width:31px;height:25px}.video-wrap{min-height:360px}.video-wrap .video-preview,.video-wrap .video-windows{width:640px;height:360px}.video-wrap .border-color-black{border-color:#0a0a0a!important}.video-wrap .border-color-text{border-color:#383838!important}.video-wrap .ai-wrap{width:100%}.video-wrap .ai-title{background-color:#232323;border-top:1px solid #000;border-bottom:1px solid #000}.video-wrap .ai-title .input-wrap{position:relative}.video-wrap .ai-title .input-wrap input{height:25px;width:190px;background:transparent;border:1px solid #fff;color:#fff}.video-wrap .ai-title .input-wrap .iconfont{position:absolute;right:4px;top:4px}.video-wrap .ai-content{width:100%}.video-wrap .ai-box{max-height:287px;overflow:hidden;overflow-y:auto}",""])},"8cb7":function(t,e,i){"use strict";var n=i("e46b"),a=i("013f")(1);n(n.P+n.F*!i("a2cd")([].map,!0),"Array",{map:function(t){return a(this,t,arguments[1])}})},"921e":function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".video_clip_list{width:100%;display:flex;flex-direction:column;background:#313131}.video_clip_list .clip-list-wrap{width:100%;font-size:12px;color:#fff;background:#313131}.video_clip_list .clip-list-wrap .progress{position:absolute;left:0;top:0;height:100%;width:100%;background:linear-gradient(270deg,#ff9569 0,#e92758);opacity:.9;z-index:10;display:flex;align-items:center;justify-content:center;color:#fff}.video_clip_list .clip-list-wrap .progress .btn{position:absolute;right:10px;bottom:0}.video_clip_list .clip-list-wrap .clip-list-content{border-bottom:1px solid #000;position:relative;color:#999}.video_clip_list .clip-list-wrap .clip-list-content .delete-btn{position:absolute;right:0;top:0;width:16px;height:16px;line-height:1;text-align:center;font-size:14px;font-weight:200;color:#fff;background-color:#000}.video_clip_list .clip-list-wrap .clip-list-content .delete-btn:hover{color:#c51a1a}.video_clip_list .clip-list-wrap .clip-list-content .upload .btn-style{color:#fff}.video_clip_list .clip-list-wrap .clip-list-content.is-action{background:#4c4c4c;color:#fff}.video_clip_list .clip-list-wrap .clip-list-content .img-box{min-width:70px;min-height:40px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table{margin-right:20px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table .tag-wrap .add-btn{color:#fff}.video_clip_list .clip-list-wrap .clip-list-content .clip-table .tag-wrap .input-text{background:transparent;color:#fff;padding:3px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table .platfrom_list .platfrom_content{margin:0 0 5px 5px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table tr td:first-child{width:40px;word-break:keep-all;vertical-align:top;padding-top:1px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table tr .input-style{width:100%;color:#fff;border-radius:3px;border:1px solid #6a6a6a;background-color:transparent;margin-bottom:10px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table tr input{height:20px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table tr textarea{resize:vertical;height:40px}.video_clip_list .clip-list-wrap .clip-list-content .input-checkout{border-radius:100%;width:20px;height:20px}",""])},9350:function(t,e,i){"use strict";var n=i("853b"),a=i.n(n);a.a},9370:function(t,e,i){var n=i("09b9"),a=i("2ea2").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return a(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?r(t):a(n(t))}},"94a2":function(t,e,i){t.exports={tag:i("42de"),Transmuxer:i("dfd7"),getFlvHeader:i("4fd0")}},"98b2":function(t,e,i){"use strict";var n,a,s,o,r=i("5058"),c=i("3c33"),l=i("ca76"),d=i("0652"),u=i("d33a"),p=i("447f"),h=i("eda6"),m=i("0775"),f=i("0818").H264Stream,_=i("7554"),g=i("bb0b").isLikelyAacData,b=i("eda6").ONE_SECOND_IN_TS,v=i("eb63"),y=i("2af4"),x=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},w=function(t,e,i,n,a,s){var o=i-e,r=n-e,c=a-i;return{start:{dts:t,pts:t+o},end:{dts:t+r,pts:t+c},prependedContentDuration:s,baseMediaDecodeTime:t}};a=function(t,e){var i=[],n=0,s=0,o=0,r=1/0;e=e||{},a.prototype.init.call(this),this.push=function(e){u.collectDtsInfo(t,e),t&&v.forEach((function(i){t[i]=e[i]})),i.push(e)},this.setEarliestDts=function(t){s=t},this.setVideoBaseMediaDecodeTime=function(t){r=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var a,l,p,h,m;0!==i.length?(a=d.trimAdtsFramesByEarliestDts(i,t,s),t.baseMediaDecodeTime=u.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),d.prefixWithSilence(t,a,o,r),t.samples=d.generateSampleTable(a),p=c.mdat(d.concatenateFrameData(a)),i=[],l=c.moof(n,[t]),h=new Uint8Array(l.byteLength+p.byteLength),n++,h.set(l),h.set(p,l.byteLength),u.clearDtsInfo(t),m=Math.ceil(1024*b/t.samplerate),a.length&&this.trigger("timingInfo",{start:a[0].pts,end:a[0].pts+a.length*m}),this.trigger("data",{track:t,boxes:h}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){u.clearDtsInfo(t),i=[],this.trigger("reset")}},a.prototype=new r,n=function(t,e){var i,a,s=0,o=[],r=[];e=e||{},n.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){u.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],y.forEach((function(e){t[e]=i[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||a||(a=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){var i,n,a,d,p,h,m,f,_=0;while(o.length){if("access_unit_delimiter_rbsp"===o[0].nalUnitType)break;o.shift()}if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=l.groupNalsIntoFrames(o),a=l.groupFramesIntoGops(i),a[0][0].keyFrame||(n=this.getGopForFusion_(o[0],t),n?(_=n.duration,a.unshift(n),a.byteLength+=n.byteLength,a.nalCount+=n.nalCount,a.pts=n.pts,a.dts=n.dts,a.duration+=n.duration):a=l.extendFirstKeyFrame(a)),r.length){var g;if(g=e.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a),!g)return this.gopCache_.unshift({gop:a.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");u.clearDtsInfo(t),a=g}u.collectDtsInfo(t,a),t.samples=l.generateSampleTable(a),p=c.mdat(l.concatenateNalData(a)),t.baseMediaDecodeTime=u.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),m=a[0],f=a[a.length-1],this.trigger("segmentTimingInfo",w(t.baseMediaDecodeTime,m.dts,m.pts,f.dts+f.duration,f.pts+f.duration,_)),this.trigger("timingInfo",{start:a[0].pts,end:a[a.length-1].pts+a[a.length-1].duration}),this.gopCache_.unshift({gop:a.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),d=c.moof(s,[t]),h=new Uint8Array(d.byteLength+p.byteLength),s++,h.set(d),h.set(p,d.byteLength),this.trigger("data",{track:t,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,r.length=0,this.trigger("reset")},this.resetStream_=function(){u.clearDtsInfo(t),i=void 0,a=void 0},this.getGopForFusion_=function(e){var i,n,a,s,o,r=45e3,c=1e4,l=1/0;for(o=0;o<this.gopCache_.length;o++)s=this.gopCache_[o],a=s.gop,t.pps&&x(t.pps[0],s.pps[0])&&t.sps&&x(t.sps[0],s.sps[0])&&(a.dts<t.timelineStartInfo.dts||(i=e.dts-a.dts-a.duration,i>=-c&&i<=r&&(!n||l>i)&&(n=s,l=i)));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,i,n,a,s,o,c,l;s=t.byteLength,o=t.nalCount,c=t.duration,e=i=0;while(e<r.length&&i<t.length){if(n=r[e],a=t[i],n.pts===a.pts)break;a.pts>n.pts?e++:(i++,s-=a.byteLength,o-=a.nalCount,c-=a.duration)}return 0===i?t:i===t.length?null:(l=t.slice(i),l.byteLength=s,l.duration=c,l.nalCount=o,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,i,n,a,s,o,c;e=r.length-1,i=t.length-1,s=null,o=!1;while(e>=0&&i>=0){if(n=r[e],a=t[i],n.pts===a.pts){o=!0;break}n.pts>a.pts?e--:(e===r.length-1&&(s=i),i--)}if(!o&&null===s)return null;if(c=o?i:s,0===c)return t;var l=t.slice(c),d=l.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=d.byteLength,l.duration=d.duration,l.nalCount=d.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){r=t}},n.prototype=new r,o=function(t,e){this.numberOfTracks=0,this.metadataStream=e,t=t||{},"undefined"!==typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"===typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}},o.prototype=new r,o.prototype.flush=function(t){var e,i,n,a,s=0,o={captions:[],captionStreams:{},metadata:[],info:{}},r=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(r=this.videoTrack.timelineStartInfo.pts,y.forEach((function(t){o.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts,v.forEach((function(t){o.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=c.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),a=0;a<this.pendingBoxes.length;a++)o.data.set(this.pendingBoxes[a],s),s+=this.pendingBoxes[a].byteLength;for(a=0;a<this.pendingCaptions.length;a++)e=this.pendingCaptions[a],e.startTime=h.metadataTsToSeconds(e.startPts,r,this.keepOriginalTimestamps),e.endTime=h.metadataTsToSeconds(e.endPts,r,this.keepOriginalTimestamps),o.captionStreams[e.stream]=!0,o.captions.push(e);for(a=0;a<this.pendingMetadata.length;a++)i=this.pendingMetadata[a],i.cueTime=h.metadataTsToSeconds(i.pts,r,this.keepOriginalTimestamps),o.metadata.push(i);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),a=0;a<o.captions.length;a++)e=o.captions[a],this.trigger("caption",e);for(a=0;a<o.metadata.length;a++)i=o.metadata[a],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},o.prototype.setRemux=function(t){this.remuxTracks=t},s=function(t){var e,i,r=this,c=!0;s.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="aac",n.metadataStream=new p.MetadataStream,n.aacStream=new _,n.audioTimestampRolloverStream=new p.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new p.TimestampRolloverStream("timed-metadata"),n.adtsStream=new m,n.coalesceStream=new o(t,n.metadataStream),n.headOfPipeline=n.aacStream,n.aacStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.aacStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.metadataStream.on("timestamp",(function(t){n.aacStream.setTimestamp(t.timeStamp)})),n.aacStream.on("data",(function(s){"timed-metadata"!==s.type||n.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new a(i,t),n.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e})})),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var s={};this.transmuxPipeline_=s,s.type="ts",s.metadataStream=new p.MetadataStream,s.packetStream=new p.TransportPacketStream,s.parseStream=new p.TransportParseStream,s.elementaryStream=new p.ElementaryStream,s.timestampRolloverStream=new p.TimestampRolloverStream,s.adtsStream=new m,s.h264Stream=new f,s.captionStream=new p.CaptionStream,s.coalesceStream=new o(t,s.metadataStream),s.headOfPipeline=s.packetStream,s.packetStream.pipe(s.parseStream).pipe(s.elementaryStream).pipe(s.timestampRolloverStream),s.timestampRolloverStream.pipe(s.h264Stream),s.timestampRolloverStream.pipe(s.adtsStream),s.timestampRolloverStream.pipe(s.metadataStream).pipe(s.coalesceStream),s.h264Stream.pipe(s.captionStream).pipe(s.coalesceStream),s.elementaryStream.on("data",(function(o){var c;if("metadata"===o.type){c=o.tracks.length;while(c--)e||"video"!==o.tracks[c].type?i||"audio"!==o.tracks[c].type||(i=o.tracks[c],i.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(e=o.tracks[c],e.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime);e&&!s.videoSegmentStream&&(s.coalesceStream.numberOfTracks++,s.videoSegmentStream=new n(e,t),s.videoSegmentStream.on("timelineStartInfo",(function(e){i&&!t.keepOriginalTimestamps&&(i.timelineStartInfo=e,s.audioSegmentStream.setEarliestDts(e.dts-r.baseMediaDecodeTime))})),s.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),s.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),s.videoSegmentStream.on("baseMediaDecodeTime",(function(t){i&&s.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),s.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),s.h264Stream.pipe(s.videoSegmentStream).pipe(s.coalesceStream)),i&&!s.audioSegmentStream&&(s.coalesceStream.numberOfTracks++,s.audioSegmentStream=new a(i,t),s.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e})}})),s.coalesceStream.on("data",this.trigger.bind(this,"data")),s.coalesceStream.on("id3Frame",(function(t){t.dispatchType=s.metadataStream.dispatchType,r.trigger("id3Frame",t)})),s.coalesceStream.on("caption",this.trigger.bind(this,"caption")),s.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var a=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,u.clearDtsInfo(i),a.audioTimestampRolloverStream&&a.audioTimestampRolloverStream.discontinuity()),e&&(a.videoSegmentStream&&(a.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,u.clearDtsInfo(e),a.captionStream.reset()),a.timestampRolloverStream&&a.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var i=this.transmuxPipeline_;t.remux=e,i&&i.coalesceStream&&i.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(c){var e=g(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),c=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){c=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},s.prototype=new r,t.exports={Transmuxer:s,VideoSegmentStream:n,AudioSegmentStream:a,AUDIO_PROPERTIES:v,VIDEO_PROPERTIES:y,generateVideoSegmentTimingInfo:w}},"9db0":function(t,e,i){t.exports={Transmuxer:i("e28e")}},"9dfa":function(t,e,i){var n=i("8b73");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("16d60d31",n,!0,{sourceMap:!1,shadowMode:!1})},a08d:function(t,e,i){e.f=i("cb3d")},a5b2:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,'.ai-wrap-v2[data-v-d054f982]{position:absolute;z-index:999;width:calc(100vw - 640px);min-height:360px}.ai-box-v2[data-v-d054f982]{position:relative;color:#999}.ai-box-v2 .ocr_box.start_item[data-v-d054f982]{border:1px solid #3485e1;background:transparent;color:#fff!important;position:relative}.ai-box-v2 .ocr_box.max_time_ling[data-v-d054f982]{margin-bottom:21px;border-bottom:1px dashed #fff!important;position:relative}.ai-box-v2 .ocr_box.max_time_ling[data-v-d054f982]:before{display:block;content:"不能超过 15 分钟";font-size:12px;position:absolute;bottom:-16px;left:0;transform:scale(.9);color:#fff}.ai-box-v2 .ocr_box.max_time_ling~.ocr_box .iconfont[data-v-d054f982]{display:none}.ai-box-v2 .tiems-block[data-v-d054f982]{pointer-events:none}.ai-pad[data-v-d054f982]{height:273px;overflow-x:visible;overflow-y:auto;position:relative;scroll-behavior:smooth}.ai-pad.open[data-v-d054f982]{height:calc(100vh - 232px)}.ai-pad .copy-txt[data-v-d054f982]{position:absolute;right:5px;bottom:5px;font-size:14px;z-index:99999;pointer-events:auto}.ai-pad .ai-time-line[data-v-d054f982]{position:absolute;top:1px;height:1px;width:100%;z-index:9;border-bottom:1px dashed #ccc;pointer-events:none}.open-pad[data-v-d054f982]{height:40px;margin-top:auto}',""])},a610:function(t,e,i){"use strict";var n=i("5daa"),a=i("fb68"),s=i("6746"),o=[].slice,r={},c=function(t,e,i){if(!(e in r)){for(var n=[],a=0;a<e;a++)n[a]="a["+a+"]";r[e]=Function("F,a","return new F("+n.join(",")+")")}return r[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=o.call(arguments,1),r=function(){var n=i.concat(o.call(arguments));return this instanceof r?c(e,n.length,n):s(e,n,t)};return a(e.prototype)&&(r.prototype=e.prototype),r}},a672:function(t,e,i){var n=i("819f");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("773d3c05",n,!0,{sourceMap:!1,shadowMode:!1})},a9ed:function(t,e,i){"use strict";var n=i("5482"),a=i.n(n);a.a},aa3d:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,'.time_tool_bar{position:relative;box-shadow:0 5px 10px -5px rgba(0,0,0,.3);z-index:99}.cut-pad-wrap{background:#f7f9fa;box-shadow:inset 0 1px 0 0 #d9d9d9;position:relative}.cut-pad-wrap .cut-side{z-index:9;box-shadow:6px 0 10px -6px rgba(0,0,0,.3)}.cut-pad-wrap .cut-pad{overflow-x:auto;overflow-y:visible;position:relative}.video_play_time_line{position:absolute;top:0;height:100%;width:2px;border-left:1px dashed silver}.time-line-x{position:absolute;top:0;height:calc(100% - 35px);width:2px;background-color:#c51a1a;z-index:99;margin-top:35px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.time-line-x:after{top:-12px;width:10px;height:8px;background-color:#c51a1a}.time-line-x:after,.time-line-x:before{display:block;content:" ";position:absolute;right:-4px}.time-line-x:before{top:-4px;width:0;height:0;border-width:5px;border-style:solid;border-color:#c51a1a transparent transparent transparent}',""])},b574:function(t,e,i){"use strict";var n=i("098c"),a=i.n(n);a.a},c5ef:function(t,e,i){"use strict";var n,a=i("5058"),s=i("87bd"),o=function(t,e,i){var n,a="";for(n=e;n<i;n++)a+="%"+("00"+t[n].toString(16)).slice(-2);return a},r=function(t,e,i){return decodeURIComponent(o(t,e,i))},c=function(t,e,i){return unescape(o(t,e,i))},l=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},d={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=r(t.data,1,e),t.value=r(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=r(t.data,1,e),t.url=r(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=c(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};n=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},a=0,o=[],r=0;if(n.prototype.init.call(this),this.dispatchType=s.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,s,c,u,p;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(r=0,o.length=0),0===o.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(t),r+=t.data.byteLength,1===o.length&&(a=l(t.data.subarray(6,10)),a+=10),!(r<a)){for(e={data:new Uint8Array(a),frames:[],pts:o[0].pts,dts:o[0].dts},u=0;u<a;)e.data.set(o[0].data.subarray(0,a-u),u),u+=o[0].data.byteLength,r-=o[0].data.byteLength,o.shift();n=10,64&e.data[5]&&(n+=4,n+=l(e.data.subarray(10,14)),a-=l(e.data.subarray(16,20)));do{if(s=l(e.data.subarray(n+4,n+8)),s<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(p=String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),c={id:p,data:e.data.subarray(n+10,n+s+10)},c.key=c.id,d[c.id]&&(d[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var h=c.data,m=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;m*=4,m+=3&h[7],c.timeStamp=m,void 0===e.pts&&void 0===e.dts&&(e.pts=c.timeStamp,e.dts=c.timeStamp),this.trigger("timestamp",c)}e.frames.push(c),n+=10,n+=s}while(n<a);this.trigger("data",e)}}},n.prototype=new a,t.exports=n},ca76:function(t,e){var i=function(t){var e,i,n=[],a=[];for(a.byteLength=0,a.nalCount=0,a.duration=0,n.byteLength=0,e=0;e<t.length;e++)i=t[e],"access_unit_delimiter_rbsp"===i.nalUnitType?(n.length&&(n.duration=i.dts-n.dts,a.byteLength+=n.byteLength,a.nalCount+=n.length,a.duration+=n.duration,a.push(n)),n=[i],n.byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return a.length&&(!n.duration||n.duration<=0)&&(n.duration=a[a.length-1].duration),a.byteLength+=n.byteLength,a.nalCount+=n.length,a.duration+=n.duration,a.push(n),a},n=function(t){var e,i,n=[],a=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,a.byteLength=0,a.nalCount=0,a.duration=0,a.pts=t[0].pts,a.dts=t[0].dts,e=0;e<t.length;e++)i=t[e],i.keyFrame?(n.length&&(a.push(n),a.byteLength+=n.byteLength,a.nalCount+=n.nalCount,a.duration+=n.duration),n=[i],n.nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return a.length&&n.duration<=0&&(n.duration=a[a.length-1].duration),a.byteLength+=n.byteLength,a.nalCount+=n.nalCount,a.duration+=n.duration,a.push(n),a},a=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},s=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},o=function(t,e){var i=s();return i.dataOffset=e,i.compositionTimeOffset=t.pts-t.dts,i.duration=t.duration,i.size=4*t.length,i.size+=t.byteLength,t.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},r=function(t,e){var i,n,a,s,r,c=e||0,l=[];for(i=0;i<t.length;i++)for(s=t[i],n=0;n<s.length;n++)r=s[n],a=o(r,c),c+=a.size,l.push(a);return l},c=function(t){var e,i,n,a,s,o,r=0,c=t.byteLength,l=t.nalCount,d=c+4*l,u=new Uint8Array(d),p=new DataView(u.buffer);for(e=0;e<t.length;e++)for(a=t[e],i=0;i<a.length;i++)for(s=a[i],n=0;n<s.length;n++)o=s[n],p.setUint32(r,o.data.byteLength),r+=4,u.set(o.data,r),r+=o.data.byteLength;return u},l=function(t,e){var i,n=e||0,a=[];return i=o(t,n),a.push(i),a},d=function(t){var e,i,n=0,a=t.byteLength,s=t.length,o=a+4*s,r=new Uint8Array(o),c=new DataView(r.buffer);for(e=0;e<t.length;e++)i=t[e],c.setUint32(n,i.data.byteLength),n+=4,r.set(i.data,n),n+=i.data.byteLength;return r};t.exports={groupNalsIntoFrames:i,groupFramesIntoGops:n,extendFirstKeyFrame:a,generateSampleTable:r,concatenateNalData:c,generateSampleTableForFrame:l,concatenateNalDataForFrame:d}},cc4b:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex tag-wrap align-items-center flex-wrap"},[i("ul",{staticClass:"tag-list d-flex"},t._l(t.list,(function(e,n){return i("li",{key:n,staticClass:"mr-8px tags py-2px px-3px"},[i("span",{},[t._v(t._s(e))]),i("i",{staticClass:"iconfont iconclose fz-12px",on:{click:function(e){return t.deletTag(n)}}})])})),0),i("div",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tag_name,expression:"tag_name",modifiers:{trim:!0}}],staticClass:"border-radius border input-text mr-10px",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:t.tag_name},on:{input:function(e){e.target.composing||(t.tag_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("a",{staticClass:"add-btn",on:{click:function(e){return t.addtags()}}},[t._v("添加")]),i("span",{staticClass:"word-break-all"},[t._v("\n      "+t._s(t.list.length)+" / "+t._s(t.MAX_LENGTH)+"\n    ")])])])},a=[],s=(i("163d"),{props:{tag_list:{type:Array,default:function(){return[]}},MAX_LENGTH:{type:Number,default:function(){return 5}}},data:function(){return{list:[],tag_name:""}},components:{},computed:{},watch:{},methods:{setList:function(){this.list=this.list.concat(this.tag_list)},addtags:function(){this.list.length>=this.MAX_LENGTH?this.$store.commit("alertMsg","最多只能添加".concat(this.MAX_LENGTH,"个标签")):this.tag_name&&(this.list.push(this.tag_name),this.tag_name="",this.$emit("getTagList",this.list))},deletTag:function(t){this.list.splice(t,1),this.$emit("getTagList",this.list)}},created:function(){this.setList()},mounted:function(){}}),o=s,r=(i("a9ed"),i("9ca4")),c=Object(r["a"])(o,n,a,!1,null,"393d9da3",null);e["a"]=c.exports},cd03:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".tag-wrap .tag-list .tags[data-v-393d9da3]{background:#f0f0f0;border-radius:1px;color:#333;cursor:pointer;height:20px;display:flex;align-items:center}.tag-wrap .tag-list .tags .iconfont[data-v-393d9da3]{color:#cdcdcd}.tag-wrap .tag-list .tags[data-v-393d9da3]:hover,.tag-wrap .tag-list .tags:hover .iconfont[data-v-393d9da3]{color:#c51a1a}",""])},cec3:function(t,e,i){"use strict";var n=i("754c"),a=i.n(n);a.a},cfd3:function(t,e,i){"use strict";var n=i("5058"),a=i("3c33"),s=i("0652"),o=i("d33a"),r=i("eda6").ONE_SECOND_IN_TS,c=i("eb63"),l=function(t,e){var i=[],n=0,d=0,u=0,p=1/0,h=null,m=null;e=e||{},l.prototype.init.call(this),this.push=function(e){o.collectDtsInfo(t,e),t&&c.forEach((function(i){t[i]=e[i]})),i.push(e)},this.setEarliestDts=function(t){d=t},this.setVideoBaseMediaDecodeTime=function(t){p=t},this.setAudioAppendStart=function(t){u=t},this.processFrames_=function(){var c,l,f,_,g;0!==i.length&&(c=s.trimAdtsFramesByEarliestDts(i,t,d),0!==c.length&&(t.baseMediaDecodeTime=o.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),s.prefixWithSilence(t,c,u,p),t.samples=s.generateSampleTable(c),f=a.mdat(s.concatenateFrameData(c)),i=[],l=a.moof(n,[t]),n++,t.initSegment=a.initSegment([t]),_=new Uint8Array(l.byteLength+f.byteLength),_.set(l),_.set(f,l.byteLength),o.clearDtsInfo(t),null===h&&(m=h=c[0].pts),m+=c.length*(1024*r/t.samplerate),g={start:h},this.trigger("timingInfo",g),this.trigger("data",{track:t,boxes:_})))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:h,end:m}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){o.clearDtsInfo(t),h=null,m=null},this.reset=function(){this.resetTiming_(),i=[],this.trigger("reset")}};l.prototype=new n,t.exports=l},d33a:function(t,e,i){var n=i("eda6").ONE_SECOND_IN_TS,a=function(t,e){"number"===typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"===typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},s=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},o=function(t,e){var i,a,s=t.minSegmentDts;return e||(s-=t.timelineStartInfo.dts),i=t.timelineStartInfo.baseMediaDecodeTime,i+=s,i=Math.max(0,i),"audio"===t.type&&(a=t.samplerate/n,i*=a,i=Math.floor(i)),i};t.exports={clearDtsInfo:s,calculateTrackBaseMediaDecodeTime:o,collectDtsInfo:a}},dfd7:function(t,e,i){"use strict";var n,a,s,o,r,c,l=i("5058"),d=i("42de"),u=i("447f"),p=i("0775"),h=i("0818").H264Stream,m=i("fb74"),f=i("349f");o=function(t,e){"number"===typeof e.pts&&(void 0===t.timelineStartInfo.pts?t.timelineStartInfo.pts=e.pts:t.timelineStartInfo.pts=Math.min(t.timelineStartInfo.pts,e.pts)),"number"===typeof e.dts&&(void 0===t.timelineStartInfo.dts?t.timelineStartInfo.dts=e.dts:t.timelineStartInfo.dts=Math.min(t.timelineStartInfo.dts,e.dts))},r=function(t,e){var i=new d(d.METADATA_TAG);return i.dts=e,i.pts=e,i.writeMetaDataDouble("videocodecid",7),i.writeMetaDataDouble("width",t.width),i.writeMetaDataDouble("height",t.height),i},c=function(t,e){var i,n=new d(d.VIDEO_TAG,!0);for(n.dts=e,n.pts=e,n.writeByte(1),n.writeByte(t.profileIdc),n.writeByte(t.profileCompatibility),n.writeByte(t.levelIdc),n.writeByte(255),n.writeByte(225),n.writeShort(t.sps[0].length),n.writeBytes(t.sps[0]),n.writeByte(t.pps.length),i=0;i<t.pps.length;++i)n.writeShort(t.pps[i].length),n.writeBytes(t.pps[i]);return n},s=function(t){var e,i=[],n=[];s.prototype.init.call(this),this.push=function(e){o(t,e),t&&(t.audioobjecttype=e.audioobjecttype,t.channelcount=e.channelcount,t.samplerate=e.samplerate,t.samplingfrequencyindex=e.samplingfrequencyindex,t.samplesize=e.samplesize,t.extraData=t.audioobjecttype<<11|t.samplingfrequencyindex<<7|t.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),i.push(e)},this.flush=function(){var a,s,o,r=new f;if(0!==i.length){o=-1/0;while(i.length)a=i.shift(),n.length&&a.pts>=n[0]&&(o=n.shift(),this.writeMetaDataTags(r,o)),(t.extraData!==e||a.pts-o>=1e3)&&(this.writeMetaDataTags(r,a.pts),e=t.extraData,o=a.pts),s=new d(d.AUDIO_TAG),s.pts=a.pts,s.dts=a.dts,s.writeBytes(a.data),r.push(s.finalize());n.length=0,e=null,this.trigger("data",{track:t,tags:r.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,i){var n;n=new d(d.METADATA_TAG),n.pts=i,n.dts=i,n.writeMetaDataDouble("audiocodecid",10),n.writeMetaDataBoolean("stereo",2===t.channelcount),n.writeMetaDataDouble("audiosamplerate",t.samplerate),n.writeMetaDataDouble("audiosamplesize",16),e.push(n.finalize()),n=new d(d.AUDIO_TAG,!0),n.pts=i,n.dts=i,n.view.setUint16(n.position,t.extraData),n.position+=2,n.length=Math.max(n.length,n.position),e.push(n.finalize())},this.onVideoKeyFrame=function(t){n.push(t)}},s.prototype=new l,a=function(t){var e,i,n=[];a.prototype.init.call(this),this.finishFrame=function(n,a){if(a){if(e&&t&&t.newMetadata&&(a.keyFrame||0===n.length)){var s=r(e,a.dts).finalize(),o=c(t,a.dts).finalize();s.metaDataTag=o.metaDataTag=!0,n.push(s),n.push(o),t.newMetadata=!1,this.trigger("keyframe",a.dts)}a.endNalUnit(),n.push(a.finalize()),i=null}},this.push=function(e){o(t,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){var a,s=new f;while(n.length){if("access_unit_delimiter_rbsp"===n[0].nalUnitType)break;n.shift()}if(0!==n.length){while(n.length)a=n.shift(),"seq_parameter_set_rbsp"===a.nalUnitType?(t.newMetadata=!0,e=a.config,t.width=e.width,t.height=e.height,t.sps=[a.data],t.profileIdc=e.profileIdc,t.levelIdc=e.levelIdc,t.profileCompatibility=e.profileCompatibility,i.endNalUnit()):"pic_parameter_set_rbsp"===a.nalUnitType?(t.newMetadata=!0,t.pps=[a.data],i.endNalUnit()):"access_unit_delimiter_rbsp"===a.nalUnitType?(i&&this.finishFrame(s,i),i=new d(d.VIDEO_TAG),i.pts=a.pts,i.dts=a.dts):("slice_layer_without_partitioning_rbsp_idr"===a.nalUnitType&&(i.keyFrame=!0),i.endNalUnit()),i.startNalUnit(),i.writeBytes(a.data);i&&this.finishFrame(s,i),this.trigger("data",{track:t,tags:s.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}},a.prototype=new l,n=function(t){var e,i,o,r,c,l,d,f,_,g,b,v,y=this;n.prototype.init.call(this),t=t||{},this.metadataStream=new u.MetadataStream,t.metadataStream=this.metadataStream,e=new u.TransportPacketStream,i=new u.TransportParseStream,o=new u.ElementaryStream,r=new u.TimestampRolloverStream("video"),c=new u.TimestampRolloverStream("audio"),l=new u.TimestampRolloverStream("timed-metadata"),d=new p,f=new h,v=new m(t),e.pipe(i).pipe(o),o.pipe(r).pipe(f),o.pipe(c).pipe(d),o.pipe(l).pipe(this.metadataStream).pipe(v),b=new u.CaptionStream,f.pipe(b).pipe(v),o.on("data",(function(t){var e,i,n;if("metadata"===t.type){e=t.tracks.length;while(e--)"video"===t.tracks[e].type?i=t.tracks[e]:"audio"===t.tracks[e].type&&(n=t.tracks[e]);i&&!_&&(v.numberOfTracks++,_=new a(i),f.pipe(_).pipe(v)),n&&!g&&(v.numberOfTracks++,g=new s(n),d.pipe(g).pipe(v),_&&_.on("keyframe",g.onVideoKeyFrame))}})),this.push=function(t){e.push(t)},this.flush=function(){e.flush()},this.resetCaptions=function(){b.reset()},v.on("data",(function(t){y.trigger("data",t)})),v.on("done",(function(){y.trigger("done")}))},n.prototype=new l,t.exports=n},e28e:function(t,e,i){var n=i("5058"),a=i("447f"),s=i("0560"),o=i("cfd3"),r=i("5f20"),c=i("d33a"),l=i("bb0b").isLikelyAacData,d=i("0775"),u=i("7554"),p=i("eda6"),h=function(t){return t.prototype=new n,t.prototype.init.call(t),t},m=function(t){var e={type:"ts",tracks:{audio:null,video:null},packet:new a.TransportPacketStream,parse:new a.TransportParseStream,elementary:new a.ElementaryStream,timestampRollover:new a.TimestampRolloverStream,adts:new s.Adts,h264:new s.h264.H264Stream,captionStream:new a.CaptionStream,metadataStream:new a.MetadataStream};return e.headOfPipeline=e.packet,e.packet.pipe(e.parse).pipe(e.elementary).pipe(e.timestampRollover),e.timestampRollover.pipe(e.h264),e.h264.pipe(e.captionStream),e.timestampRollover.pipe(e.metadataStream),e.timestampRollover.pipe(e.adts),e.elementary.on("data",(function(i){if("metadata"===i.type){for(var n=0;n<i.tracks.length;n++)e.tracks[i.tracks[n].type]||(e.tracks[i.tracks[n].type]=i.tracks[n],e.tracks[i.tracks[n].type].timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);e.tracks.video&&!e.videoSegmentStream&&(e.videoSegmentStream=new r(e.tracks.video,t),e.videoSegmentStream.on("timelineStartInfo",(function(i){e.tracks.audio&&!t.keepOriginalTimestamps&&e.audioSegmentStream.setEarliestDts(i.dts-t.baseMediaDecodeTime)})),e.videoSegmentStream.on("timingInfo",e.trigger.bind(e,"videoTimingInfo")),e.videoSegmentStream.on("data",(function(t){e.trigger("data",{type:"video",data:t})})),e.videoSegmentStream.on("done",e.trigger.bind(e,"done")),e.videoSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.videoSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.h264.pipe(e.videoSegmentStream)),e.tracks.audio&&!e.audioSegmentStream&&(e.audioSegmentStream=new o(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adts.pipe(e.audioSegmentStream)),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video})}})),e.captionStream.on("data",(function(i){var n;n=e.tracks.video&&e.tracks.video.timelineStartInfo.pts||0,i.startTime=p.metadataTsToSeconds(i.startPts,n,t.keepOriginalTimestamps),i.endTime=p.metadataTsToSeconds(i.endPts,n,t.keepOriginalTimestamps),e.trigger("caption",i)})),e=h(e),e.metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e},f=function(t){var e={type:"aac",tracks:{audio:null},metadataStream:new a.MetadataStream,aacStream:new u,audioRollover:new a.TimestampRolloverStream("audio"),timedMetadataRollover:new a.TimestampRolloverStream("timed-metadata"),adtsStream:new d(!0)};return e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioRollover).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataRollover).pipe(e.metadataStream),e.metadataStream.on("timestamp",(function(t){e.aacStream.setTimestamp(t.timeStamp)})),e.aacStream.on("data",(function(i){"timed-metadata"!==i.type||e.audioSegmentStream||(e.tracks.audio=e.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},e.audioSegmentStream=new o(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video}))})),e=h(e),e.metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e},_=function(t,e){t.on("data",e.trigger.bind(e,"data")),t.on("done",e.trigger.bind(e,"done")),t.on("partialdone",e.trigger.bind(e,"partialdone")),t.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),t.on("audioTimingInfo",e.trigger.bind(e,"audioTimingInfo")),t.on("videoTimingInfo",e.trigger.bind(e,"videoTimingInfo")),t.on("trackinfo",e.trigger.bind(e,"trackinfo")),t.on("id3Frame",(function(i){i.dispatchType=t.metadataStream.dispatchType,i.cueTime=p.videoTsToSeconds(i.pts),e.trigger("id3Frame",i)})),t.on("caption",(function(t){e.trigger("caption",t)}))},g=function(t){var e=null,i=!0;t=t||{},g.prototype.init.call(this),t.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.push=function(n){if(i){var a=l(n);!a||e&&"aac"===e.type?a||e&&"ts"===e.type||(e=m(t),_(e,this)):(e=f(t),_(e,this)),i=!1}e.headOfPipeline.push(n)},this.flush=function(){e&&(i=!0,e.headOfPipeline.flush())},this.partialFlush=function(){e&&e.headOfPipeline.partialFlush()},this.endTimeline=function(){e&&e.headOfPipeline.endTimeline()},this.reset=function(){e&&e.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(i){t.keepOriginalTimestamps||(t.baseMediaDecodeTime=i),e&&(e.tracks.audio&&(e.tracks.audio.timelineStartInfo.dts=void 0,e.tracks.audio.timelineStartInfo.pts=void 0,c.clearDtsInfo(e.tracks.audio),e.audioRollover&&e.audioRollover.discontinuity()),e.tracks.video&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[]),e.tracks.video.timelineStartInfo.dts=void 0,e.tracks.video.timelineStartInfo.pts=void 0,c.clearDtsInfo(e.tracks.video)),e.timestampRollover&&e.timestampRollover.discontinuity())},this.setRemux=function(i){t.remux=i,e&&e.coalesceStream&&e.coalesceStream.setRemux(i)},this.setAudioAppendStart=function(t){e&&e.tracks.audio&&e.audioSegmentStream&&e.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){}};g.prototype=new n,t.exports=g},e2b7:function(t,e,i){"use strict";var n=i("9dfa"),a=i.n(n);a.a},e513:function(t,e,i){var n=i("a5b2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("35acb198",n,!0,{sourceMap:!1,shadowMode:!1})},e697:function(t,e,i){"use strict";var n=i("e46b"),a=i("013f")(5),s="find",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("0e8b")(s)},e712:function(t,e,i){var n=i("e46b");n(n.P,"Function",{bind:i("a610")})},e80b:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,'.video-clip{height:100%;position:relative}.video-clip.pointer-none{pointer-events:none;cursor:not-allowed}.video-clip .cut-box{height:100%;background-color:hsla(0,0%,84.7%,.6);border-radius:3px;border:2px solid #b3b4b5;cursor:pointer;box-sizing:border-box;text-align:center}.video-clip .cut-box.is-action{border:2px solid #4f8ae0;background-color:rgba(106,156,228,.5);z-index:1}.video-clip .cut-box.is-action .left-sign,.video-clip .cut-box.is-action .left-touch,.video-clip .cut-box.is-action .right-sign,.video-clip .cut-box.is-action .right-touch{background-color:#4f8ae0}.video-clip .cut-box.is-action .title-content{color:#333}.video-clip .cut-box .title-content{position:absolute;padding-right:20px;text-align:left;width:100%;top:5px;left:5px;font-size:12px;background:transparent;color:#999;pointer-events:none}.video-clip .cut-box .left-touch:after,.video-clip .cut-box .right-touch:after{position:absolute;display:inline-block;content:" || ";color:#fff;font-size:8px;transform:scale(.7);left:0;top:5px}.video-clip .cut-box .left-touch:after{left:-2px}.video-clip .cut-box .left-sign,.video-clip .cut-box .left-touch,.video-clip .cut-box .right-sign,.video-clip .cut-box .right-touch{background-color:#b3b4b5}.video-clip .cut-box .right-sign{right:-2px}.video-clip .cut-box .left-sign{left:-2px}.video-clip .cut-box .left-sign,.video-clip .cut-box .right-sign{position:absolute;width:5px;height:12px}',""])},eb63:function(t,e){var i=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];t.exports=i},ebc3:function(t,e,i){"use strict";var n=i("064e"),a=i("cc33");t.exports=function(t,e,i){e in t?n.f(t,e,a(0,i)):t[e]=i}},ec25:function(t,e,i){"use strict";var n=i("4ce5"),a=i("e46b"),s=i("008a"),o=i("d0bc"),r=i("2285"),c=i("eafa"),l=i("ebc3"),d=i("f878");a(a.S+a.F*!i("d0c5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,i,a,u,p=s(t),h="function"==typeof this?this:Array,m=arguments.length,f=m>1?arguments[1]:void 0,_=void 0!==f,g=0,b=d(p);if(_&&(f=n(f,m>2?arguments[2]:void 0,2)),void 0==b||h==Array&&r(b))for(e=c(p.length),i=new h(e);e>g;g++)l(i,g,_?f(p[g],g):p[g]);else for(u=b.call(p),i=new h;!(a=u.next()).done;g++)l(i,g,_?o(u,f,[a.value,g],!0):a.value);return i.length=g,i}})},ed85:function(t,e,i){var n=i("aa3d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("5868590e",n,!0,{sourceMap:!1,shadowMode:!1})},ef65:function(t,e,i){var n=i("fbf6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("ad817d4e",n,!0,{sourceMap:!1,shadowMode:!1})},f013:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".video_clip_list{width:100%;display:flex;flex-direction:column;background:#313131}.video_clip_list .clip-list-wrap{width:100%;font-size:12px;color:#fff;background:#313131}.video_clip_list .clip-list-wrap .progress{position:absolute;left:0;top:0;height:100%;width:100%;background:linear-gradient(270deg,#ff9569 0,#e92758);opacity:.9;z-index:10;display:flex;align-items:center;justify-content:center;color:#fff}.video_clip_list .clip-list-wrap .progress .btn{position:absolute;right:10px;bottom:0}.video_clip_list .clip-list-wrap .clip-list-content{border-bottom:1px solid #000;position:relative;color:#999}.video_clip_list .clip-list-wrap .clip-list-content .delete-btn{position:absolute;right:0;top:0;width:16px;height:16px;line-height:1;text-align:center;font-size:14px;font-weight:200;color:#fff;background-color:#000}.video_clip_list .clip-list-wrap .clip-list-content .delete-btn:hover{color:#c51a1a}.video_clip_list .clip-list-wrap .clip-list-content .upload .btn-style{color:#fff}.video_clip_list .clip-list-wrap .clip-list-content.is-action{background:#4c4c4c;color:#fff}.video_clip_list .clip-list-wrap .clip-list-content .img-box{min-width:70px;min-height:40px}.video_clip_list .clip-list-wrap .clip-list-content .img-box img{max-width:70px;height:70px;object-fit:contain}.video_clip_list .clip-list-wrap .clip-list-content .clip-table{margin-right:20px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table .tag-wrap .add-btn{color:#fff}.video_clip_list .clip-list-wrap .clip-list-content .clip-table .tag-wrap .input-text{background:transparent;color:#fff;padding:3px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table .platfrom_list .platfrom_content{margin:0 0 5px 5px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table tr td:first-child{width:40px;word-break:keep-all;vertical-align:top;padding-top:1px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table tr .input-style{width:100%;color:#fff;border-radius:3px;border:1px solid #6a6a6a;background-color:transparent;margin-bottom:10px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table tr input{height:20px}.video_clip_list .clip-list-wrap .clip-list-content .clip-table tr textarea{resize:vertical;height:40px}.video_clip_list .clip-list-wrap .clip-list-content .input-checkout{border-radius:100%;width:20px;height:20px}",""])},f091:function(t,e,i){var n=i("80a9"),a=i("2f77"),s=i("4f18");t.exports=function(t){var e=n(t),i=a.f;if(i){var o,r=i(t),c=s.f,l=0;while(r.length>l)c.call(t,o=r[l++])&&e.push(o)}return e}},f4fe:function(t,e,i){var n=i("f9a4");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("85cb").default;a("b93c9c30",n,!0,{sourceMap:!1,shadowMode:!1})},f9a4:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,".cut-box{position:absolute;top:0;left:0;height:100%;border-radius:8px}.cut-box .cut-container{width:100%;height:100%;cursor:pointer}.cut-box .left-touch,.cut-box .right-touch{width:3px;height:100%;position:absolute;top:0;background:#4f8ae0;cursor:col-resize}.cut-box .left-touch{left:0}.cut-box .right-touch{right:0}",""])},fa4e:function(t,e){var i,n=[33,16,5,32,164,27],a=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],s=function(t){var e=[];while(t--)e.push(0);return e},o=function(t){return Object.keys(t).reduce((function(e,i){return e[i]=new Uint8Array(t[i].reduce((function(t,e){return t.concat(e)}),[])),e}),{})};t.exports=function(){if(!i){var t={96e3:[n,[227,64],s(154),[56]],88200:[n,[231],s(170),[56]],64e3:[n,[248,192],s(240),[56]],48e3:[n,[255,192],s(268),[55,148,128],s(54),[112]],44100:[n,[255,192],s(268),[55,163,128],s(84),[112]],32e3:[n,[255,192],s(268),[55,234],s(226),[112]],24e3:[n,[255,192],s(268),[55,255,128],s(268),[111,112],s(126),[224]],16e3:[n,[255,192],s(268),[55,255,128],s(268),[111,255],s(269),[223,108],s(195),[1,192]],12e3:[a,s(268),[3,127,248],s(268),[6,255,240],s(268),[13,255,224],s(268),[27,253,128],s(259),[56]],11025:[a,s(268),[3,127,248],s(268),[6,255,240],s(268),[13,255,224],s(268),[27,255,192],s(268),[55,175,128],s(108),[112]],8e3:[a,s(268),[3,121,16],s(47),[7]]};i=o(t)}return i}},fb74:function(t,e,i){"use strict";var n=i("5058"),a=function(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,a.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):("video"===t.track.type&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),void("audio"===t.track.type&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)))}};a.prototype=new n,a.prototype.flush=function(t){var e,i,n,a,s={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?a=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts),s.tags.videoTags=this.videoTags,s.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)i=this.pendingCaptions[n],i.startTime=i.startPts-a,i.startTime/=9e4,i.endTime=i.endPts-a,i.endTime/=9e4,s.captionStreams[i.stream]=!0,s.captions.push(i);for(n=0;n<this.pendingMetadata.length;n++)e=this.pendingMetadata[n],e.cueTime=e.pts-a,e.cueTime/=9e4,s.metadata.push(e);s.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",s),this.trigger("done")}},t.exports=a},fbf6:function(t,e,i){e=t.exports=i("2365")(!1),e.push([t.i,'.time-line-content{height:100%;position:relative;overflow-x:auto;overflow-y:visible;scroll-behavior:smooth}.time-line-content .cursor_not{cursor:not-allowed}.time-line-content .time-line-wrap{border-bottom:1px solid #b4b4b4;position:relative}.time-line-content .time-line-wrap .times-ms{position:absolute;top:30%}.time-line-content .time-line-wrap .time-block{position:absolute;height:45px}.time-line-content .time-line-wrap .time-block span{width:1px;height:5px;background-color:#b4b4b4}.time-line-content .time-line-wrap .time-block span.blod{width:1px;height:7px;background-color:#333}.time-line-content .time-line-wrap .times-info-box{position:absolute;height:20px;line-height:20px;background-color:#c51a1a;border-radius:10px;padding:0 5px;color:#fff;top:3px;z-index:2}.time-line-content .video-cut-wrap{position:relative;height:75px}.time-line-content .video-cut-wrap .video-cut-map{display:block;height:75px;white-space:nowrap;cursor:col-resize;z-index:9;margin-bottom:4px;position:relative;border:5px solid #c51a1a;opacity:0;box-sizing:border-box}.time-line-content .video-cut-wrap .video-cut-map .cut-hover{width:calc(100% - 30px);height:100%;margin:0 auto;background-color:hsla(0,0%,100%,0);transition:all .2s}.time-line-content .video-cut-wrap .video-cut-map:focus{background-color:hsla(0,0%,100%,.25)}.time-line-content .video-cut-wrap .video-cut-map:hover .preview-vidoe{opacity:1}.time-line-content .video-cut-wrap .video-cut-map:hover .cut-hover{background-color:hsla(0,0%,100%,.25)}.time-line-content .video-cut-wrap .video-cut-map.op-1{opacity:1}.time-line-content .video-cut-wrap .video-cut-map .cut-touch{width:13px;cursor:col-resize;position:absolute;display:inline-block;height:100%;background-color:#c51a1a;transition:all .3s ease;z-index:3}.time-line-content .video-cut-wrap .video-cut-map .cut-touch:after,.time-line-content .video-cut-wrap .video-cut-map .cut-touch:before{position:absolute;display:inline-block;content:" ";width:1px;height:10px;top:22px;background-color:#fff}.time-line-content .video-cut-wrap .video-cut-map .cut-touch:after{right:3px}.time-line-content .video-cut-wrap .video-cut-map .cut-touch:before{left:3px}.time-line-content .video-cut-wrap .video-cut-map .cut-touch.touch-right{right:-5px}.time-line-content .video-cut-wrap .video-cut-map .cut-touch.touch-left{left:-5px}.time-line-content .video-cut-wrap .video-cut-map .cut-touch-x{width:50px;position:absolute;display:inline-block;height:8px;background-color:#c51a1a;transition:all .3s ease;z-index:3;left:50%;transform:translateX(-50%);border-radius:15px}.time-line-content .video-cut-wrap .video-cut-map .cut-touch-x:after,.time-line-content .video-cut-wrap .video-cut-map .cut-touch-x:before{position:absolute;display:inline-block;content:" ";width:10px;height:1px;top:2px;left:50%;transform:translateX(-50%);background-color:#fff}.time-line-content .video-cut-wrap .video-cut-map .cut-touch-x:after{top:2px}.time-line-content .video-cut-wrap .video-cut-map .cut-touch-x:before{top:4px}.time-line-content .video-cut-wrap .video-cut-map .cut-touch-x.touch-x{top:-10px}.time-line-content .video-cut-wrap .video-cut-img-box{height:67px;position:absolute;top:5px;left:0;background-repeat:repeat}.time-line-content .video-cut-wrap .preview-vidoe{position:absolute;top:-28px;opacity:0;transition:all .5s}',""])}}]);