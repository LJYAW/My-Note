(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-060c7b11"],{"165d":function(e,t,a){(t=a("a1a8")(!1)).push([e.i,"[data-v-ca71836a]:export{menutext:#232323;menuactivetext:#005cff;submenuactivetext:#1d4a97;menubg:#fff;menuhover:#fff;submenubg:#fff;submenuhover:#fff;sidebarwidth:1.82292rem}.add-user[data-v-ca71836a]{width:95%;margin:.3125rem auto}.add-user[data-v-ca71836a]  .el-form-item__content{display:-webkit-box;display:-ms-flexbox;display:flex}.add-user[data-v-ca71836a]  .el-form-item__content .el-input{-webkit-box-flex:1;-ms-flex:1;flex:1}.add-user[data-v-ca71836a]  .el-input__inner{height:.3125rem}.add-user .form[data-v-ca71836a]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:.3125rem}.add-user .form .radio-box[data-v-ca71836a]{margin-top:.05208rem;margin-left:.10417rem}.add-user .form .item-list[data-v-ca71836a]{width:45%;margin-right:.15625rem}.add-user .form .channel[data-v-ca71836a]{width:100%}.add-user .form .channel .tags-box[data-v-ca71836a]{width:calc(100% - 1.02083rem);height:auto;border:.00521rem solid #e4e4e4;cursor:pointer;padding:.05208rem;-webkit-box-sizing:border-box;box-sizing:border-box}.add-user .form .channel .tags-list[data-v-ca71836a]{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.add-user .form .channel .tags-list .tags[data-v-ca71836a]{width:auto;height:.20833rem;padding:0 .05208rem;text-align:center;line-height:.20833rem;background:#eaf1fe;border-radius:.02083rem;font-size:.07292rem;font-weight:400;color:#000;margin-right:.05208rem;margin-top:.05208rem}.add-user .form .channel .tags-list .tags[data-v-ca71836a]:last-child{margin-right:0}.add-user .form .btn[data-v-ca71836a]{width:100%}.add-user .form .btn[data-v-ca71836a]  .el-form-item__content{width:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.add-user .form .btn[data-v-ca71836a]  .el-form-item__content .el-button{width:1.49479rem;height:.3125rem;border-radius:.02083rem;color:#fff;font-size:.125rem}.add-user .form .btn[data-v-ca71836a]  .el-form-item__content .add{background:#5675e8}.add-user .form .btn[data-v-ca71836a]  .el-form-item__content .cale{background:#bfbfbf}",""]),e.exports=t},"5eb1":function(e,t,a){"use strict";function r(e){var t=new Date(e),a=t.getFullYear(),r=t.getMonth()+1,s=t.getDate(),i=t.getHours();e=t.getMinutes(),t=t.getSeconds();return a+"-"+(r=r<10?"0"+r:r)+"-"+(s=s<10?"0"+s:s)+" "+(i=i<10?"0"+i:i)+":"+(e=e<10?"0"+e:e)+":"+(t<10?"0"+t:t)}a.d(t,"a",(function(){return r}))},"6a0d":function(e,t,a){"use strict";a("906b")},"7dec":function(e,t,a){"use strict";a("dbb3");var r={components:{},mixins:[a("b0b3").a],props:{tags:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},created:function(){},mounted:function(){},methods:{save:function(){var e=this.$refs.tagsList.tempTagsList;e=this.forData(e);this.$emit("save",e)},forData:function(e){return e.filter((function(e){return e.falg}))},back:function(){this.$emit("save","")}}};a("6a0d"),a=a("4ac2"),r=Object(a.a)(r,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticClass:"tags-model"},[t("p",{staticClass:"title"},[e._v("选择频道")]),0<e.channelData.length?t("base-tags",{ref:"tagsList",attrs:{"channel-data":e.channelData,tags:e.tags}}):e._e(),t("div",{staticClass:"btn-wrap"},[t("base-btn",{staticClass:"btn",on:{click:function(t){return e.back()}}},[e._v("返回")]),t("base-btn",{staticClass:"btn",on:{click:e.save}},[e._v("确认")])],1)],1)}),[],!1,null,"8ebfdb40",null);t.a=r.exports},"8f22":function(e,t,a){(t=a("a1a8")(!1)).push([e.i,"[data-v-8ebfdb40]:export{menutext:#232323;menuactivetext:#005cff;submenuactivetext:#1d4a97;menubg:#fff;menuhover:#fff;submenubg:#fff;submenuhover:#fff;sidebarwidth:1.82292rem}.tags-model[data-v-8ebfdb40]{width:100%;height:2.96875rem}.tags-model .title[data-v-8ebfdb40]{font-size:.25rem;font-weight:600;text-align:center;color:#000;margin-bottom:.26042rem}.tags-model .btn-wrap[data-v-8ebfdb40]{text-align:center;margin-top:.49479rem}.tags-model .btn-wrap .btn[data-v-8ebfdb40]{width:.78125rem;height:.20833rem;background:#9aacf1;border-radius:.02083rem;border:none;margin-right:.15625rem}",""]),e.exports=t},"906b":function(e,t,a){var r=a("8f22");(r="string"==typeof(r=r.__esModule?r.default:r)?[[e.i,r,""]]:r).locals&&(e.exports=r.locals),(0,a("5925").default)("462d332f",r,!0,{sourceMap:!1,shadowMode:!1})},9302:function(e,t,a){"use strict";var r=a("1c8b"),s=a("692f"),i=a("da10"),n=(a=a("d7e1"),[].join);s=s!=Object,a=a("join",",");r({target:"Array",proto:!0,forced:s||!a},{join:function(e){return n.call(i(this),void 0===e?",":e)}})},9963:function(e,t,a){"use strict";a("e35a"),a("5e9f"),a("6e6d").default.directive("Alphabet",{inserted:function(e){var t=e.querySelector("#valueInput");t.onkeyup=function(e){t.value=t.value.replace(/[^A-Za-z0-9]/g,"")},t.onblur=function(e){t.value=t.value.replace(/[^A-Za-z0-9]/g,"")}}})},a231:function(e,t,a){"use strict";a("b5b6")},aa9a:function(e,t,a){"use strict";a.r(t);var r=a("99a5"),s=a("c420");a("f3dd"),a("0a51"),a("e18c"),a("9b11"),a("96db"),a("af86"),a("98e0");var i=a("c45c");function n(e){return function(e){if(Array.isArray(e))return Object(s.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a("6a61"),a("dbb3"),a("08ba"),a("fe8a"),a("e35a"),a("0d7a"),a("2eeb"),a("9302");var o=a("7dec"),l=a("5eb1"),c=a("b0b3"),u=a("d3b4");a("9963"),c={components:{AddTag:o.a},mixins:[c.a],props:{},data:function(){return{rules:u.a,times:"",dialogVisible:!1,title:"用户信息",uuidList:[],form:{company:"",create_time:"",names:"",endtime:"",passwd:"",saleuser:"",mobile:"",handsflag:"",emails:"",status:"",channelsuuids:"",type:0},list:[],tags:[]}},computed:{id:function(){return this.$route.query.id},setDateTime:function(){return Object(l.a)(1e3*this.times)}},watch:{channelData:function(e){e&&this.compareData(this.list)}},created:function(){this.init()},mounted:function(){},methods:{compareData:function(e){var t;0<e.length&&(t=e,e=n(this.channelData).filter((function(e){return n(t).some((function(t){return t===e.channelsuuid}))})),this.tags=e)},init:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$get("/v1/user/".concat(e.id));case 2:if((a=t.sent).err)return e.$message.error(a.err.msg),t.abrupt("return");t.next=6;break;case 6:r=a.data.data,e.times=r.create_time,Object.keys(e.form).forEach((function(t){e.form[t]=r[t]})),e.form.endtime=1e3*e.form.endtime,e.list=a.data.data.channelsuuids?a.data.data.channelsuuids.split(","):[],e.compareData(a.data.data.channelsuuids?a.data.data.channelsuuids.split(","):[]);case 12:case"end":return t.stop()}}),t)})))()},resetData:function(e){this.dialogVisible=!1,e&&(this.tags=e,this.uuidList=this.tags.map((function(e){return e.channelsuuid})),this.form.channelsuuids=this.uuidList.join(","))},tagsClick:function(){this.dialogVisible=!0},submitData:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$put("/v1/user/".concat(t.id),e);case 2:(r=a.sent).err?t.$message.error(r.err.msg):t.$router.push({path:"/user"});case 4:case"end":return a.stop()}}),a)})))()},edit:function(e){var t=this,a=JSON.parse(JSON.stringify(this.form));a.endtime=parseInt(this.form.endtime/1e3)||"",this.$refs[e].validate((function(e){return!!e&&void t.submitData(a)}))},back:function(){this.$router.push({path:"/user"})}}},a("a231"),a=a("4ac2"),c=Object(a.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-user"},[a("div",{staticClass:"form-title"},[e._v(e._s(e.title))]),a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,inline:!0,rules:e.rules}},[a("el-form-item",{staticClass:"item-list"},[a("span",{staticClass:"form-label"},[e._v("公司名称")]),a("el-input",{attrs:{placeholder:"请输入内容",disabled:""},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1),a("el-form-item",{staticClass:"item-list",attrs:{prop:"setDateTime"}},[a("span",{staticClass:"form-label"},[e._v("开设时间")]),a("el-input",{attrs:{placeholder:"请输入内容",disabled:""},model:{value:e.setDateTime,callback:function(t){e.setDateTime=t},expression:"setDateTime"}})],1),a("el-form-item",{staticClass:"item-list"},[a("span",{staticClass:"form-label"},[e._v("账号信息")]),a("el-input",{attrs:{placeholder:"请输入内容",disabled:""},model:{value:e.form.names,callback:function(t){e.$set(e.form,"names",t)},expression:"form.names"}})],1),a("el-form-item",{staticClass:"item-list",attrs:{prop:"endtime"}},[a("span",{staticClass:"form-label"},[e._v("有效时间")]),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择有效时间","value-format":"timestamp"},model:{value:e.form.endtime,callback:function(t){e.$set(e.form,"endtime",t)},expression:"form.endtime"}})],1),a("el-form-item",{staticClass:"item-list",attrs:{prop:"passwd"}},[a("span",{staticClass:"form-label"},[e._v("密码")]),a("el-input",{directives:[{name:"Alphabet",rawName:"v-Alphabet"}],attrs:{id:"valueInput",placeholder:"请输入内容"},model:{value:e.form.passwd,callback:function(t){e.$set(e.form,"passwd",t)},expression:"form.passwd"}})],1),a("el-form-item",{staticClass:"item-list",attrs:{prop:"saleuser"}},[a("span",{staticClass:"form-label"},[e._v("销售人员")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.saleuser,callback:function(t){e.$set(e.form,"saleuser",t)},expression:"form.saleuser"}})],1),a("el-form-item",{staticClass:"item-list",attrs:{prop:"mobile"}},[a("span",{staticClass:"form-label"},[e._v("绑定手机")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("el-form-item",{staticClass:"item-list",attrs:{prop:"handsflag"}},[a("span",{staticClass:"form-label"},[e._v("加入人工判断")]),a("div",{staticClass:"radio-box"},[a("el-radio",{attrs:{label:1},model:{value:e.form.handsflag,callback:function(t){e.$set(e.form,"handsflag",t)},expression:"form.handsflag"}},[e._v("是")]),a("el-radio",{attrs:{label:2},model:{value:e.form.handsflag,callback:function(t){e.$set(e.form,"handsflag",t)},expression:"form.handsflag"}},[e._v("否")])],1)]),a("el-form-item",{staticClass:"item-list",attrs:{prop:"emails"}},[a("span",{staticClass:"form-label"},[e._v("绑定邮箱")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.emails,callback:function(t){e.$set(e.form,"emails",t)},expression:"form.emails"}})],1),a("el-form-item",{staticClass:"item-list",attrs:{prop:"status"}},[a("span",{staticClass:"form-label"},[e._v("用户状态")]),a("div",{staticClass:"radio-box"},[a("el-radio",{attrs:{label:2},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("已停用")]),a("el-radio",{attrs:{label:1},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("已开启")])],1)]),a("el-form-item",{staticClass:"item-list",attrs:{prop:"type"}},[a("span",{staticClass:"form-label"},[e._v("管理员权限")]),a("div",{staticClass:"radio-box"},[a("el-radio",{attrs:{label:1},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._v("开启")]),a("el-radio",{attrs:{label:0},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._v("关闭")])],1)]),a("el-form-item",{staticClass:"channel",attrs:{prop:"channelsuuids"}},[a("span",{staticClass:"form-label"},[e._v("开通频道")]),a("div",{staticClass:"tags-box",on:{click:function(t){return e.tagsClick()}}},[a("div",{staticClass:"tags-list"},e._l(e.tags,(function(t){return a("div",{key:t.id,staticClass:"tags"},[e._v(e._s(t.channelsname))])})),0)])]),a("el-form-item",{staticClass:"btn"},[a("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(t){return e.edit("form")}}},[e._v("保存")]),a("el-button",{staticClass:"cale",on:{click:function(t){return e.back()}}},[e._v("取消")])],1)],1),a("base-dialog",{attrs:{show:e.dialogVisible,"show-close":!1,width:"800px"},on:{"update:show":function(t){e.dialogVisible=t}}},[a("AddTag",{attrs:{tags:e.tags},on:{save:e.resetData}})],1)],1)}),[],!1,null,"ca71836a",null);t.default=c.exports},b0b3:function(e,t,a){"use strict";var r=a("99a5"),s=a("1c03");a("6a61"),a=a("52c1");t.a={data:function(){return{}},computed:Object(s.a)({},Object(a.b)(["channelData"])),created:function(){this.channelData.length<=0&&this.initChannel()},methods:{initChannel:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={page:1,limit:200,query:""},t.next=3,e.$store.dispatch("channel/getChannelData",a);case 3:case"end":return t.stop()}}),t)})))()}}}},b5b6:function(e,t,a){var r=a("165d");(r="string"==typeof(r=r.__esModule?r.default:r)?[[e.i,r,""]]:r).locals&&(e.exports=r.locals),(0,a("5925").default)("124ade09",r,!0,{sourceMap:!1,shadowMode:!1})},d3b4:function(e,t,a){"use strict";t.a={company:[{required:!0,message:"请输入公司名称",trigger:"blur"},{min:12,message:"最低为12个字符",trigger:"blur"}],names:[{required:!0,message:"请输入账号信息",trigger:"blur"},{min:8,message:"最低8个字符",trigger:"blur"}],create_time:[{required:!0,message:"请选择开设时间",trigger:"change"}],endtime:[{required:!0,message:"请选择有效时间",trigger:"change"}],saleuser:[{required:!0,message:"请输入销售人员",trigger:"blur"}],handsflag:[{required:!0,message:"请选择是否加入人工判断",trigger:"change"}],status:[{required:!0,message:"请选择用户状态",trigger:"change"}],type:[{required:!0,message:"请选择是否开启管理员权限",trigger:"change"}],channelsuuids:[{required:!0,message:"请开通频道",trigger:"blur"}],emails:[{required:!0,message:"请输入邮箱",trigger:"change"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"目前只支持中国大陆的手机号码",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"最低为6个字符",trigger:"blur"}]}}}]);