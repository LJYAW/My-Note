(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a227d7d6"],{"22cd":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group-info"},[n("div",{staticClass:"list"},[e.calssData&&e.calssData.name?n("span",[e._v(e._s(e.calssData.name)+" |")]):e._e(),e.group&&e.group.name?n("div",{staticClass:"group"},[n("span",{staticClass:"name"},[e._v(e._s(e.group.name)+" ")]),e._v(" | "),n("span",[e._v("ID: "+e._s(e.group.category_id)+" | ")]),n("span",[e._v("Â∫ìÂ≠ò: "+e._s(e.group.inventory)+" | ")]),n("span",[e._v("ÂîÆ‰ª∑Ôºö "+e._s(e.group.price))])]):e._e()])])},s=[],i={components:{},props:{calssData:{type:Object,default:function(){}},group:{type:Object,default:function(){}}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},c=i,l=(n("a606"),n("cba8")),r=Object(l["a"])(c,a,s,!1,null,"2793981c",null);t["a"]=r.exports},"5feb":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-up-image"},[n("BaseUpload",{attrs:{"button-name":e.buttonName},on:{getFileUrl:e.getFileUrl}})],1)},s=[],i=n("e9ff"),c=(n("e186"),n("b4fb"),n("053b"),n("d340")),l={name:"UpImg",components:{},props:{size:{type:Object,default:function(){return{width:0,height:0}}},buttonName:{type:String,default:"ÁÇπÂáª‰∏ä‰º†"}},data:function(){return{fileName:""}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{getFileUrl:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,i,l,r,o,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["a"])(e);case 2:s=a.sent,i=s.w,l=s.h,r=n.size,o=r.width,u=r.height,o<1?n.upload(t):i!==o||l!==u?n.$message({message:"ËØ∑‰∏ä‰º†Â∞∫ÂØ∏‰∏∫ ".concat(o,"*").concat(u," ÁöÑÂõæÁâá"),type:"warning"}):n.upload(t);case 7:case"end":return a.stop()}}),a)})))()},upload:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s,i,c,l,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=new FormData,a.append("photo",e),n.next=4,t.$post("/admin/util/upload-img",a);case 4:s=n.sent,i=s.err,c=s.res,i?t.$message.error(i.msg):(l=c.data,r={fileName:e.name,filePath:l.file_path,fileUrl:l.url},t.fileName=e.name,t.$emit("getFileDetails",r));case 8:case"end":return n.stop()}}),n)})))()}}},r=l,o=n("cba8"),u=Object(o["a"])(r,a,s,!1,null,"5dc867de",null);t["a"]=u.exports},"9db3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-swiper"},[n("div",{staticClass:"conteniner"},[n("div",{staticClass:"edit-box banner-edit-wrap"},[n("BaseTitle",{staticClass:"base-title",attrs:{title:"BannerÂÜÖÂÆπÈÖçÁΩÆ"}}),n("div",{staticClass:"banner-title-wrap"},[n("div",{staticClass:"banner-title"},[n("span",{staticClass:"name"},[e._v("BannerËÉåÊôØÂõæ")]),n("span",{staticClass:"size"},[e._v("Â∞∫ÂØ∏Ôºö "+e._s(e.baseSingle.bannerSize.width)+"*"+e._s(e.baseSingle.bannerSize.height)+"px")])]),e._m(0)]),e._l(e.baseSingle.banner,(function(t,a){return n("div",{key:a,staticClass:"data-list"},[n("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(t){return e.deleteBanner(a)}}}),n("div",{staticClass:"btn-card"},[t.bannerFileName?n("div",{staticClass:"group-info-wrap"},[n("div",{staticClass:"banner-name"},[e._v(e._s(t.bannerFileName))]),n("el-button",{staticClass:"delete-btn",attrs:{type:"text"},on:{click:function(t){return e.deleteSingleBanner(a)}}},[e._v("Âà†Èô§")])],1):n("UpImg",{staticClass:"btn",attrs:{size:e.baseSingle.bannerSize},on:{getFileDetails:function(t){return e.getFileDetails(arguments,a)}}})],1),n("div",{staticClass:"btn-card"},[t.calssData&&t.calssData.name?n("div",{staticClass:"group-info-wrap"},[n("GroupInfo",{attrs:{group:t.group,"calss-data":t.calssData}}),n("el-button",{staticClass:"delete-btn",attrs:{type:"text"},on:{click:function(t){return e.deleteSingleGroup("banner",a)}}},[e._v("Âà†Èô§")])],1):n("div",{staticClass:"com-btn btn",on:{click:function(t){return e.selectCom("banner",a)}}},[e._v("ÈÄâÊã©ÂçïÂìÅ")])])],1)})),n("div",{staticClass:"btn-info",on:{click:function(t){return e.addBannerList()}}},[e._v("+ Â¢ûÂä†Banner")]),n("div",{staticClass:"edit-btn-wrap"},[n("el-button",{staticStyle:{width:"100px"},attrs:{type:"danger",size:"mini"},on:{click:e.reloadData}},[e._v("ÂèñÊ∂à")])],1)],2),n("div",{staticClass:"edit-box"},[n("BaseTitle",{staticClass:"base-title",attrs:{title:"ÂçïÂìÅÈÖçÁΩÆ"}}),e._l(e.baseSingle.commodity,(function(t,a){return n("div",{key:a,staticClass:"data-list"},[n("div",{staticClass:"btn-card"},[t.group&&t.group.name?n("div",{staticClass:"group-info-wrap"},[n("GroupInfo",{attrs:{group:t.group,"calss-data":t.calssData}}),n("el-button",{staticClass:"delete-btn",attrs:{type:"text"},on:{click:function(t){return e.deleteSingleGroup("commodity",a)}}},[e._v("Âà†Èô§")])],1):n("div",{staticClass:"com-btn btn",on:{click:function(t){return e.selectCom("commodity",a)}}},[e._v("ÈÄâÊã©ÂçïÂìÅ")])])])})),n("div",{staticClass:"btn-info",on:{click:function(t){return e.addCommodity()}}},[e._v("+ Â¢ûÂä†ÂçïÂìÅ")]),n("div",{staticClass:"edit-btn-wrap"},[n("el-button",{staticStyle:{width:"100px"},attrs:{type:"danger",size:"mini"},on:{click:e.reloadData}},[e._v("ÂèñÊ∂à")])],1)],2)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"banner-title"},[n("span",{staticClass:"name"},[e._v("BannerË∑≥ËΩ¨È°µÈù¢ÈÄâÊã©")]),n("span",{staticClass:"size"},[e._v("ÈÄâÊã©ÂçïÂìÅÊàñÂàÜÁ±ª")])])}],i=n("06c4"),c=(n("ea69"),n("053b"),n("52c1")),l=n("cf95"),r=n("22cd"),o=n("5feb"),u={components:{UpImg:o["a"],GroupInfo:r["a"]},props:{},data:function(){return{baseSingle:{},activeSingle:{key:"",index:-1}}},computed:Object(i["a"])({},Object(c["c"])("bdapp",["appData","singleIndex","appDataCopy"])),watch:{singleIndex:function(e){console.log("üöÄ ~ file: edit-single.vue ~ line 121 ~ singleIndex ~ val",e),this.baseSingle=this.$lodash.cloneDeep(this.appData.Single[this.singleIndex])},baseSingle:{handler:function(e){var t=this.appData;t.Single[this.singleIndex]=e,this.$store.commit("bdapp/SET_ZHONGGU_APP_DATA",t)},deep:!0}},created:function(){this.baseSingle=this.$lodash.cloneDeep(this.appData.Single[this.singleIndex])},beforeDestroy:function(){this.$bus.$off("getActiveClassData")},mounted:function(){var e=this;this.$bus.$on("getActiveClassData",(function(t){console.log("üöÄ ~ file: edit-single.vue ~ line 142 ~ this.$bus.$on ~ data",t),"banner"===e.activeSingle.key||t.checkboxGroup.id?e.setBaseData(t):e.$message.error("ËØ∑ÈÄâÊã©ÂçïÂìÅ")})),this.$bus.$on("delSingle",(function(t){e.baseSingle=e.$lodash.cloneDeep(e.appData.Single[0]),e.$forceUpdate()}))},methods:{deleteSingleBanner:function(e){this.baseSingle.banner[e].bannerSrc="",this.baseSingle.banner[e].bannerUrl="",this.baseSingle.banner[e].bannerFileName=""},deleteBanner:function(e){this.baseSingle.banner.splice(e,1)},deleteSingleGroup:function(e,t){this.$set(this.baseSingle[e][t],"group",{}),this.$set(this.baseSingle[e][t],"calssData",{})},setBaseData:function(e){var t=e.activeClassData,n=e.checkboxGroup,a=this.activeSingle,s=a.key,i=a.index;console.log(this.baseSingle),this.baseSingle.calssData=t,this.baseSingle.title=t.name,this.baseSingle.subTitle=t.intro,this.baseSingle[s][i]["group"]=n,this.baseSingle[s][i]["calssData"]=t},getFileDetails:function(e,t){var n=e[0],a=n.fileName,s=n.filePath,i=n.fileUrl;this.baseSingle.banner[t].bannerSrc=s,this.baseSingle.banner[t].bannerUrl=i,this.baseSingle.banner[t].bannerFileName=a},selectCom:function(e,t){this.activeSingle={key:e,index:t},this.$store.commit("bdapp/SHOW_COM_DIALOG",!0)},addBannerList:function(){var e=5;if(this.baseSingle.banner.length>e)this.$message.warning("ÊúÄÂ§öÊ∑ªÂä†".concat(e,"Êù°"));else{var t=JSON.parse(JSON.stringify(Object(l["c"])().banner[0]));this.baseSingle.banner.push(t)}},addCommodity:function(){var e=8;if(this.baseSingle.commodity.length>e)this.$message.warning("ÊúÄÂ§öÊ∑ªÂä†".concat(e,"Êù°"));else for(var t=this.baseSingle.comType,n=JSON.parse(JSON.stringify(Object(l["c"])(t).commodity)),a=0;a<n.length;a++){var s=n[a];this.baseSingle.commodity.push(s)}},reloadData:function(){var e=this;this.$confirm("Á°ÆËÆ§ÊÅ¢Â§çÂà∞‰πãÂâçÊï∞ÊçÆÂêó","ÊèêÁ§∫",{confirmButtonText:"Á°ÆÂÆö",cancelButtonText:"ÂèñÊ∂à",type:"warning"}).then((function(){e.baseSingle=e.$lodash.cloneDeep(e.appDataCopy.Single[e.singleIndex])}))},save:function(){}}},d=u,p=(n("d4ac"),n("cba8")),b=Object(p["a"])(d,a,s,!1,null,"28d9cc55",null);t["default"]=b.exports},a606:function(e,t,n){"use strict";n("c629")},b90f:function(e,t,n){},c629:function(e,t,n){},d4ac:function(e,t,n){"use strict";n("b90f")}}]);