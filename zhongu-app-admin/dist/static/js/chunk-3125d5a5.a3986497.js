(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3125d5a5"],{"1ac1":function(e,t,a){"use strict";a("8dc2")},"488b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-manage"},[a("base-tab",{attrs:{"tab-arr":e.tabArr}}),a("div",{staticClass:"search-wrap"},[a("el-input",{attrs:{size:"mini",clearable:"",maxlength:30,"suffix-icon":"el-icon-search"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"消费金额"},model:{value:e.form.total_coins,callback:function(t){e.$set(e.form,"total_coins",t)},expression:"form.total_coins"}},[a("el-option",{attrs:{label:"消费金额升序",value:"asc"}}),a("el-option",{attrs:{label:"消费金额降序",value:"desc"}})],1),a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"创建时间"},model:{value:e.form.created_at,callback:function(t){e.$set(e.form,"created_at",t)},expression:"form.created_at"}},[a("el-option",{attrs:{label:"创建时间从近到远",value:"desc"}}),a("el-option",{attrs:{label:"创建时间从远到近",value:"asc"}})],1),a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"账号状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"正常",value:"正常"}}),a("el-option",{attrs:{label:"禁用",value:"禁用"}})],1),a("div",{staticClass:"price-wrap"},[a("el-input-number",{attrs:{controls:!1,size:"mini",placeholder:"价格",max:999999},model:{value:e.form.minPrice,callback:function(t){e.$set(e.form,"minPrice",t)},expression:"form.minPrice"}}),e._v(" 至 "),a("el-input-number",{attrs:{controls:!1,size:"mini",placeholder:"价格",max:999999},model:{value:e.form.maxPrice,callback:function(t){e.$set(e.form,"maxPrice",t)},expression:"form.maxPrice"}})],1),a("base-btn",{staticClass:"confirm-btn",on:{click:e.search}},[e._v("确认")])],1),a("el-table",{attrs:{data:e.tableData,border:"",stripe:"",height:"calc(100vh - 350px)"}},[a("el-table-column",{attrs:{label:"账号信息",prop:"phone"}}),a("el-table-column",{attrs:{label:"用户昵称",prop:"nickname"}}),a("el-table-column",{attrs:{label:"创建日期",prop:"created_at"}}),a("el-table-column",{attrs:{label:"消费金额",prop:"total_coins"}}),a("el-table-column",{attrs:{label:"设备型号",prop:"device"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("base-btn",{attrs:{type:"text"},on:{click:function(a){return e.routerGo(t.row.id)}}},[e._v("查看详情")])]}}])})],1),a("base-pag",{attrs:{page:e.page,limit:e.limit,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],i=a("e9ff"),o=(a("b4fb"),a("9302"),a("e186"),{components:{},props:{},data:function(){return{tabArr:["用户管理"],form:{phone:"",created_at:null,minPrice:void 0,maxPrice:void 0,status:null},page:1,limit:20,total:0,tableData:[],dialogVisible:!1,dialogTitle:"新建用户",userData:{}}},computed:{},watch:{},created:function(){this.getUserData()},mounted:function(){},methods:{getUserData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.setParams(),t.next=3,e.$get("/admin/users",a);case 3:if(r=t.sent,n=r.err,i=r.res,!n){t.next=9;break}return e.$message.error(n.msg),t.abrupt("return");case 9:e.tableData=i.data.list,e.total=i.data.total;case 11:case"end":return t.stop()}}),t)})))()},setParams:function(){return{phone:this.form.phone,status:this.form.status,sort:this.getSortParams(),price:this.getPriceParams(),page:this.page,limit:this.limit}},getSortParams:function(){var e=this,t=["total_coins","created_at"],a=[];return t.forEach((function(t){e.form[t]&&a.push("".concat(t,",").concat(e.form[t]))})),a.join("|")},getPriceParams:function(){return this.form.minPrice||this.form.maxPrice?(this.form.minPrice||"")+"|"+(this.form.maxPrice||""):""},search:function(){this.page=1,this.getUserData()},routerGo:function(e){this.$router.push({path:"user-detail",query:{id:e}})},handleSizeChange:function(e){this.limit=e,this.getUserData()},handleCurrentChange:function(e){this.page=e,this.getUserData()}}}),s=o,l=(a("1ac1"),a("cba8")),c=Object(l["a"])(s,r,n,!1,null,"0b6a6974",null);t["default"]=c.exports},"8dc2":function(e,t,a){},9302:function(e,t,a){"use strict";var r=a("1c8b"),n=a("692f"),i=a("da10"),o=a("d7e1"),s=[].join,l=n!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(i(this),void 0===e?",":e)}})}}]);