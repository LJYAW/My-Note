(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cd9b431"],{"22cd":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"group-info"},[a("div",{staticClass:"list"},[t.calssData&&t.calssData.name?a("span",[t._v(t._s(t.calssData.name)+" |")]):t._e(),t.group&&t.group.name?a("div",{staticClass:"group"},[a("span",{staticClass:"name"},[t._v(t._s(t.group.name)+" ")]),t._v(" | "),a("span",[t._v("ID: "+t._s(t.group.category_id)+" | ")]),a("span",[t._v("库存: "+t._s(t.group.inventory)+" | ")]),a("span",[t._v("售价： "+t._s(t.group.price))])]):t._e()])])},i=[],n={components:{},props:{calssData:{type:Object,default:function(){}},group:{type:Object,default:function(){}}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},c=n,l=(a("a606"),a("cba8")),o=Object(l["a"])(c,e,i,!1,null,"2793981c",null);s["a"]=o.exports},4559:function(t,s,a){"use strict";a("bc0a")},"8ffd":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"select-com-btn"},[a("el-button",{attrs:{type:"text"},on:{click:t.selectCom}},[t._v("选择单品")])],1)},i=[],n=(a("513c"),{name:"SelectBtn",components:{},props:{dataIndex:{type:Number,default:-1}},data:function(){return{}},computed:{showComDialog:function(){return this.$store.state.bdapp.showComDialog}},watch:{},methods:{selectCom:function(){this.$store.commit("bdapp/SHOW_COM_DIALOG",!0)}}}),c=n,l=a("cba8"),o=Object(l["a"])(c,e,i,!1,null,"66ac26b8",null);o.exports},a606:function(t,s,a){"use strict";a("c629")},bc0a:function(t,s,a){},c629:function(t,s,a){},eda4:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"week-upload-wrap"},[a("div",{staticClass:"conteniner"},[a("div",{staticClass:"box edit-box"},[a("BaseTitle",{staticClass:"base-title",attrs:{title:"每周上新内容配置"}}),a("p",{staticClass:"sub-title"},[t._v("单品配置 "),a("span",[t._v(t._s(t.weekUpdate.list.length)+"/"+t._s(t.maxListLength))])]),a("div",{staticClass:"data-list-wrap"},t._l(t.weekUpdate.list,(function(s,e){return a("div",{key:e,staticClass:"data-list"},[a("div",{staticClass:"btn-card"},[t.weekUpdate.list.length>3?a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(s){return t.deleteWeek("list",e)}}}):t._e(),s.group&&s.group.name?a("div",{staticClass:"group-info-wrap"},[a("GroupInfo",{attrs:{group:s.group}}),a("el-button",{staticClass:"delete-btn",attrs:{type:"text"},on:{click:function(s){return t.deleteSingleGroup("list",e)}}},[t._v("删除")])],1):a("div",{staticClass:"com-btn btn",on:{click:function(s){return t.selectCom("list",e)}}},[t._v("选择单品")])],1)])})),0),a("div",{staticClass:"btns"},[a("el-button",{staticClass:"btn-w-100",attrs:{size:"small"},on:{click:t.addSingleList}},[t._v("增加单品")]),a("div",{staticClass:"e-btn"},[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:t.reloadData}},[t._v("取消")])],1)],1)],1),a("div",{staticClass:"box edit-box"},[a("BaseTitle",{staticClass:"base-title",attrs:{title:"分类内容配置"}}),a("p",{staticClass:"sub-title"},[t._v("单品配置 "),a("span",[t._v(t._s(t.weekUpdate.classification.length)+"/"+t._s(t.maxListLength))])]),a("div",{staticClass:"data-list-wrap"},t._l(t.weekUpdate.classification,(function(s,e){return a("div",{key:e,staticClass:"data-list"},[a("div",{staticClass:"btn-card"},[t.weekUpdate.classification.length>3?a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(s){return t.deleteWeek("classification",e)}}}):t._e(),s.calssData&&s.calssData.name?a("div",{staticClass:"group-info-wrap"},[a("div",{staticClass:"list"},[a("span",{staticClass:"name"},[t._v(t._s(s.calssData.name)+" ")]),t._v(" | "),a("span",[t._v("ID: "+t._s(s.calssData.id)+" | ")]),a("span",[t._v("库存: "+t._s(s.calssData.goods_num))])]),a("el-button",{staticClass:"delete-btn",attrs:{type:"text"},on:{click:function(s){return t.deleteSingleGroup("classification",e)}}},[t._v("删除")])],1):a("div",{staticClass:"com-btn btn",on:{click:function(s){return t.selectCom("classification",e)}}},[t._v("选择分类")])],1)])})),0),a("div",{staticClass:"btns"},[a("el-button",{staticClass:"btn-w-100",attrs:{size:"small"},on:{click:t.addClassList}},[t._v("增加分类")]),a("div",{staticClass:"e-btn"},[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:t.reloadData}},[t._v("取消")])],1)],1)],1)])])},i=[],n=a("06c4"),c=(a("ea69"),a("52c1")),l=a("cf95"),o=(a("8ffd"),a("22cd")),r={components:{GroupInfo:o["a"]},props:{},data:function(){return{maxListLength:10,classList:[],weekUpdate:{}}},computed:Object(n["a"])({},Object(c["c"])("bdapp",["appData","appDataCopy"])),watch:{weekUpdate:{handler:function(t){var s=this.appData;s.WeekUpdate=t,this.$store.commit("bdapp/SET_ZHONGGU_APP_DATA",s)},deep:!0}},created:function(){this.weekUpdate=this.$lodash.cloneDeep(this.appData.WeekUpdate)},beforeDestroy:function(){this.$bus.$off("getActiveClassData")},mounted:function(){var t=this;this.$bus.$on("getActiveClassData",(function(s){t.setBaseData(s)}))},methods:{setBaseData:function(t){var s=t.activeClassData,a=t.checkboxGroup,e=this.activeSingle,i=e.key,n=e.index;if("list"===i){if(!t.checkboxGroup.id)return void this.$message.error("请选择单品");!this.weekUpdate[i][n].calssData.id&&(this.weekUpdate[i][n].calssData=s),this.weekUpdate[i][n]["group"]=a}else!this.weekUpdate[i][n].calssData.id&&(this.weekUpdate[i][n].calssData=s)},selectCom:function(t,s){this.activeSingle={key:t,index:s},this.$store.commit("bdapp/SHOW_COM_DIALOG",!0)},addSingleList:function(){if(this.weekUpdate.list.length>this.maxListLength-1)this.$message("最多添加".concat(this.maxListLength,"条"));else{var t=JSON.parse(JSON.stringify(Object(l["d"])().list[0]));this.weekUpdate.list.push(t)}},addClassList:function(){if(this.weekUpdate.classification.length>this.maxListLength-1)this.$message("最多添加".concat(this.maxListLength,"条"));else{var t=JSON.parse(JSON.stringify(Object(l["d"])().classification[0]));this.weekUpdate.classification.push(t)}},deleteSingleGroup:function(t,s){"list"===t?this.$set(this.weekUpdate[t][s],"group",{}):this.$set(this.weekUpdate[t][s],"calssData",{})},deleteWeek:function(t,s){this.weekUpdate[t].splice(s,1)},reloadData:function(){var t=this;this.$confirm("确认恢复到之前数据吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.weekUpdate=t.$lodash.cloneDeep(t.appDataCopy.WeekUpdate)}))},saveBanner:function(){this.$store.dispatch("bdapp/PostZhongguAppData")}}},d=r,p=(a("4559"),a("cba8")),u=Object(p["a"])(d,e,i,!1,null,"3595305d",null);s["default"]=u.exports}}]);